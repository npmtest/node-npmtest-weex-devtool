<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-weex-devtool/node_modules/weex-devtool/frontend/inspector/source_frame_module.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-weex-devtool">npmtest-weex-devtool (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-weex-devtool/node_modules/weex-devtool/frontend/inspector/source_frame_module.js</span></h1>
    <h2>
        
        Statements: <span class="metric">5.55% <small>(522 / 9413)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0.04% <small>(3 / 6797)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0.15% <small>(2 / 1345)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">25.61% <small>(505 / 1972)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-weex-devtool/node_modules/weex-devtool/frontend/inspector/</a> &#187; source_frame_module.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889
890
891
892
893
894
895
896
897
898
899
900
901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916
917
918
919
920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053
1054
1055
1056
1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172
1173
1174
1175
1176
1177
1178
1179
1180
1181
1182
1183
1184
1185
1186
1187
1188
1189
1190
1191
1192
1193
1194
1195
1196
1197
1198
1199
1200
1201
1202
1203
1204
1205
1206
1207
1208
1209
1210
1211
1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234
1235
1236
1237
1238
1239
1240
1241
1242
1243
1244
1245
1246
1247
1248
1249
1250
1251
1252
1253
1254
1255
1256
1257
1258
1259
1260
1261
1262
1263
1264
1265
1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279
1280
1281
1282
1283
1284
1285
1286
1287
1288
1289
1290
1291
1292
1293
1294
1295
1296
1297
1298
1299
1300
1301
1302
1303
1304
1305
1306
1307
1308
1309
1310
1311
1312
1313
1314
1315
1316
1317
1318
1319
1320
1321
1322
1323
1324
1325
1326
1327
1328
1329
1330
1331
1332
1333
1334
1335
1336
1337
1338
1339
1340
1341
1342
1343
1344
1345
1346
1347
1348
1349
1350
1351
1352
1353
1354
1355
1356
1357
1358
1359
1360
1361
1362
1363
1364
1365
1366
1367
1368
1369
1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390
1391
1392
1393
1394
1395
1396
1397
1398
1399
1400
1401
1402
1403
1404
1405
1406
1407
1408
1409
1410
1411
1412
1413
1414
1415
1416
1417
1418
1419
1420
1421
1422
1423
1424
1425
1426
1427
1428
1429
1430
1431
1432
1433
1434
1435
1436
1437
1438
1439
1440
1441
1442
1443
1444
1445
1446
1447
1448
1449
1450
1451
1452
1453
1454
1455
1456
1457
1458
1459
1460
1461
1462
1463
1464
1465
1466
1467
1468
1469
1470
1471
1472
1473
1474
1475
1476
1477
1478
1479
1480
1481
1482
1483
1484
1485
1486
1487
1488
1489
1490
1491
1492
1493
1494
1495
1496
1497
1498
1499
1500
1501
1502
1503
1504
1505
1506
1507
1508
1509
1510
1511
1512
1513
1514
1515
1516
1517
1518
1519
1520
1521
1522
1523
1524
1525
1526
1527
1528
1529
1530
1531
1532
1533
1534
1535
1536
1537
1538
1539
1540
1541
1542
1543
1544
1545
1546
1547
1548
1549
1550
1551
1552
1553
1554
1555
1556
1557
1558
1559
1560
1561
1562
1563
1564
1565
1566
1567
1568
1569
1570
1571
1572
1573
1574
1575
1576
1577
1578
1579
1580
1581
1582
1583
1584
1585
1586
1587
1588
1589
1590
1591
1592
1593
1594
1595
1596
1597
1598
1599
1600
1601
1602
1603
1604
1605
1606
1607
1608
1609
1610
1611
1612
1613
1614
1615
1616
1617
1618
1619
1620
1621
1622
1623
1624
1625
1626
1627
1628
1629
1630
1631
1632
1633
1634
1635
1636
1637
1638
1639
1640
1641
1642
1643
1644
1645
1646
1647
1648
1649
1650
1651
1652
1653
1654
1655
1656
1657
1658
1659
1660
1661
1662
1663
1664
1665
1666
1667
1668
1669
1670
1671
1672
1673
1674
1675
1676
1677
1678
1679
1680
1681
1682
1683
1684
1685
1686
1687
1688
1689
1690
1691
1692
1693
1694
1695
1696
1697
1698
1699
1700
1701
1702
1703
1704
1705
1706
1707
1708
1709
1710
1711
1712
1713
1714
1715
1716
1717
1718
1719
1720
1721
1722
1723
1724
1725
1726
1727
1728
1729
1730
1731
1732
1733
1734
1735
1736
1737
1738
1739
1740
1741
1742
1743
1744
1745
1746
1747
1748
1749
1750
1751
1752
1753
1754
1755
1756
1757
1758
1759
1760
1761
1762
1763
1764
1765
1766
1767
1768
1769
1770
1771
1772
1773
1774
1775
1776
1777
1778
1779
1780
1781
1782
1783
1784
1785
1786
1787
1788
1789
1790
1791
1792
1793
1794
1795
1796
1797
1798
1799
1800
1801
1802
1803
1804
1805
1806
1807
1808
1809
1810
1811
1812
1813
1814
1815
1816
1817
1818
1819
1820
1821
1822
1823
1824
1825
1826
1827
1828
1829
1830
1831
1832
1833
1834
1835
1836
1837
1838
1839
1840
1841
1842
1843
1844
1845
1846
1847
1848
1849
1850
1851
1852
1853
1854
1855
1856
1857
1858
1859
1860
1861
1862
1863
1864
1865
1866
1867
1868
1869
1870
1871
1872
1873
1874
1875
1876
1877
1878
1879
1880
1881
1882
1883
1884
1885
1886
1887
1888
1889
1890
1891
1892
1893
1894
1895
1896
1897
1898
1899
1900
1901
1902
1903
1904
1905
1906
1907
1908
1909
1910
1911
1912
1913
1914
1915
1916
1917
1918
1919
1920
1921
1922
1923
1924
1925
1926
1927
1928
1929
1930
1931
1932
1933
1934
1935
1936
1937
1938
1939
1940
1941
1942
1943
1944
1945
1946
1947
1948
1949
1950
1951
1952
1953
1954
1955
1956
1957
1958
1959
1960
1961
1962
1963
1964
1965
1966
1967
1968
1969
1970
1971
1972
1973
1974
1975
1976
1977
1978
1979
1980
1981
1982</td><td class="line-coverage"><span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">(function(mod){<span class="missing-if-branch" title="else path not taken" >E</span>if(typeof exports=="object"&amp;&amp;typeof module=="object")
module.exports=mod();else <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >return define([],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >this.CodeMirror=mod();}</span>)(function(){"use strict";var gecko=/gecko\/\d/i.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >var ie_upto10=/MSIE \d/.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar ie=ie_upto10||ie_11up;<span class="cstat-no" title="statement not covered" >v</span>ar ie_version=ie&amp;&amp;(ie_upto10?document.documentMode||6:ie_11up[1]);<span class="cstat-no" title="statement not covered" >v</span>ar webkit=/WebKit\//.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar qtwebkit=webkit&amp;&amp;/Qt\/\d+\.\d+/.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar chrome=/Chrome\//.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar presto=/Opera\//.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar safari=/Apple Computer/.test(navigator.vendor);<span class="cstat-no" title="statement not covered" >v</span>ar khtml=/KHTML\//.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar phantom=/PhantomJS/.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar ios=/AppleWebKit/.test(navigator.userAgent)&amp;&amp;/Mobile\/\w+/.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar mobile=ios||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent);<span class="cstat-no" title="statement not covered" >v</span>ar mac=ios||/Mac/.test(navigator.platform);<span class="cstat-no" title="statement not covered" >v</span>ar windows=/win/i.test(navigator.platform);<span class="cstat-no" title="statement not covered" >v</span>ar presto_version=presto&amp;&amp;navigator.userAgent.match(/Version\/(\d*\.\d*)/);<span class="cstat-no" title="statement not covered" >i</span>f(presto_version)<span class="cstat-no" title="statement not covered" >presto_version=Number(presto_version[1]);<span class="cstat-no" title="statement not covered" >i</span></span>f(presto_version&amp;&amp;presto_version&gt;=15){<span class="cstat-no" title="statement not covered" >presto=false;<span class="cstat-no" title="statement not covered" >w</span>ebkit=true;}</span></span>
<span class="cstat-no" title="statement not covered" >var flipCtrlCmd=mac&amp;&amp;(qtwebkit||presto&amp;&amp;(presto_version==null||presto_version&lt;12.11));<span class="cstat-no" title="statement not covered" >v</span>ar captureRightClick=gecko||(ie&amp;&amp;ie_version&gt;=9);<span class="cstat-no" title="statement not covered" >v</span>ar sawReadOnlySpans=false,sawCollapsedSpans=false;<span class="fstat-no" title="function not covered" >f</span>unction CodeMirror(place,options){<span class="cstat-no" title="statement not covered" ></span>if(!(this instanceof CodeMirror))<span class="cstat-no" title="statement not covered" >return new CodeMirror(place,options);<span class="cstat-no" title="statement not covered" >t</span></span>his.options=options=options?copyObj(options):{};<span class="cstat-no" title="statement not covered" >c</span>opyObj(defaults,options,false);<span class="cstat-no" title="statement not covered" >s</span>etGuttersForLineNumbers(options);<span class="cstat-no" title="statement not covered" >v</span>ar doc=options.value;<span class="cstat-no" title="statement not covered" >i</span>f(typeof doc=="string")<span class="cstat-no" title="statement not covered" >doc=new Doc(doc,options.mode);<span class="cstat-no" title="statement not covered" >t</span></span>his.doc=doc;<span class="cstat-no" title="statement not covered" >v</span>ar display=this.display=new Display(place,doc);<span class="cstat-no" title="statement not covered" >d</span>isplay.wrapper.CodeMirror=this;<span class="cstat-no" title="statement not covered" >u</span>pdateGutters(this);<span class="cstat-no" title="statement not covered" >t</span>hemeChanged(this);<span class="cstat-no" title="statement not covered" >i</span>f(options.lineWrapping)</span>
<span class="cstat-no" title="statement not covered" >this.display.wrapper.className+=" CodeMirror-wrap";<span class="cstat-no" title="statement not covered" >i</span>f(options.autofocus&amp;&amp;!mobile)<span class="cstat-no" title="statement not covered" >focusInput(this);<span class="cstat-no" title="statement not covered" >i</span></span>nitScrollbars(this);<span class="cstat-no" title="statement not covered" >t</span>his.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,draggingText:false,highlight:new Delayed(),keySeq:null};<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version&lt;11)<span class="cstat-no" title="statement not covered" >setTimeout(bind(resetInput,this,true),20);<span class="cstat-no" title="statement not covered" >r</span></span>egisterEventHandlers(this);<span class="cstat-no" title="statement not covered" >e</span>nsureGlobalHandlers();<span class="cstat-no" title="statement not covered" >s</span>tartOperation(this);<span class="cstat-no" title="statement not covered" >t</span>his.curOp.forceUpdate=true;<span class="cstat-no" title="statement not covered" >a</span>ttachDoc(this,doc);<span class="cstat-no" title="statement not covered" >i</span>f((options.autofocus&amp;&amp;!mobile)||activeElt()==display.input)</span>
<span class="cstat-no" title="statement not covered" >setTimeout(bind(onFocus,this),20);e</span>lse
<span class="cstat-no" title="statement not covered" >onBlur(this);<span class="cstat-no" title="statement not covered" >f</span>or(var opt in optionHandlers)<span class="cstat-no" title="statement not covered" >if(optionHandlers.hasOwnProperty(opt))</span></span>
<span class="cstat-no" title="statement not covered" >optionHandlers[opt](this,options[opt],Init);<span class="cstat-no" title="statement not covered" >m</span>aybeUpdateLineNumberWidth(this);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;initHooks.length;++i)<span class="cstat-no" title="statement not covered" >initHooks[i](this);<span class="cstat-no" title="statement not covered" >e</span></span>ndOperation(this);<span class="cstat-no" title="statement not covered" >i</span>f(webkit&amp;&amp;options.lineWrapping&amp;&amp;getComputedStyle(display.lineDiv).textRendering=="optimizelegibility")</span>
<span class="cstat-no" title="statement not covered" >display.lineDiv.style.textRendering="auto";}</span>
<span class="fstat-no" title="function not covered" >function Display(place,doc){<span class="cstat-no" title="statement not covered" ></span>var d=this;<span class="cstat-no" title="statement not covered" >v</span>ar input=d.input=elt("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");<span class="cstat-no" title="statement not covered" >i</span>f(webkit)<span class="cstat-no" title="statement not covered" >input.style.width="1000px";e</span>lse <span class="cstat-no" title="statement not covered" >input.setAttribute("wrap","off");<span class="cstat-no" title="statement not covered" >i</span></span>f(ios)<span class="cstat-no" title="statement not covered" >input.style.border="1px solid black";<span class="cstat-no" title="statement not covered" >i</span></span>nput.setAttribute("autocorrect","off");<span class="cstat-no" title="statement not covered" >i</span>nput.setAttribute("autocapitalize","off");<span class="cstat-no" title="statement not covered" >i</span>nput.setAttribute("spellcheck","false");<span class="cstat-no" title="statement not covered" >d</span>.inputDiv=elt("div",[input],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");<span class="cstat-no" title="statement not covered" >d</span>.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler");<span class="cstat-no" title="statement not covered" >d</span>.scrollbarFiller.setAttribute("not-content","true");<span class="cstat-no" title="statement not covered" >d</span>.gutterFiller=elt("div",null,"CodeMirror-gutter-filler");<span class="cstat-no" title="statement not covered" >d</span>.gutterFiller.setAttribute("not-content","true");<span class="cstat-no" title="statement not covered" >d</span>.lineDiv=elt("div",null,"CodeMirror-code");<span class="cstat-no" title="statement not covered" >d</span>.selectionDiv=elt("div",null,null,"position: relative; z-index: 1");<span class="cstat-no" title="statement not covered" >d</span>.cursorDiv=elt("div",null,"CodeMirror-cursors");<span class="cstat-no" title="statement not covered" >d</span>.measure=elt("div",null,"CodeMirror-measure");<span class="cstat-no" title="statement not covered" >d</span>.lineMeasure=elt("div",null,"CodeMirror-measure");<span class="cstat-no" title="statement not covered" >d</span>.lineSpace=elt("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");<span class="cstat-no" title="statement not covered" >d</span>.mover=elt("div",[elt("div",[d.lineSpace],"CodeMirror-lines")],null,"position: relative");<span class="cstat-no" title="statement not covered" >d</span>.sizer=elt("div",[d.mover],"CodeMirror-sizer");<span class="cstat-no" title="statement not covered" >d</span>.sizerWidth=null;<span class="cstat-no" title="statement not covered" >d</span>.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;");<span class="cstat-no" title="statement not covered" >d</span>.gutters=elt("div",null,"CodeMirror-gutters");<span class="cstat-no" title="statement not covered" >d</span>.lineGutter=null;<span class="cstat-no" title="statement not covered" >d</span>.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll");<span class="cstat-no" title="statement not covered" >d</span>.scroller.setAttribute("tabIndex","-1");<span class="cstat-no" title="statement not covered" >d</span>.wrapper=elt("div",[d.inputDiv,d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror");<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version&lt;8){<span class="cstat-no" title="statement not covered" >d.gutters.style.zIndex=-1;<span class="cstat-no" title="statement not covered" >d</span>.scroller.style.paddingRight=0;}</span></span>
<span class="cstat-no" title="statement not covered" >if(ios)<span class="cstat-no" title="statement not covered" >input.style.width="0px";<span class="cstat-no" title="statement not covered" >i</span></span>f(!webkit)<span class="cstat-no" title="statement not covered" >d.scroller.draggable=true;<span class="cstat-no" title="statement not covered" >i</span></span>f(khtml){<span class="cstat-no" title="statement not covered" >d.inputDiv.style.height="1px";<span class="cstat-no" title="statement not covered" >d</span>.inputDiv.style.position="absolute";}</span></span>
<span class="cstat-no" title="statement not covered" >if(place){<span class="cstat-no" title="statement not covered" >if(place.appendChild)<span class="cstat-no" title="statement not covered" >place.appendChild(d.wrapper);e</span>lse <span class="cstat-no" title="statement not covered" >place(d.wrapper);}</span></span></span>
<span class="cstat-no" title="statement not covered" >d.viewFrom=d.viewTo=doc.first;<span class="cstat-no" title="statement not covered" >d</span>.reportedViewFrom=d.reportedViewTo=doc.first;<span class="cstat-no" title="statement not covered" >d</span>.view=[];<span class="cstat-no" title="statement not covered" >d</span>.renderedView=null;<span class="cstat-no" title="statement not covered" >d</span>.externalMeasured=null;<span class="cstat-no" title="statement not covered" >d</span>.viewOffset=0;<span class="cstat-no" title="statement not covered" >d</span>.lastWrapHeight=d.lastWrapWidth=0;<span class="cstat-no" title="statement not covered" >d</span>.updateLineNumbers=null;<span class="cstat-no" title="statement not covered" >d</span>.nativeBarWidth=d.barHeight=d.barWidth=0;<span class="cstat-no" title="statement not covered" >d</span>.scrollbarsClipped=false;<span class="cstat-no" title="statement not covered" >d</span>.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;<span class="cstat-no" title="statement not covered" >d</span>.prevInput="";<span class="cstat-no" title="statement not covered" >d</span>.alignWidgets=false;<span class="cstat-no" title="statement not covered" >d</span>.pollingFast=false;<span class="cstat-no" title="statement not covered" >d</span>.poll=new Delayed();<span class="cstat-no" title="statement not covered" >d</span>.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;<span class="cstat-no" title="statement not covered" >d</span>.inaccurateSelection=false;<span class="cstat-no" title="statement not covered" >d</span>.maxLine=null;<span class="cstat-no" title="statement not covered" >d</span>.maxLineLength=0;<span class="cstat-no" title="statement not covered" >d</span>.maxLineChanged=false;<span class="cstat-no" title="statement not covered" >d</span>.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;<span class="cstat-no" title="statement not covered" >d</span>.shift=false;<span class="cstat-no" title="statement not covered" >d</span>.selForContextMenu=null;}</span>
<span class="fstat-no" title="function not covered" >function loadMode(cm){<span class="cstat-no" title="statement not covered" ></span>cm.doc.mode=CodeMirror.getMode(cm.options,cm.doc.modeOption);<span class="cstat-no" title="statement not covered" >r</span>esetModeState(cm);}</span>
<span class="fstat-no" title="function not covered" >function resetModeState(cm){<span class="cstat-no" title="statement not covered" ></span>cm.doc.iter(<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(line.stateAfter)<span class="cstat-no" title="statement not covered" >line.stateAfter=null;<span class="cstat-no" title="statement not covered" >i</span></span>f(line.styles)<span class="cstat-no" title="statement not covered" >line.styles=null;}</span></span>);<span class="cstat-no" title="statement not covered" >c</span>m.doc.frontier=cm.doc.first;<span class="cstat-no" title="statement not covered" >s</span>tartWorker(cm,100);<span class="cstat-no" title="statement not covered" >c</span>m.state.modeGen++;<span class="cstat-no" title="statement not covered" >i</span>f(cm.curOp)<span class="cstat-no" title="statement not covered" >regChange(cm);}</span></span>
<span class="fstat-no" title="function not covered" >function wrappingChanged(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.options.lineWrapping){<span class="cstat-no" title="statement not covered" >addClass(cm.display.wrapper,"CodeMirror-wrap");<span class="cstat-no" title="statement not covered" >c</span>m.display.sizer.style.minWidth="";<span class="cstat-no" title="statement not covered" >c</span>m.display.sizerWidth=null;}</span>else{<span class="cstat-no" title="statement not covered" >rmClass(cm.display.wrapper,"CodeMirror-wrap");<span class="cstat-no" title="statement not covered" >f</span>indMaxLine(cm);}</span></span>
<span class="cstat-no" title="statement not covered" >estimateLineHeights(cm);<span class="cstat-no" title="statement not covered" >r</span>egChange(cm);<span class="cstat-no" title="statement not covered" >c</span>learCaches(cm);<span class="cstat-no" title="statement not covered" >s</span>etTimeout(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>updateScrollbars(cm);}</span>,100);}</span>
<span class="fstat-no" title="function not covered" >function estimateHeight(cm){<span class="cstat-no" title="statement not covered" ></span>var th=textHeight(cm.display),wrapping=cm.options.lineWrapping;<span class="cstat-no" title="statement not covered" >v</span>ar perLine=wrapping&amp;&amp;Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);<span class="cstat-no" title="statement not covered" >r</span>eturn <span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(lineIsHidden(cm.doc,line))<span class="cstat-no" title="statement not covered" >return 0;<span class="cstat-no" title="statement not covered" >v</span></span>ar widgetsHeight=0;<span class="cstat-no" title="statement not covered" >i</span>f(line.widgets)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;line.widgets.length;i++){<span class="cstat-no" title="statement not covered" >if(line.widgets[i].height)<span class="cstat-no" title="statement not covered" >widgetsHeight+=line.widgets[i].height;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(wrapping)</span>
<span class="cstat-no" title="statement not covered" >return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th;e</span>lse
<span class="cstat-no" title="statement not covered" >return widgetsHeight+th;}</span>;}
<span class="fstat-no" title="function not covered" >function estimateLineHeights(cm){<span class="cstat-no" title="statement not covered" ></span>var doc=cm.doc,est=estimateHeight(cm);<span class="cstat-no" title="statement not covered" >d</span>oc.iter(<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var estHeight=est(line);<span class="cstat-no" title="statement not covered" >i</span>f(estHeight!=line.height)<span class="cstat-no" title="statement not covered" >updateLineHeight(line,estHeight);}</span></span>);}</span>
<span class="fstat-no" title="function not covered" >function themeChanged(cm){<span class="cstat-no" title="statement not covered" ></span>cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+</span>
cm.options.theme.replace(/(^|\s)\s*/g," cm-s-");<span class="cstat-no" title="statement not covered" >clearCaches(cm);}</span>
<span class="fstat-no" title="function not covered" >function guttersChanged(cm){<span class="cstat-no" title="statement not covered" ></span>updateGutters(cm);<span class="cstat-no" title="statement not covered" >r</span>egChange(cm);<span class="cstat-no" title="statement not covered" >s</span>etTimeout(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>alignHorizontally(cm);}</span>,20);}</span>
<span class="fstat-no" title="function not covered" >function updateGutters(cm){<span class="cstat-no" title="statement not covered" ></span>var gutters=cm.display.gutters,specs=cm.options.gutters;<span class="cstat-no" title="statement not covered" >r</span>emoveChildren(gutters);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;specs.length;++i){<span class="cstat-no" title="statement not covered" >var gutterClass=specs[i];<span class="cstat-no" title="statement not covered" >v</span>ar gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));<span class="cstat-no" title="statement not covered" >i</span>f(gutterClass=="CodeMirror-linenumbers"){<span class="cstat-no" title="statement not covered" >cm.display.lineGutter=gElt;<span class="cstat-no" title="statement not covered" >g</span>Elt.style.width=(cm.display.lineNumWidth||1)+"px";}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >gutters.style.display=i?"":"none";<span class="cstat-no" title="statement not covered" >u</span>pdateGutterSpace(cm);}</span>
<span class="fstat-no" title="function not covered" >function updateGutterSpace(cm){<span class="cstat-no" title="statement not covered" ></span>var width=cm.display.gutters.offsetWidth;<span class="cstat-no" title="statement not covered" >c</span>m.display.sizer.style.marginLeft=width+"px";}</span>
<span class="fstat-no" title="function not covered" >function lineLength(line){<span class="cstat-no" title="statement not covered" ></span>if(line.height==0)<span class="cstat-no" title="statement not covered" >return 0;<span class="cstat-no" title="statement not covered" >v</span></span>ar len=line.text.length,merged,cur=line;<span class="cstat-no" title="statement not covered" >w</span>hile(merged=collapsedSpanAtStart(cur)){<span class="cstat-no" title="statement not covered" >var found=merged.find(0,true);<span class="cstat-no" title="statement not covered" >c</span>ur=found.from.line;<span class="cstat-no" title="statement not covered" >l</span>en+=found.from.ch-found.to.ch;}</span></span>
<span class="cstat-no" title="statement not covered" >cur=line;<span class="cstat-no" title="statement not covered" >w</span>hile(merged=collapsedSpanAtEnd(cur)){<span class="cstat-no" title="statement not covered" >var found=merged.find(0,true);<span class="cstat-no" title="statement not covered" >l</span>en-=cur.text.length-found.from.ch;<span class="cstat-no" title="statement not covered" >c</span>ur=found.to.line;<span class="cstat-no" title="statement not covered" >l</span>en+=cur.text.length-found.to.ch;}</span></span>
<span class="cstat-no" title="statement not covered" >return len;}</span>
<span class="fstat-no" title="function not covered" >function findMaxLine(cm){<span class="cstat-no" title="statement not covered" ></span>var d=cm.display,doc=cm.doc;<span class="cstat-no" title="statement not covered" >d</span>.maxLine=getLine(doc,doc.first);<span class="cstat-no" title="statement not covered" >d</span>.maxLineLength=lineLength(d.maxLine);<span class="cstat-no" title="statement not covered" >d</span>.maxLineChanged=true;<span class="cstat-no" title="statement not covered" >d</span>oc.iter(<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var len=lineLength(line);<span class="cstat-no" title="statement not covered" >i</span>f(len&gt;d.maxLineLength){<span class="cstat-no" title="statement not covered" >d.maxLineLength=len;<span class="cstat-no" title="statement not covered" >d</span>.maxLine=line;}</span>}</span>);}</span>
<span class="fstat-no" title="function not covered" >function setGuttersForLineNumbers(options){<span class="cstat-no" title="statement not covered" ></span>var found=indexOf(options.gutters,"CodeMirror-linenumbers");<span class="cstat-no" title="statement not covered" >i</span>f(found==-1&amp;&amp;options.lineNumbers){<span class="cstat-no" title="statement not covered" >options.gutters=options.gutters.concat(["CodeMirror-linenumbers"]);}</span>else <span class="cstat-no" title="statement not covered" >if(found&gt;-1&amp;&amp;!options.lineNumbers){<span class="cstat-no" title="statement not covered" >options.gutters=options.gutters.slice(0);<span class="cstat-no" title="statement not covered" >o</span>ptions.gutters.splice(found,1);}</span>}</span></span>
<span class="fstat-no" title="function not covered" >function measureForScrollbars(cm){<span class="cstat-no" title="statement not covered" ></span>var d=cm.display,gutterW=d.gutters.offsetWidth;<span class="cstat-no" title="statement not covered" >v</span>ar docH=Math.round(cm.doc.height+paddingVert(cm.display));<span class="cstat-no" title="statement not covered" >r</span>eturn{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW};}</span>
<span class="fstat-no" title="function not covered" >function NativeScrollbars(place,scroll,cm){<span class="cstat-no" title="statement not covered" ></span>this.cm=cm;<span class="cstat-no" title="statement not covered" >v</span>ar vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");<span class="cstat-no" title="statement not covered" >v</span>ar horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");<span class="cstat-no" title="statement not covered" >p</span>lace(vert);<span class="cstat-no" title="statement not covered" >p</span>lace(horiz);<span class="cstat-no" title="statement not covered" >o</span>n(vert,"scroll",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(vert.clientHeight)<span class="cstat-no" title="statement not covered" >scroll(vert.scrollTop,"vertical");}</span></span>);<span class="cstat-no" title="statement not covered" >o</span>n(horiz,"scroll",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(horiz.clientWidth)<span class="cstat-no" title="statement not covered" >scroll(horiz.scrollLeft,"horizontal");}</span></span>);<span class="cstat-no" title="statement not covered" >t</span>his.checkedOverlay=false;<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version&lt;8)<span class="cstat-no" title="statement not covered" >this.horiz.style.minHeight=this.vert.style.minWidth="18px";}</span></span>
<span class="cstat-no" title="statement not covered" >NativeScrollbars.prototype=copyObj({update:<span class="fstat-no" title="function not covered" >function(measure){<span class="cstat-no" title="statement not covered" ></span>var needsH=measure.scrollWidth&gt;measure.clientWidth+1;<span class="cstat-no" title="statement not covered" >v</span>ar needsV=measure.scrollHeight&gt;measure.clientHeight+1;<span class="cstat-no" title="statement not covered" >v</span>ar sWidth=measure.nativeBarWidth;<span class="cstat-no" title="statement not covered" >i</span>f(needsV){<span class="cstat-no" title="statement not covered" >this.vert.style.display="block";<span class="cstat-no" title="statement not covered" >t</span>his.vert.style.bottom=needsH?sWidth+"px":"0";<span class="cstat-no" title="statement not covered" >v</span>ar totalHeight=measure.viewHeight-(needsH?sWidth:0);<span class="cstat-no" title="statement not covered" >t</span>his.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px";}</span>else{<span class="cstat-no" title="statement not covered" >this.vert.style.display="";<span class="cstat-no" title="statement not covered" >t</span>his.vert.firstChild.style.height="0";}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(needsH){<span class="cstat-no" title="statement not covered" >this.horiz.style.display="block";<span class="cstat-no" title="statement not covered" >t</span>his.horiz.style.right=needsV?sWidth+"px":"0";<span class="cstat-no" title="statement not covered" >t</span>his.horiz.style.left=measure.barLeft+"px";<span class="cstat-no" title="statement not covered" >v</span>ar totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);<span class="cstat-no" title="statement not covered" >t</span>his.horiz.firstChild.style.width=(measure.scrollWidth-measure.clientWidth+totalWidth)+"px";}</span>else{<span class="cstat-no" title="statement not covered" >this.horiz.style.display="";<span class="cstat-no" title="statement not covered" >t</span>his.horiz.firstChild.style.width="0";}</span></span>
<span class="cstat-no" title="statement not covered" >if(!this.checkedOverlay&amp;&amp;measure.clientHeight&gt;0){<span class="cstat-no" title="statement not covered" >if(sWidth==0)<span class="cstat-no" title="statement not covered" >this.overlayHack();<span class="cstat-no" title="statement not covered" >t</span></span>his.checkedOverlay=true;}</span></span>
<span class="cstat-no" title="statement not covered" >return{right:needsV?sWidth:0,bottom:needsH?sWidth:0};}</span>,setScrollLeft:<span class="fstat-no" title="function not covered" >function(pos){<span class="cstat-no" title="statement not covered" ></span>if(this.horiz.scrollLeft!=pos)<span class="cstat-no" title="statement not covered" >this.horiz.scrollLeft=pos;}</span></span>,setScrollTop:<span class="fstat-no" title="function not covered" >function(pos){<span class="cstat-no" title="statement not covered" ></span>if(this.vert.scrollTop!=pos)<span class="cstat-no" title="statement not covered" >this.vert.scrollTop=pos;}</span></span>,overlayHack:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var w=mac&amp;&amp;!mac_geMountainLion?"12px":"18px";<span class="cstat-no" title="statement not covered" >t</span>his.horiz.style.minHeight=this.vert.style.minWidth=w;<span class="cstat-no" title="statement not covered" >v</span>ar self=this;<span class="cstat-no" title="statement not covered" >v</span>ar barMouseDown=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>if(e_target(e)!=self.vert&amp;&amp;e_target(e)!=self.horiz)</span></span>
<span class="cstat-no" title="statement not covered" >operation(self.cm,onMouseDown)(e);}</span>;<span class="cstat-no" title="statement not covered" >on(this.vert,"mousedown",barMouseDown);<span class="cstat-no" title="statement not covered" >o</span>n(this.horiz,"mousedown",barMouseDown);}</span>,clear:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var parent=this.horiz.parentNode;<span class="cstat-no" title="statement not covered" >p</span>arent.removeChild(this.horiz);<span class="cstat-no" title="statement not covered" >p</span>arent.removeChild(this.vert);}</span>},NativeScrollbars.prototype);<span class="fstat-no" title="function not covered" >function NullScrollbars(){</span>}
<span class="cstat-no" title="statement not covered" >NullScrollbars.prototype=copyObj({update:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{bottom:0,right:0};}</span>,setScrollLeft:<span class="fstat-no" title="function not covered" >function(){</span>},setScrollTop:<span class="fstat-no" title="function not covered" >function(){</span>},clear:<span class="fstat-no" title="function not covered" >function(){</span>}},NullScrollbars.prototype);<span class="cstat-no" title="statement not covered" >C</span>odeMirror.scrollbarModel={"native":NativeScrollbars,"null":NullScrollbars};<span class="fstat-no" title="function not covered" >f</span>unction initScrollbars(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.display.scrollbars){<span class="cstat-no" title="statement not covered" >cm.display.scrollbars.clear();<span class="cstat-no" title="statement not covered" >i</span>f(cm.display.scrollbars.addClass)</span></span>
<span class="cstat-no" title="statement not covered" >rmClass(cm.display.wrapper,cm.display.scrollbars.addClass);}</span>
<span class="cstat-no" title="statement not covered" >cm.display.scrollbars=new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](<span class="fstat-no" title="function not covered" >function(node){<span class="cstat-no" title="statement not covered" ></span>cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);<span class="cstat-no" title="statement not covered" >o</span>n(node,"mousedown",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(cm.state.focused)<span class="cstat-no" title="statement not covered" >setTimeout(bind(focusInput,cm),0);}</span></span>);<span class="cstat-no" title="statement not covered" >n</span>ode.setAttribute("not-content","true");}</span>,<span class="fstat-no" title="function not covered" >function(pos,axis){<span class="cstat-no" title="statement not covered" ></span>if(axis=="horizontal")<span class="cstat-no" title="statement not covered" >setScrollLeft(cm,pos);e</span>lse <span class="cstat-no" title="statement not covered" >setScrollTop(cm,pos);}</span></span>,cm);<span class="cstat-no" title="statement not covered" >i</span>f(cm.display.scrollbars.addClass)</span>
<span class="cstat-no" title="statement not covered" >addClass(cm.display.wrapper,cm.display.scrollbars.addClass);}</span>
<span class="fstat-no" title="function not covered" >function updateScrollbars(cm,measure){<span class="cstat-no" title="statement not covered" ></span>if(!measure)<span class="cstat-no" title="statement not covered" >measure=measureForScrollbars(cm);<span class="cstat-no" title="statement not covered" >v</span></span>ar startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;<span class="cstat-no" title="statement not covered" >u</span>pdateScrollbarsInner(cm,measure);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;4&amp;&amp;startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){<span class="cstat-no" title="statement not covered" >if(startWidth!=cm.display.barWidth&amp;&amp;cm.options.lineWrapping)</span></span>
<span class="cstat-no" title="statement not covered" >updateHeightsInViewport(cm);<span class="cstat-no" title="statement not covered" >u</span>pdateScrollbarsInner(cm,measureForScrollbars(cm));<span class="cstat-no" title="statement not covered" >s</span>tartWidth=cm.display.barWidth;<span class="cstat-no" title="statement not covered" >s</span>tartHeight=cm.display.barHeight;}</span>}
<span class="fstat-no" title="function not covered" >function updateScrollbarsInner(cm,measure){<span class="cstat-no" title="statement not covered" ></span>var d=cm.display;<span class="cstat-no" title="statement not covered" >v</span>ar sizes=d.scrollbars.update(measure);<span class="cstat-no" title="statement not covered" >d</span>.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px";<span class="cstat-no" title="statement not covered" >d</span>.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px";<span class="cstat-no" title="statement not covered" >i</span>f(sizes.right&amp;&amp;sizes.bottom){<span class="cstat-no" title="statement not covered" >d.scrollbarFiller.style.display="block";<span class="cstat-no" title="statement not covered" >d</span>.scrollbarFiller.style.height=sizes.bottom+"px";<span class="cstat-no" title="statement not covered" >d</span>.scrollbarFiller.style.width=sizes.right+"px";}</span>else <span class="cstat-no" title="statement not covered" >d.scrollbarFiller.style.display="";<span class="cstat-no" title="statement not covered" >i</span></span>f(sizes.bottom&amp;&amp;cm.options.coverGutterNextToScrollbar&amp;&amp;cm.options.fixedGutter){<span class="cstat-no" title="statement not covered" >d.gutterFiller.style.display="block";<span class="cstat-no" title="statement not covered" >d</span>.gutterFiller.style.height=sizes.bottom+"px";<span class="cstat-no" title="statement not covered" >d</span>.gutterFiller.style.width=measure.gutterWidth+"px";}</span>else <span class="cstat-no" title="statement not covered" >d.gutterFiller.style.display="";}</span></span>
<span class="fstat-no" title="function not covered" >function visibleLines(display,doc,viewport){<span class="cstat-no" title="statement not covered" ></span>var top=viewport&amp;&amp;viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;<span class="cstat-no" title="statement not covered" >t</span>op=Math.floor(top-paddingTop(display));<span class="cstat-no" title="statement not covered" >v</span>ar bottom=viewport&amp;&amp;viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;<span class="cstat-no" title="statement not covered" >v</span>ar from=lineAtHeight(doc,top),to=lineAtHeight(doc,bottom);<span class="cstat-no" title="statement not covered" >i</span>f(viewport&amp;&amp;viewport.ensure){<span class="cstat-no" title="statement not covered" >var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;<span class="cstat-no" title="statement not covered" >i</span>f(ensureFrom&lt;from){<span class="cstat-no" title="statement not covered" >from=ensureFrom;<span class="cstat-no" title="statement not covered" >t</span>o=lineAtHeight(doc,heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight);}</span>else <span class="cstat-no" title="statement not covered" >if(Math.min(ensureTo,doc.lastLine())&gt;=to){<span class="cstat-no" title="statement not covered" >from=lineAtHeight(doc,heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);<span class="cstat-no" title="statement not covered" >t</span>o=ensureTo;}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >return{from:from,to:Math.max(to,from+1)};}</span>
<span class="fstat-no" title="function not covered" >function alignHorizontally(cm){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display,view=display.view;<span class="cstat-no" title="statement not covered" >i</span>f(!display.alignWidgets&amp;&amp;(!display.gutters.firstChild||!cm.options.fixedGutter))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;<span class="cstat-no" title="statement not covered" >v</span>ar gutterW=display.gutters.offsetWidth,left=comp+"px";<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;view.length;i++)<span class="cstat-no" title="statement not covered" >if(!view[i].hidden){<span class="cstat-no" title="statement not covered" >if(cm.options.fixedGutter&amp;&amp;view[i].gutter)</span></span></span>
<span class="cstat-no" title="statement not covered" >view[i].gutter.style.left=left;<span class="cstat-no" title="statement not covered" >v</span>ar align=view[i].alignable;<span class="cstat-no" title="statement not covered" >i</span>f(align)<span class="cstat-no" title="statement not covered" >for(var j=0;j&lt;align.length;j++)</span></span>
<span class="cstat-no" title="statement not covered" >align[j].style.left=left;}</span>
<span class="cstat-no" title="statement not covered" >if(cm.options.fixedGutter)</span>
<span class="cstat-no" title="statement not covered" >display.gutters.style.left=(comp+gutterW)+"px";}</span>
<span class="fstat-no" title="function not covered" >function maybeUpdateLineNumberWidth(cm){<span class="cstat-no" title="statement not covered" ></span>if(!cm.options.lineNumbers)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span></span>ar doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;<span class="cstat-no" title="statement not covered" >i</span>f(last.length!=display.lineNumChars){<span class="cstat-no" title="statement not covered" >var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt"));<span class="cstat-no" title="statement not covered" >v</span>ar innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;<span class="cstat-no" title="statement not covered" >d</span>isplay.lineGutter.style.width="";<span class="cstat-no" title="statement not covered" >d</span>isplay.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding);<span class="cstat-no" title="statement not covered" >d</span>isplay.lineNumWidth=display.lineNumInnerWidth+padding;<span class="cstat-no" title="statement not covered" >d</span>isplay.lineNumChars=display.lineNumInnerWidth?last.length:-1;<span class="cstat-no" title="statement not covered" >d</span>isplay.lineGutter.style.width=display.lineNumWidth+"px";<span class="cstat-no" title="statement not covered" >u</span>pdateGutterSpace(cm);<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span></span>
<span class="cstat-no" title="statement not covered" >return false;}</span>
<span class="fstat-no" title="function not covered" >function lineNumberFor(options,i){<span class="cstat-no" title="statement not covered" ></span>return String(options.lineNumberFormatter(i+options.firstLineNumber));}</span>
<span class="fstat-no" title="function not covered" >function compensateForHScroll(display){<span class="cstat-no" title="statement not covered" ></span>return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left;}</span>
<span class="fstat-no" title="function not covered" >function DisplayUpdate(cm,viewport,force){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display;<span class="cstat-no" title="statement not covered" >t</span>his.viewport=viewport;<span class="cstat-no" title="statement not covered" >t</span>his.visible=visibleLines(display,cm.doc,viewport);<span class="cstat-no" title="statement not covered" >t</span>his.editorIsHidden=!display.wrapper.offsetWidth;<span class="cstat-no" title="statement not covered" >t</span>his.wrapperHeight=display.wrapper.clientHeight;<span class="cstat-no" title="statement not covered" >t</span>his.wrapperWidth=display.wrapper.clientWidth;<span class="cstat-no" title="statement not covered" >t</span>his.oldDisplayWidth=displayWidth(cm);<span class="cstat-no" title="statement not covered" >t</span>his.force=force;<span class="cstat-no" title="statement not covered" >t</span>his.dims=getDimensions(cm);}</span>
<span class="fstat-no" title="function not covered" >function maybeClipScrollbars(cm){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display;<span class="cstat-no" title="statement not covered" >i</span>f(!display.scrollbarsClipped&amp;&amp;display.scroller.offsetWidth){<span class="cstat-no" title="statement not covered" >display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;<span class="cstat-no" title="statement not covered" >d</span>isplay.heightForcer.style.height=scrollGap(cm)+"px";<span class="cstat-no" title="statement not covered" >d</span>isplay.sizer.style.marginBottom=-display.nativeBarWidth+"px";<span class="cstat-no" title="statement not covered" >d</span>isplay.sizer.style.borderRightWidth=scrollGap(cm)+"px";<span class="cstat-no" title="statement not covered" >d</span>isplay.scrollbarsClipped=true;}</span>}</span>
<span class="fstat-no" title="function not covered" >function updateDisplayIfNeeded(cm,update){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display,doc=cm.doc;<span class="cstat-no" title="statement not covered" >i</span>f(update.editorIsHidden){<span class="cstat-no" title="statement not covered" >resetView(cm);<span class="cstat-no" title="statement not covered" >r</span>eturn false;}</span></span>
<span class="cstat-no" title="statement not covered" >if(!update.force&amp;&amp;update.visible.from&gt;=display.viewFrom&amp;&amp;update.visible.to&lt;=display.viewTo&amp;&amp;(display.updateLineNumbers==null||display.updateLineNumbers&gt;=display.viewTo)&amp;&amp;display.renderedView==display.view&amp;&amp;countDirtyView(cm)==0)</span>
<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >i</span>f(maybeUpdateLineNumberWidth(cm)){<span class="cstat-no" title="statement not covered" >resetView(cm);<span class="cstat-no" title="statement not covered" >u</span>pdate.dims=getDimensions(cm);}</span></span>
<span class="cstat-no" title="statement not covered" >var end=doc.first+doc.size;<span class="cstat-no" title="statement not covered" >v</span>ar from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);<span class="cstat-no" title="statement not covered" >v</span>ar to=Math.min(end,update.visible.to+cm.options.viewportMargin);<span class="cstat-no" title="statement not covered" >i</span>f(display.viewFrom&lt;from&amp;&amp;from-display.viewFrom&lt;20)<span class="cstat-no" title="statement not covered" >from=Math.max(doc.first,display.viewFrom);<span class="cstat-no" title="statement not covered" >i</span></span>f(display.viewTo&gt;to&amp;&amp;display.viewTo-to&lt;20)<span class="cstat-no" title="statement not covered" >to=Math.min(end,display.viewTo);<span class="cstat-no" title="statement not covered" >i</span></span>f(sawCollapsedSpans){<span class="cstat-no" title="statement not covered" >from=visualLineNo(cm.doc,from);<span class="cstat-no" title="statement not covered" >t</span>o=visualLineEndNo(cm.doc,to);}</span></span>
<span class="cstat-no" title="statement not covered" >var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;<span class="cstat-no" title="statement not covered" >a</span>djustView(cm,from,to);<span class="cstat-no" title="statement not covered" >d</span>isplay.viewOffset=heightAtLine(getLine(cm.doc,display.viewFrom));<span class="cstat-no" title="statement not covered" >c</span>m.display.mover.style.top=display.viewOffset+"px";<span class="cstat-no" title="statement not covered" >v</span>ar toUpdate=countDirtyView(cm);<span class="cstat-no" title="statement not covered" >i</span>f(!different&amp;&amp;toUpdate==0&amp;&amp;!update.force&amp;&amp;display.renderedView==display.view&amp;&amp;(display.updateLineNumbers==null||display.updateLineNumbers&gt;=display.viewTo))</span>
<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span>ar focused=activeElt();<span class="cstat-no" title="statement not covered" >i</span>f(toUpdate&gt;4)<span class="cstat-no" title="statement not covered" >display.lineDiv.style.display="none";<span class="cstat-no" title="statement not covered" >p</span></span>atchDisplay(cm,display.updateLineNumbers,update.dims);<span class="cstat-no" title="statement not covered" >i</span>f(toUpdate&gt;4)<span class="cstat-no" title="statement not covered" >display.lineDiv.style.display="";<span class="cstat-no" title="statement not covered" >d</span></span>isplay.renderedView=display.view;<span class="cstat-no" title="statement not covered" >i</span>f(focused&amp;&amp;activeElt()!=focused&amp;&amp;focused.offsetHeight)<span class="cstat-no" title="statement not covered" >focused.focus();<span class="cstat-no" title="statement not covered" >r</span></span>emoveChildren(display.cursorDiv);<span class="cstat-no" title="statement not covered" >r</span>emoveChildren(display.selectionDiv);<span class="cstat-no" title="statement not covered" >d</span>isplay.gutters.style.height=0;<span class="cstat-no" title="statement not covered" >i</span>f(different){<span class="cstat-no" title="statement not covered" >display.lastWrapHeight=update.wrapperHeight;<span class="cstat-no" title="statement not covered" >d</span>isplay.lastWrapWidth=update.wrapperWidth;<span class="cstat-no" title="statement not covered" >s</span>tartWorker(cm,400);}</span></span>
<span class="cstat-no" title="statement not covered" >display.updateLineNumbers=null;<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span>
<span class="fstat-no" title="function not covered" >function postUpdateDisplay(cm,update){<span class="cstat-no" title="statement not covered" ></span>var force=update.force,viewport=update.viewport;<span class="cstat-no" title="statement not covered" >f</span>or(var first=true;;first=false){<span class="cstat-no" title="statement not covered" >if(first&amp;&amp;cm.options.lineWrapping&amp;&amp;update.oldDisplayWidth!=displayWidth(cm)){<span class="cstat-no" title="statement not covered" >force=true;}</span>else{<span class="cstat-no" title="statement not covered" >force=false;<span class="cstat-no" title="statement not covered" >i</span>f(viewport&amp;&amp;viewport.top!=null)</span></span></span>
<span class="cstat-no" title="statement not covered" >viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)};<span class="cstat-no" title="statement not covered" >u</span>pdate.visible=visibleLines(cm.display,cm.doc,viewport);<span class="cstat-no" title="statement not covered" >i</span>f(update.visible.from&gt;=cm.display.viewFrom&amp;&amp;update.visible.to&lt;=cm.display.viewTo)</span>
<span class="cstat-no" title="statement not covered" >break;}</span>
<span class="cstat-no" title="statement not covered" >if(!updateDisplayIfNeeded(cm,update))<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >u</span></span>pdateHeightsInViewport(cm);<span class="cstat-no" title="statement not covered" >v</span>ar barMeasure=measureForScrollbars(cm);<span class="cstat-no" title="statement not covered" >u</span>pdateSelection(cm);<span class="cstat-no" title="statement not covered" >s</span>etDocumentHeight(cm,barMeasure);<span class="cstat-no" title="statement not covered" >u</span>pdateScrollbars(cm,barMeasure);}</span>
<span class="cstat-no" title="statement not covered" >signalLater(cm,"update",cm);<span class="cstat-no" title="statement not covered" >i</span>f(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){<span class="cstat-no" title="statement not covered" >signalLater(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo);<span class="cstat-no" title="statement not covered" >c</span>m.display.reportedViewFrom=cm.display.viewFrom;<span class="cstat-no" title="statement not covered" >c</span>m.display.reportedViewTo=cm.display.viewTo;}</span>}</span>
<span class="fstat-no" title="function not covered" >function updateDisplaySimple(cm,viewport){<span class="cstat-no" title="statement not covered" ></span>var update=new DisplayUpdate(cm,viewport);<span class="cstat-no" title="statement not covered" >i</span>f(updateDisplayIfNeeded(cm,update)){<span class="cstat-no" title="statement not covered" >updateHeightsInViewport(cm);<span class="cstat-no" title="statement not covered" >p</span>ostUpdateDisplay(cm,update);<span class="cstat-no" title="statement not covered" >v</span>ar barMeasure=measureForScrollbars(cm);<span class="cstat-no" title="statement not covered" >u</span>pdateSelection(cm);<span class="cstat-no" title="statement not covered" >s</span>etDocumentHeight(cm,barMeasure);<span class="cstat-no" title="statement not covered" >u</span>pdateScrollbars(cm,barMeasure);}</span>}</span>
<span class="fstat-no" title="function not covered" >function setDocumentHeight(cm,measure){<span class="cstat-no" title="statement not covered" ></span>cm.display.sizer.style.minHeight=measure.docHeight+"px";<span class="cstat-no" title="statement not covered" >v</span>ar total=measure.docHeight+cm.display.barHeight;<span class="cstat-no" title="statement not covered" >c</span>m.display.heightForcer.style.top=total+"px";<span class="cstat-no" title="statement not covered" >c</span>m.display.gutters.style.height=Math.max(total+scrollGap(cm),measure.clientHeight)+"px";}</span>
<span class="fstat-no" title="function not covered" >function updateHeightsInViewport(cm){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display;<span class="cstat-no" title="statement not covered" >v</span>ar prevBottom=display.lineDiv.offsetTop;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;display.view.length;i++){<span class="cstat-no" title="statement not covered" >var cur=display.view[i],height;<span class="cstat-no" title="statement not covered" >i</span>f(cur.hidden)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(ie&amp;&amp;ie_version&lt;8){<span class="cstat-no" title="statement not covered" >var bot=cur.node.offsetTop+cur.node.offsetHeight;<span class="cstat-no" title="statement not covered" >h</span>eight=bot-prevBottom;<span class="cstat-no" title="statement not covered" >p</span>revBottom=bot;}</span>else{<span class="cstat-no" title="statement not covered" >var box=cur.node.getBoundingClientRect();<span class="cstat-no" title="statement not covered" >h</span>eight=box.bottom-box.top;}</span></span></span>
<span class="cstat-no" title="statement not covered" >var diff=cur.line.height-height;<span class="cstat-no" title="statement not covered" >i</span>f(height&lt;2)<span class="cstat-no" title="statement not covered" >height=textHeight(display);<span class="cstat-no" title="statement not covered" >i</span></span>f(diff&gt;.001||diff&lt;-.001){<span class="cstat-no" title="statement not covered" >updateLineHeight(cur.line,height);<span class="cstat-no" title="statement not covered" >u</span>pdateWidgetHeight(cur.line);<span class="cstat-no" title="statement not covered" >i</span>f(cur.rest)<span class="cstat-no" title="statement not covered" >for(var j=0;j&lt;cur.rest.length;j++)</span></span></span>
<span class="cstat-no" title="statement not covered" >updateWidgetHeight(cur.rest[j]);}</span>}}
<span class="fstat-no" title="function not covered" >function updateWidgetHeight(line){<span class="cstat-no" title="statement not covered" ></span>if(line.widgets)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;line.widgets.length;++i)</span></span>
<span class="cstat-no" title="statement not covered" >line.widgets[i].height=line.widgets[i].node.offsetHeight;}</span>
<span class="fstat-no" title="function not covered" >function getDimensions(cm){<span class="cstat-no" title="statement not covered" ></span>var d=cm.display,left={},width={};<span class="cstat-no" title="statement not covered" >v</span>ar gutterLeft=d.gutters.clientLeft;<span class="cstat-no" title="statement not covered" >f</span>or(var n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){<span class="cstat-no" title="statement not covered" >left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft;<span class="cstat-no" title="statement not covered" >w</span>idth[cm.options.gutters[i]]=n.clientWidth;}</span></span>
<span class="cstat-no" title="statement not covered" >return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth};}</span>
<span class="fstat-no" title="function not covered" >function patchDisplay(cm,updateNumbersFrom,dims){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display,lineNumbers=cm.options.lineNumbers;<span class="cstat-no" title="statement not covered" >v</span>ar container=display.lineDiv,cur=container.firstChild;<span class="fstat-no" title="function not covered" >f</span>unction rm(node){<span class="cstat-no" title="statement not covered" ></span>var next=node.nextSibling;<span class="cstat-no" title="statement not covered" >i</span>f(webkit&amp;&amp;mac&amp;&amp;cm.display.currentWheelTarget==node)</span>
<span class="cstat-no" title="statement not covered" >node.style.display="none";e</span>lse
<span class="cstat-no" title="statement not covered" >node.parentNode.removeChild(node);<span class="cstat-no" title="statement not covered" >r</span>eturn next;}</span>
<span class="cstat-no" title="statement not covered" >var view=display.view,lineN=display.viewFrom;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;view.length;i++){<span class="cstat-no" title="statement not covered" >var lineView=view[i];<span class="cstat-no" title="statement not covered" >i</span>f(lineView.hidden){}else <span class="cstat-no" title="statement not covered" >if(!lineView.node){<span class="cstat-no" title="statement not covered" >var node=buildLineElement(cm,lineView,lineN,dims);<span class="cstat-no" title="statement not covered" >c</span>ontainer.insertBefore(node,cur);}</span>else{<span class="cstat-no" title="statement not covered" >while(cur!=lineView.node)<span class="cstat-no" title="statement not covered" >cur=rm(cur);<span class="cstat-no" title="statement not covered" >v</span></span>ar updateNumber=lineNumbers&amp;&amp;updateNumbersFrom!=null&amp;&amp;updateNumbersFrom&lt;=lineN&amp;&amp;lineView.lineNumber;<span class="cstat-no" title="statement not covered" >i</span>f(lineView.changes){<span class="cstat-no" title="statement not covered" >if(indexOf(lineView.changes,"gutter")&gt;-1)<span class="cstat-no" title="statement not covered" >updateNumber=false;<span class="cstat-no" title="statement not covered" >u</span></span>pdateLineForChanges(cm,lineView,lineN,dims);}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(updateNumber){<span class="cstat-no" title="statement not covered" >removeChildren(lineView.lineNumber);<span class="cstat-no" title="statement not covered" >l</span>ineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)));}</span></span>
<span class="cstat-no" title="statement not covered" >cur=lineView.node.nextSibling;}</span>
<span class="cstat-no" title="statement not covered" >lineN+=lineView.size;}</span>
<span class="cstat-no" title="statement not covered" >while(cur)<span class="cstat-no" title="statement not covered" >cur=rm(cur);}</span></span>
<span class="fstat-no" title="function not covered" >function updateLineForChanges(cm,lineView,lineN,dims){<span class="cstat-no" title="statement not covered" ></span>for(var j=0;j&lt;lineView.changes.length;j++){<span class="cstat-no" title="statement not covered" >var type=lineView.changes[j];<span class="cstat-no" title="statement not covered" >i</span>f(type=="text")<span class="cstat-no" title="statement not covered" >updateLineText(cm,lineView);e</span>lse <span class="cstat-no" title="statement not covered" >if(type=="gutter")<span class="cstat-no" title="statement not covered" >updateLineGutter(cm,lineView,lineN,dims);e</span>lse <span class="cstat-no" title="statement not covered" >if(type=="class")<span class="cstat-no" title="statement not covered" >updateLineClasses(lineView);e</span>lse <span class="cstat-no" title="statement not covered" >if(type=="widget")<span class="cstat-no" title="statement not covered" >updateLineWidgets(lineView,dims);}</span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >lineView.changes=null;}</span>
<span class="fstat-no" title="function not covered" >function ensureLineWrapped(lineView){<span class="cstat-no" title="statement not covered" ></span>if(lineView.node==lineView.text){<span class="cstat-no" title="statement not covered" >lineView.node=elt("div",null,null,"position: relative");<span class="cstat-no" title="statement not covered" >i</span>f(lineView.text.parentNode)</span></span>
<span class="cstat-no" title="statement not covered" >lineView.text.parentNode.replaceChild(lineView.node,lineView.text);<span class="cstat-no" title="statement not covered" >l</span>ineView.node.appendChild(lineView.text);<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version&lt;8)<span class="cstat-no" title="statement not covered" >lineView.node.style.zIndex=2;}</span></span>
<span class="cstat-no" title="statement not covered" >return lineView.node;}</span>
<span class="fstat-no" title="function not covered" >function updateLineBackground(lineView){<span class="cstat-no" title="statement not covered" ></span>var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;<span class="cstat-no" title="statement not covered" >i</span>f(cls)<span class="cstat-no" title="statement not covered" >cls+=" CodeMirror-linebackground";<span class="cstat-no" title="statement not covered" >i</span></span>f(lineView.background){<span class="cstat-no" title="statement not covered" >if(cls)<span class="cstat-no" title="statement not covered" >lineView.background.className=cls;e</span>lse{<span class="cstat-no" title="statement not covered" >lineView.background.parentNode.removeChild(lineView.background);<span class="cstat-no" title="statement not covered" >l</span>ineView.background=null;}</span>}</span>else <span class="cstat-no" title="statement not covered" >if(cls){<span class="cstat-no" title="statement not covered" >var wrap=ensureLineWrapped(lineView);<span class="cstat-no" title="statement not covered" >l</span>ineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild);}</span>}</span></span>
<span class="fstat-no" title="function not covered" >function getLineContent(cm,lineView){<span class="cstat-no" title="statement not covered" ></span>var ext=cm.display.externalMeasured;<span class="cstat-no" title="statement not covered" >i</span>f(ext&amp;&amp;ext.line==lineView.line){<span class="cstat-no" title="statement not covered" >cm.display.externalMeasured=null;<span class="cstat-no" title="statement not covered" >l</span>ineView.measure=ext.measure;<span class="cstat-no" title="statement not covered" >r</span>eturn ext.built;}</span></span>
<span class="cstat-no" title="statement not covered" >return buildLineContent(cm,lineView);}</span>
<span class="fstat-no" title="function not covered" >function updateLineText(cm,lineView){<span class="cstat-no" title="statement not covered" ></span>var cls=lineView.text.className;<span class="cstat-no" title="statement not covered" >v</span>ar built=getLineContent(cm,lineView);<span class="cstat-no" title="statement not covered" >i</span>f(lineView.text==lineView.node)<span class="cstat-no" title="statement not covered" >lineView.node=built.pre;<span class="cstat-no" title="statement not covered" >l</span></span>ineView.text.parentNode.replaceChild(built.pre,lineView.text);<span class="cstat-no" title="statement not covered" >l</span>ineView.text=built.pre;<span class="cstat-no" title="statement not covered" >i</span>f(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){<span class="cstat-no" title="statement not covered" >lineView.bgClass=built.bgClass;<span class="cstat-no" title="statement not covered" >l</span>ineView.textClass=built.textClass;<span class="cstat-no" title="statement not covered" >u</span>pdateLineClasses(lineView);}</span>else <span class="cstat-no" title="statement not covered" >if(cls){<span class="cstat-no" title="statement not covered" >lineView.text.className=cls;}</span>}</span></span>
<span class="fstat-no" title="function not covered" >function updateLineClasses(lineView){<span class="cstat-no" title="statement not covered" ></span>updateLineBackground(lineView);<span class="cstat-no" title="statement not covered" >i</span>f(lineView.line.wrapClass)</span>
<span class="cstat-no" title="statement not covered" >ensureLineWrapped(lineView).className=lineView.line.wrapClass;e</span>lse <span class="cstat-no" title="statement not covered" >if(lineView.node!=lineView.text)</span>
<span class="cstat-no" title="statement not covered" >lineView.node.className="";<span class="cstat-no" title="statement not covered" >v</span>ar textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;<span class="cstat-no" title="statement not covered" >l</span>ineView.text.className=textClass||"";}</span>
<span class="fstat-no" title="function not covered" >function updateLineGutter(cm,lineView,lineN,dims){<span class="cstat-no" title="statement not covered" ></span>if(lineView.gutter){<span class="cstat-no" title="statement not covered" >lineView.node.removeChild(lineView.gutter);<span class="cstat-no" title="statement not covered" >l</span>ineView.gutter=null;}</span></span>
<span class="cstat-no" title="statement not covered" >var markers=lineView.line.gutterMarkers;<span class="cstat-no" title="statement not covered" >i</span>f(cm.options.lineNumbers||markers){<span class="cstat-no" title="statement not covered" >var wrap=ensureLineWrapped(lineView);<span class="cstat-no" title="statement not covered" >v</span>ar gutterWrap=lineView.gutter=wrap.insertBefore(elt("div",null,"CodeMirror-gutter-wrapper","left: "+</span></span>
(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px"),lineView.text);<span class="cstat-no" title="statement not covered" >if(lineView.line.gutterClass)</span>
<span class="cstat-no" title="statement not covered" >gutterWrap.className+=" "+lineView.line.gutterClass;<span class="cstat-no" title="statement not covered" >i</span>f(cm.options.lineNumbers&amp;&amp;(!markers||!markers["CodeMirror-linenumbers"]))</span>
<span class="cstat-no" title="statement not covered" >lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "</span>
+cm.display.lineNumInnerWidth+"px"));<span class="cstat-no" title="statement not covered" >if(markers)<span class="cstat-no" title="statement not covered" >for(var k=0;k&lt;cm.options.gutters.length;++k){<span class="cstat-no" title="statement not covered" >var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&amp;&amp;markers[id];<span class="cstat-no" title="statement not covered" >i</span>f(found)</span></span></span>
<span class="cstat-no" title="statement not covered" >gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+</span>
dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"));}}}
<span class="fstat-no" title="function not covered" >function updateLineWidgets(lineView,dims){<span class="cstat-no" title="statement not covered" ></span>if(lineView.alignable)<span class="cstat-no" title="statement not covered" >lineView.alignable=null;<span class="cstat-no" title="statement not covered" >f</span></span>or(var node=lineView.node.firstChild,next;node;node=next){<span class="cstat-no" title="statement not covered" >var next=node.nextSibling;<span class="cstat-no" title="statement not covered" >i</span>f(node.className=="CodeMirror-linewidget")</span></span>
<span class="cstat-no" title="statement not covered" >lineView.node.removeChild(node);}</span>
<span class="cstat-no" title="statement not covered" >insertLineWidgets(lineView,dims);}</span>
<span class="fstat-no" title="function not covered" >function buildLineElement(cm,lineView,lineN,dims){<span class="cstat-no" title="statement not covered" ></span>var built=getLineContent(cm,lineView);<span class="cstat-no" title="statement not covered" >l</span>ineView.text=lineView.node=built.pre;<span class="cstat-no" title="statement not covered" >i</span>f(built.bgClass)<span class="cstat-no" title="statement not covered" >lineView.bgClass=built.bgClass;<span class="cstat-no" title="statement not covered" >i</span></span>f(built.textClass)<span class="cstat-no" title="statement not covered" >lineView.textClass=built.textClass;<span class="cstat-no" title="statement not covered" >u</span></span>pdateLineClasses(lineView);<span class="cstat-no" title="statement not covered" >u</span>pdateLineGutter(cm,lineView,lineN,dims);<span class="cstat-no" title="statement not covered" >i</span>nsertLineWidgets(lineView,dims);<span class="cstat-no" title="statement not covered" >r</span>eturn lineView.node;}</span>
<span class="fstat-no" title="function not covered" >function insertLineWidgets(lineView,dims){<span class="cstat-no" title="statement not covered" ></span>insertLineWidgetsFor(lineView.line,lineView,dims,true);<span class="cstat-no" title="statement not covered" >i</span>f(lineView.rest)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;lineView.rest.length;i++)</span></span>
<span class="cstat-no" title="statement not covered" >insertLineWidgetsFor(lineView.rest[i],lineView,dims,false);}</span>
<span class="fstat-no" title="function not covered" >function insertLineWidgetsFor(line,lineView,dims,allowAbove){<span class="cstat-no" title="statement not covered" ></span>if(!line.widgets)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar wrap=ensureLineWrapped(lineView);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0,ws=line.widgets;i&lt;ws.length;++i){<span class="cstat-no" title="statement not covered" >var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");<span class="cstat-no" title="statement not covered" >i</span>f(!widget.handleMouseEvents)<span class="cstat-no" title="statement not covered" >node.setAttribute("cm-ignore-events","true");<span class="cstat-no" title="statement not covered" >p</span></span>ositionLineWidget(widget,node,lineView,dims);<span class="cstat-no" title="statement not covered" >i</span>f(allowAbove&amp;&amp;widget.above)</span></span>
<span class="cstat-no" title="statement not covered" >wrap.insertBefore(node,lineView.gutter||lineView.text);e</span>lse
<span class="cstat-no" title="statement not covered" >wrap.appendChild(node);<span class="cstat-no" title="statement not covered" >s</span>ignalLater(widget,"redraw");}</span>}
<span class="fstat-no" title="function not covered" >function positionLineWidget(widget,node,lineView,dims){<span class="cstat-no" title="statement not covered" ></span>if(widget.noHScroll){<span class="cstat-no" title="statement not covered" >(lineView.alignable||(lineView.alignable=[])).push(node);<span class="cstat-no" title="statement not covered" >v</span>ar width=dims.wrapperWidth;<span class="cstat-no" title="statement not covered" >n</span>ode.style.left=dims.fixedPos+"px";<span class="cstat-no" title="statement not covered" >i</span>f(!widget.coverGutter){<span class="cstat-no" title="statement not covered" >width-=dims.gutterTotalWidth;<span class="cstat-no" title="statement not covered" >n</span>ode.style.paddingLeft=dims.gutterTotalWidth+"px";}</span></span></span>
<span class="cstat-no" title="statement not covered" >node.style.width=width+"px";}</span>
<span class="cstat-no" title="statement not covered" >if(widget.coverGutter){<span class="cstat-no" title="statement not covered" >node.style.zIndex=5;<span class="cstat-no" title="statement not covered" >n</span>ode.style.position="relative";<span class="cstat-no" title="statement not covered" >i</span>f(!widget.noHScroll)<span class="cstat-no" title="statement not covered" >node.style.marginLeft=-dims.gutterTotalWidth+"px";}</span></span>}</span>
<span class="cstat-no" title="statement not covered" >var Pos=CodeMirror.Pos=<span class="fstat-no" title="function not covered" >function(line,ch){<span class="cstat-no" title="statement not covered" ></span>if(!(this instanceof Pos))<span class="cstat-no" title="statement not covered" >return new Pos(line,ch);<span class="cstat-no" title="statement not covered" >t</span></span>his.line=line;<span class="cstat-no" title="statement not covered" >t</span>his.ch=ch;}</span>;<span class="cstat-no" title="statement not covered" >v</span>ar cmp=CodeMirror.cmpPos=<span class="fstat-no" title="function not covered" >function(a,b){<span class="cstat-no" title="statement not covered" ></span>return a.line-b.line||a.ch-b.ch;}</span>;<span class="fstat-no" title="function not covered" >f</span>unction copyPos(x){<span class="cstat-no" title="statement not covered" ></span>return Pos(x.line,x.ch);}</span>
<span class="fstat-no" title="function not covered" >function maxPos(a,b){<span class="cstat-no" title="statement not covered" ></span>return cmp(a,b)&lt;0?b:a;}</span>
<span class="fstat-no" title="function not covered" >function minPos(a,b){<span class="cstat-no" title="statement not covered" ></span>return cmp(a,b)&lt;0?a:b;}</span>
<span class="fstat-no" title="function not covered" >function Selection(ranges,primIndex){<span class="cstat-no" title="statement not covered" ></span>this.ranges=ranges;<span class="cstat-no" title="statement not covered" >t</span>his.primIndex=primIndex;}</span>
<span class="cstat-no" title="statement not covered" >Selection.prototype={primary:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.ranges[this.primIndex];}</span>,equals:<span class="fstat-no" title="function not covered" >function(other){<span class="cstat-no" title="statement not covered" ></span>if(other==this)<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >i</span></span>f(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0;i&lt;this.ranges.length;i++){<span class="cstat-no" title="statement not covered" >var here=this.ranges[i],there=other.ranges[i];<span class="cstat-no" title="statement not covered" >i</span>f(cmp(here.anchor,there.anchor)!=0||cmp(here.head,there.head)!=0)<span class="cstat-no" title="statement not covered" >return false;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return true;}</span>,deepCopy:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>for(var out=[],i=0;i&lt;this.ranges.length;i++)</span>
<span class="cstat-no" title="statement not covered" >out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));<span class="cstat-no" title="statement not covered" >r</span>eturn new Selection(out,this.primIndex);}</span>,somethingSelected:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;this.ranges.length;i++)</span>
<span class="cstat-no" title="statement not covered" >if(!this.ranges[i].empty())<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >r</span></span>eturn false;}</span>,contains:<span class="fstat-no" title="function not covered" >function(pos,end){<span class="cstat-no" title="statement not covered" ></span>if(!end)<span class="cstat-no" title="statement not covered" >end=pos;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0;i&lt;this.ranges.length;i++){<span class="cstat-no" title="statement not covered" >var range=this.ranges[i];<span class="cstat-no" title="statement not covered" >i</span>f(cmp(end,range.from())&gt;=0&amp;&amp;cmp(pos,range.to())&lt;=0)</span></span>
<span class="cstat-no" title="statement not covered" >return i;}</span>
<span class="cstat-no" title="statement not covered" >return-1;}</span>};<span class="fstat-no" title="function not covered" >function Range(anchor,head){<span class="cstat-no" title="statement not covered" ></span>this.anchor=anchor;<span class="cstat-no" title="statement not covered" >t</span>his.head=head;}</span>
<span class="cstat-no" title="statement not covered" >Range.prototype={from:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return minPos(this.anchor,this.head);}</span>,to:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return maxPos(this.anchor,this.head);}</span>,empty:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.head.line==this.anchor.line&amp;&amp;this.head.ch==this.anchor.ch;}</span>};<span class="fstat-no" title="function not covered" >f</span>unction normalizeSelection(ranges,primIndex){<span class="cstat-no" title="statement not covered" ></span>var prim=ranges[primIndex];<span class="cstat-no" title="statement not covered" >r</span>anges.sort(<span class="fstat-no" title="function not covered" >function(a,b){<span class="cstat-no" title="statement not covered" ></span>return cmp(a.from(),b.from());}</span>);<span class="cstat-no" title="statement not covered" >p</span>rimIndex=indexOf(ranges,prim);<span class="cstat-no" title="statement not covered" >f</span>or(var i=1;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var cur=ranges[i],prev=ranges[i-1];<span class="cstat-no" title="statement not covered" >i</span>f(cmp(prev.to(),cur.from())&gt;=0){<span class="cstat-no" title="statement not covered" >var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to());<span class="cstat-no" title="statement not covered" >v</span>ar inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;<span class="cstat-no" title="statement not covered" >i</span>f(i&lt;=primIndex)<span class="cstat-no" title="statement not covered" >--primIndex;<span class="cstat-no" title="statement not covered" >r</span></span>anges.splice(--i,2,new Range(inv?to:from,inv?from:to));}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >return new Selection(ranges,primIndex);}</span>
<span class="fstat-no" title="function not covered" >function simpleSelection(anchor,head){<span class="cstat-no" title="statement not covered" ></span>return new Selection([new Range(anchor,head||anchor)],0);}</span>
<span class="fstat-no" title="function not covered" >function clipLine(doc,n){<span class="cstat-no" title="statement not covered" ></span>return Math.max(doc.first,Math.min(n,doc.first+doc.size-1));}</span>
<span class="fstat-no" title="function not covered" >function clipPos(doc,pos){<span class="cstat-no" title="statement not covered" ></span>if(pos.line&lt;doc.first)<span class="cstat-no" title="statement not covered" >return Pos(doc.first,0);<span class="cstat-no" title="statement not covered" >v</span></span>ar last=doc.first+doc.size-1;<span class="cstat-no" title="statement not covered" >i</span>f(pos.line&gt;last)<span class="cstat-no" title="statement not covered" >return Pos(last,getLine(doc,last).text.length);<span class="cstat-no" title="statement not covered" >r</span></span>eturn clipToLen(pos,getLine(doc,pos.line).text.length);}</span>
<span class="fstat-no" title="function not covered" >function clipToLen(pos,linelen){<span class="cstat-no" title="statement not covered" ></span>var ch=pos.ch;<span class="cstat-no" title="statement not covered" >i</span>f(ch==null||ch&gt;linelen)<span class="cstat-no" title="statement not covered" >return Pos(pos.line,linelen);e</span>lse <span class="cstat-no" title="statement not covered" >if(ch&lt;0)<span class="cstat-no" title="statement not covered" >return Pos(pos.line,0);e</span>lse <span class="cstat-no" title="statement not covered" >return pos;}</span></span></span>
<span class="fstat-no" title="function not covered" >function isLine(doc,l){<span class="cstat-no" title="statement not covered" ></span>return l&gt;=doc.first&amp;&amp;l&lt;doc.first+doc.size;}</span>
<span class="fstat-no" title="function not covered" >function clipPosArray(doc,array){<span class="cstat-no" title="statement not covered" ></span>for(var out=[],i=0;i&lt;array.length;i++)<span class="cstat-no" title="statement not covered" >out[i]=clipPos(doc,array[i]);<span class="cstat-no" title="statement not covered" >r</span></span>eturn out;}</span>
<span class="fstat-no" title="function not covered" >function extendRange(doc,range,head,other){<span class="cstat-no" title="statement not covered" ></span>if(doc.cm&amp;&amp;doc.cm.display.shift||doc.extend){<span class="cstat-no" title="statement not covered" >var anchor=range.anchor;<span class="cstat-no" title="statement not covered" >i</span>f(other){<span class="cstat-no" title="statement not covered" >var posBefore=cmp(head,anchor)&lt;0;<span class="cstat-no" title="statement not covered" >i</span>f(posBefore!=(cmp(other,anchor)&lt;0)){<span class="cstat-no" title="statement not covered" >anchor=head;<span class="cstat-no" title="statement not covered" >h</span>ead=other;}</span>else <span class="cstat-no" title="statement not covered" >if(posBefore!=(cmp(head,other)&lt;0)){<span class="cstat-no" title="statement not covered" >head=other;}</span>}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return new Range(anchor,head);}</span>else{<span class="cstat-no" title="statement not covered" >return new Range(other||head,head);}</span>}
<span class="fstat-no" title="function not covered" >function extendSelection(doc,head,other,options){<span class="cstat-no" title="statement not covered" ></span>setSelection(doc,new Selection([extendRange(doc,doc.sel.primary(),head,other)],0),options);}</span>
<span class="fstat-no" title="function not covered" >function extendSelections(doc,heads,options){<span class="cstat-no" title="statement not covered" ></span>for(var out=[],i=0;i&lt;doc.sel.ranges.length;i++)</span>
<span class="cstat-no" title="statement not covered" >out[i]=extendRange(doc,doc.sel.ranges[i],heads[i],null);<span class="cstat-no" title="statement not covered" >v</span>ar newSel=normalizeSelection(out,doc.sel.primIndex);<span class="cstat-no" title="statement not covered" >s</span>etSelection(doc,newSel,options);}</span>
<span class="fstat-no" title="function not covered" >function replaceOneSelection(doc,i,range,options){<span class="cstat-no" title="statement not covered" ></span>var ranges=doc.sel.ranges.slice(0);<span class="cstat-no" title="statement not covered" >r</span>anges[i]=range;<span class="cstat-no" title="statement not covered" >s</span>etSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options);}</span>
<span class="fstat-no" title="function not covered" >function setSimpleSelection(doc,anchor,head,options){<span class="cstat-no" title="statement not covered" ></span>setSelection(doc,simpleSelection(anchor,head),options);}</span>
<span class="fstat-no" title="function not covered" >function filterSelectionChange(doc,sel){<span class="cstat-no" title="statement not covered" ></span>var obj={ranges:sel.ranges,update:<span class="fstat-no" title="function not covered" >function(ranges){<span class="cstat-no" title="statement not covered" ></span>this.ranges=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++)</span></span>
<span class="cstat-no" title="statement not covered" >this.ranges[i]=new Range(clipPos(doc,ranges[i].anchor),clipPos(doc,ranges[i].head));}</span>};<span class="cstat-no" title="statement not covered" >signal(doc,"beforeSelectionChange",doc,obj);<span class="cstat-no" title="statement not covered" >i</span>f(doc.cm)<span class="cstat-no" title="statement not covered" >signal(doc.cm,"beforeSelectionChange",doc.cm,obj);<span class="cstat-no" title="statement not covered" >i</span></span>f(obj.ranges!=sel.ranges)<span class="cstat-no" title="statement not covered" >return normalizeSelection(obj.ranges,obj.ranges.length-1);e</span>lse <span class="cstat-no" title="statement not covered" >return sel;}</span></span>
<span class="fstat-no" title="function not covered" >function setSelectionReplaceHistory(doc,sel,options){<span class="cstat-no" title="statement not covered" ></span>var done=doc.history.done,last=lst(done);<span class="cstat-no" title="statement not covered" >i</span>f(last&amp;&amp;last.ranges){<span class="cstat-no" title="statement not covered" >done[done.length-1]=sel;<span class="cstat-no" title="statement not covered" >s</span>etSelectionNoUndo(doc,sel,options);}</span>else{<span class="cstat-no" title="statement not covered" >setSelection(doc,sel,options);}</span>}</span>
<span class="fstat-no" title="function not covered" >function setSelection(doc,sel,options){<span class="cstat-no" title="statement not covered" ></span>setSelectionNoUndo(doc,sel,options);<span class="cstat-no" title="statement not covered" >a</span>ddSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options);}</span>
<span class="fstat-no" title="function not covered" >function setSelectionNoUndo(doc,sel,options){<span class="cstat-no" title="statement not covered" ></span>if(hasHandler(doc,"beforeSelectionChange")||doc.cm&amp;&amp;hasHandler(doc.cm,"beforeSelectionChange"))</span>
<span class="cstat-no" title="statement not covered" >sel=filterSelectionChange(doc,sel);<span class="cstat-no" title="statement not covered" >v</span>ar bias=options&amp;&amp;options.bias||(cmp(sel.primary().head,doc.sel.primary().head)&lt;0?-1:1);<span class="cstat-no" title="statement not covered" >s</span>etSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));<span class="cstat-no" title="statement not covered" >i</span>f(!(options&amp;&amp;options.scroll===false)&amp;&amp;doc.cm)</span>
<span class="cstat-no" title="statement not covered" >ensureCursorVisible(doc.cm);}</span>
<span class="fstat-no" title="function not covered" >function setSelectionInner(doc,sel){<span class="cstat-no" title="statement not covered" ></span>if(sel.equals(doc.sel))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >d</span></span>oc.sel=sel;<span class="cstat-no" title="statement not covered" >i</span>f(doc.cm){<span class="cstat-no" title="statement not covered" >doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=true;<span class="cstat-no" title="statement not covered" >s</span>ignalCursorActivity(doc.cm);}</span></span>
<span class="cstat-no" title="statement not covered" >signalLater(doc,"cursorActivity",doc);}</span>
<span class="fstat-no" title="function not covered" >function reCheckSelection(doc){<span class="cstat-no" title="statement not covered" ></span>setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false),sel_dontScroll);}</span>
<span class="fstat-no" title="function not covered" >function skipAtomicInSelection(doc,sel,bias,mayClear){<span class="cstat-no" title="statement not covered" ></span>var out;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;sel.ranges.length;i++){<span class="cstat-no" title="statement not covered" >var range=sel.ranges[i];<span class="cstat-no" title="statement not covered" >v</span>ar newAnchor=skipAtomic(doc,range.anchor,bias,mayClear);<span class="cstat-no" title="statement not covered" >v</span>ar newHead=skipAtomic(doc,range.head,bias,mayClear);<span class="cstat-no" title="statement not covered" >i</span>f(out||newAnchor!=range.anchor||newHead!=range.head){<span class="cstat-no" title="statement not covered" >if(!out)<span class="cstat-no" title="statement not covered" >out=sel.ranges.slice(0,i);<span class="cstat-no" title="statement not covered" >o</span></span>ut[i]=new Range(newAnchor,newHead);}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >return out?normalizeSelection(out,sel.primIndex):sel;}</span>
<span class="fstat-no" title="function not covered" >function skipAtomic(doc,pos,bias,mayClear){<span class="cstat-no" title="statement not covered" ></span>var flipped=false,curPos=pos;<span class="cstat-no" title="statement not covered" >v</span>ar dir=bias||1;<span class="cstat-no" title="statement not covered" >d</span>oc.cantEdit=false;<span class="cstat-no" title="statement not covered" >s</span>earch:<span class="cstat-no" title="statement not covered" >for(;;){<span class="cstat-no" title="statement not covered" >var line=getLine(doc,curPos.line);<span class="cstat-no" title="statement not covered" >i</span>f(line.markedSpans){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;line.markedSpans.length;++i){<span class="cstat-no" title="statement not covered" >var sp=line.markedSpans[i],m=sp.marker;<span class="cstat-no" title="statement not covered" >i</span>f((sp.from==null||(m.inclusiveLeft?sp.from&lt;=curPos.ch:sp.from&lt;curPos.ch))&amp;&amp;(sp.to==null||(m.inclusiveRight?sp.to&gt;=curPos.ch:sp.to&gt;curPos.ch))){<span class="cstat-no" title="statement not covered" >if(mayClear){<span class="cstat-no" title="statement not covered" >signal(m,"beforeCursorEnter");<span class="cstat-no" title="statement not covered" >i</span>f(m.explicitlyCleared){<span class="cstat-no" title="statement not covered" >if(!line.markedSpans)<span class="cstat-no" title="statement not covered" >break;e</span>lse{<span class="cstat-no" title="statement not covered" >--i;<span class="cstat-no" title="statement not covered" >c</span>ontinue;}</span>}</span>}</span></span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(!m.atomic)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >v</span></span>ar newPos=m.find(dir&lt;0?-1:1);<span class="cstat-no" title="statement not covered" >i</span>f(cmp(newPos,curPos)==0){<span class="cstat-no" title="statement not covered" >newPos.ch+=dir;<span class="cstat-no" title="statement not covered" >i</span>f(newPos.ch&lt;0){<span class="cstat-no" title="statement not covered" >if(newPos.line&gt;doc.first)<span class="cstat-no" title="statement not covered" >newPos=clipPos(doc,Pos(newPos.line-1));e</span>lse <span class="cstat-no" title="statement not covered" >newPos=null;}</span></span>else <span class="cstat-no" title="statement not covered" >if(newPos.ch&gt;line.text.length){<span class="cstat-no" title="statement not covered" >if(newPos.line&lt;doc.first+doc.size-1)<span class="cstat-no" title="statement not covered" >newPos=Pos(newPos.line+1,0);e</span>lse <span class="cstat-no" title="statement not covered" >newPos=null;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(!newPos){<span class="cstat-no" title="statement not covered" >if(flipped){<span class="cstat-no" title="statement not covered" >if(!mayClear)<span class="cstat-no" title="statement not covered" >return skipAtomic(doc,pos,bias,true);<span class="cstat-no" title="statement not covered" >d</span></span>oc.cantEdit=true;<span class="cstat-no" title="statement not covered" >r</span>eturn Pos(doc.first,0);}</span></span></span>
<span class="cstat-no" title="statement not covered" >flipped=true;<span class="cstat-no" title="statement not covered" >n</span>ewPos=pos;<span class="cstat-no" title="statement not covered" >d</span>ir=-dir;}</span>}
<span class="cstat-no" title="statement not covered" >curPos=newPos;<span class="cstat-no" title="statement not covered" >c</span>ontinue search;}</span>}}
<span class="cstat-no" title="statement not covered" >return curPos;}</span>}
<span class="fstat-no" title="function not covered" >function drawSelection(cm){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display,doc=cm.doc,result={};<span class="cstat-no" title="statement not covered" >v</span>ar curFragment=result.cursors=document.createDocumentFragment();<span class="cstat-no" title="statement not covered" >v</span>ar selFragment=result.selection=document.createDocumentFragment();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;doc.sel.ranges.length;i++){<span class="cstat-no" title="statement not covered" >var range=doc.sel.ranges[i];<span class="cstat-no" title="statement not covered" >v</span>ar collapsed=range.empty();<span class="cstat-no" title="statement not covered" >i</span>f(collapsed||cm.options.showCursorWhenSelecting)</span></span>
<span class="cstat-no" title="statement not covered" >drawSelectionCursor(cm,range,curFragment);<span class="cstat-no" title="statement not covered" >i</span>f(!collapsed)</span>
<span class="cstat-no" title="statement not covered" >drawSelectionRange(cm,range,selFragment);}</span>
<span class="cstat-no" title="statement not covered" >if(cm.options.moveInputWithCursor){<span class="cstat-no" title="statement not covered" >var headPos=cursorCoords(cm,doc.sel.primary().head,"div");<span class="cstat-no" title="statement not covered" >v</span>ar wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();<span class="cstat-no" title="statement not covered" >r</span>esult.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));<span class="cstat-no" title="statement not covered" >r</span>esult.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left));}</span></span>
<span class="cstat-no" title="statement not covered" >return result;}</span>
<span class="fstat-no" title="function not covered" >function showSelection(cm,drawn){<span class="cstat-no" title="statement not covered" ></span>removeChildrenAndAdd(cm.display.cursorDiv,drawn.cursors);<span class="cstat-no" title="statement not covered" >r</span>emoveChildrenAndAdd(cm.display.selectionDiv,drawn.selection);<span class="cstat-no" title="statement not covered" >i</span>f(drawn.teTop!=null){<span class="cstat-no" title="statement not covered" >cm.display.inputDiv.style.top=drawn.teTop+"px";<span class="cstat-no" title="statement not covered" >c</span>m.display.inputDiv.style.left=drawn.teLeft+"px";}</span>}</span>
<span class="fstat-no" title="function not covered" >function updateSelection(cm){<span class="cstat-no" title="statement not covered" ></span>showSelection(cm,drawSelection(cm));}</span>
<span class="fstat-no" title="function not covered" >function drawSelectionCursor(cm,range,output){<span class="cstat-no" title="statement not covered" ></span>var pos=cursorCoords(cm,range.head,"div",null,null,!cm.options.singleCursorHeightPerLine);<span class="cstat-no" title="statement not covered" >v</span>ar cursor=output.appendChild(elt("div","\u00a0","CodeMirror-cursor"));<span class="cstat-no" title="statement not covered" >c</span>ursor.style.left=pos.left+"px";<span class="cstat-no" title="statement not covered" >c</span>ursor.style.top=pos.top+"px";<span class="cstat-no" title="statement not covered" >c</span>ursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px";<span class="cstat-no" title="statement not covered" >i</span>f(pos.other){<span class="cstat-no" title="statement not covered" >var otherCursor=output.appendChild(elt("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));<span class="cstat-no" title="statement not covered" >o</span>therCursor.style.display="";<span class="cstat-no" title="statement not covered" >o</span>therCursor.style.left=pos.other.left+"px";<span class="cstat-no" title="statement not covered" >o</span>therCursor.style.top=pos.other.top+"px";<span class="cstat-no" title="statement not covered" >o</span>therCursor.style.height=(pos.other.bottom-pos.other.top)*.85+"px";}</span>}</span>
<span class="fstat-no" title="function not covered" >function drawSelectionRange(cm,range,output){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display,doc=cm.doc;<span class="cstat-no" title="statement not covered" >v</span>ar fragment=document.createDocumentFragment();<span class="cstat-no" title="statement not covered" >v</span>ar padding=paddingH(cm.display),leftSide=padding.left;<span class="cstat-no" title="statement not covered" >v</span>ar rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;<span class="fstat-no" title="function not covered" >f</span>unction add(left,top,width,bottom){<span class="cstat-no" title="statement not covered" ></span>if(top&lt;0)<span class="cstat-no" title="statement not covered" >top=0;<span class="cstat-no" title="statement not covered" >t</span></span>op=Math.round(top);<span class="cstat-no" title="statement not covered" >b</span>ottom=Math.round(bottom);<span class="cstat-no" title="statement not covered" >f</span>ragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px; top: "+top+"px; width: "+(width==null?rightSide-left:width)+"px; height: "+(bottom-top)+"px"));}</span>
<span class="fstat-no" title="function not covered" >function drawForLine(line,fromArg,toArg){<span class="cstat-no" title="statement not covered" ></span>var lineObj=getLine(doc,line);<span class="cstat-no" title="statement not covered" >v</span>ar lineLen=lineObj.text.length;<span class="cstat-no" title="statement not covered" >v</span>ar start,end;<span class="fstat-no" title="function not covered" >f</span>unction coords(ch,bias){<span class="cstat-no" title="statement not covered" ></span>return charCoords(cm,Pos(line,ch),"div",lineObj,bias);}</span>
<span class="cstat-no" title="statement not covered" >iterateBidiSections(getOrder(lineObj),fromArg||0,toArg==null?lineLen:toArg,<span class="fstat-no" title="function not covered" >function(from,to,dir){<span class="cstat-no" title="statement not covered" ></span>var leftPos=coords(from,"left"),rightPos,left,right;<span class="cstat-no" title="statement not covered" >i</span>f(from==to){<span class="cstat-no" title="statement not covered" >rightPos=leftPos;<span class="cstat-no" title="statement not covered" >l</span>eft=right=leftPos.left;}</span>else{<span class="cstat-no" title="statement not covered" >rightPos=coords(to-1,"right");<span class="cstat-no" title="statement not covered" >i</span>f(dir=="rtl"){<span class="cstat-no" title="statement not covered" >var tmp=leftPos;<span class="cstat-no" title="statement not covered" >l</span>eftPos=rightPos;<span class="cstat-no" title="statement not covered" >r</span>ightPos=tmp;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >left=leftPos.left;<span class="cstat-no" title="statement not covered" >r</span>ight=rightPos.right;}</span>
<span class="cstat-no" title="statement not covered" >if(fromArg==null&amp;&amp;from==0)<span class="cstat-no" title="statement not covered" >left=leftSide;<span class="cstat-no" title="statement not covered" >i</span></span>f(rightPos.top-leftPos.top&gt;3){<span class="cstat-no" title="statement not covered" >add(left,leftPos.top,null,leftPos.bottom);<span class="cstat-no" title="statement not covered" >l</span>eft=leftSide;<span class="cstat-no" title="statement not covered" >i</span>f(leftPos.bottom&lt;rightPos.top)<span class="cstat-no" title="statement not covered" >add(left,leftPos.bottom,null,rightPos.top);}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(toArg==null&amp;&amp;to==lineLen)<span class="cstat-no" title="statement not covered" >right=rightSide;<span class="cstat-no" title="statement not covered" >i</span></span>f(!start||leftPos.top&lt;start.top||leftPos.top==start.top&amp;&amp;leftPos.left&lt;start.left)</span>
<span class="cstat-no" title="statement not covered" >start=leftPos;<span class="cstat-no" title="statement not covered" >i</span>f(!end||rightPos.bottom&gt;end.bottom||rightPos.bottom==end.bottom&amp;&amp;rightPos.right&gt;end.right)</span>
<span class="cstat-no" title="statement not covered" >end=rightPos;<span class="cstat-no" title="statement not covered" >i</span>f(left&lt;leftSide+1)<span class="cstat-no" title="statement not covered" >left=leftSide;<span class="cstat-no" title="statement not covered" >a</span></span>dd(left,rightPos.top,right-left,rightPos.bottom);}</span>);<span class="cstat-no" title="statement not covered" >return{start:start,end:end};}</span>
<span class="cstat-no" title="statement not covered" >var sFrom=range.from(),sTo=range.to();<span class="cstat-no" title="statement not covered" >i</span>f(sFrom.line==sTo.line){<span class="cstat-no" title="statement not covered" >drawForLine(sFrom.line,sFrom.ch,sTo.ch);}</span>else{<span class="cstat-no" title="statement not covered" >var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line);<span class="cstat-no" title="statement not covered" >v</span>ar singleVLine=visualLine(fromLine)==visualLine(toLine);<span class="cstat-no" title="statement not covered" >v</span>ar leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;<span class="cstat-no" title="statement not covered" >v</span>ar rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;<span class="cstat-no" title="statement not covered" >i</span>f(singleVLine){<span class="cstat-no" title="statement not covered" >if(leftEnd.top&lt;rightStart.top-2){<span class="cstat-no" title="statement not covered" >add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);<span class="cstat-no" title="statement not covered" >a</span>dd(leftSide,rightStart.top,rightStart.left,rightStart.bottom);}</span>else{<span class="cstat-no" title="statement not covered" >add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom);}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(leftEnd.bottom&lt;rightStart.top)</span>
<span class="cstat-no" title="statement not covered" >add(leftSide,leftEnd.bottom,null,rightStart.top);}</span>
<span class="cstat-no" title="statement not covered" >output.appendChild(fragment);}</span>
<span class="fstat-no" title="function not covered" >function restartBlink(cm){<span class="cstat-no" title="statement not covered" ></span>if(!cm.state.focused)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar display=cm.display;<span class="cstat-no" title="statement not covered" >c</span>learInterval(display.blinker);<span class="cstat-no" title="statement not covered" >v</span>ar on=true;<span class="cstat-no" title="statement not covered" >d</span>isplay.cursorDiv.style.visibility="";<span class="cstat-no" title="statement not covered" >i</span>f(cm.options.cursorBlinkRate&gt;0)</span>
<span class="cstat-no" title="statement not covered" >display.blinker=setInterval(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>display.cursorDiv.style.visibility=(on=!on)?"":"hidden";}</span>,cm.options.cursorBlinkRate);e</span>lse <span class="cstat-no" title="statement not covered" >if(cm.options.cursorBlinkRate&lt;0)</span>
<span class="cstat-no" title="statement not covered" >display.cursorDiv.style.visibility="hidden";}</span>
<span class="fstat-no" title="function not covered" >function startWorker(cm,time){<span class="cstat-no" title="statement not covered" ></span>if(cm.doc.mode.startState&amp;&amp;cm.doc.frontier&lt;cm.display.viewTo)</span>
<span class="cstat-no" title="statement not covered" >cm.state.highlight.set(time,bind(highlightWorker,cm));}</span>
<span class="fstat-no" title="function not covered" >function highlightWorker(cm){<span class="cstat-no" title="statement not covered" ></span>var doc=cm.doc;<span class="cstat-no" title="statement not covered" >i</span>f(doc.frontier&lt;doc.first)<span class="cstat-no" title="statement not covered" >doc.frontier=doc.first;<span class="cstat-no" title="statement not covered" >i</span></span>f(doc.frontier&gt;=cm.display.viewTo)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar end=+new Date+cm.options.workTime;<span class="cstat-no" title="statement not covered" >v</span>ar state=copyState(doc.mode,getStateBefore(cm,doc.frontier));<span class="cstat-no" title="statement not covered" >v</span>ar changedLines=[];<span class="cstat-no" title="statement not covered" >d</span>oc.iter(doc.frontier,Math.min(doc.first+doc.size,cm.display.viewTo+500),<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(doc.frontier&gt;=cm.display.viewFrom){<span class="cstat-no" title="statement not covered" >var oldStyles=line.styles;<span class="cstat-no" title="statement not covered" >v</span>ar highlighted=highlightLine(cm,line,state,true);<span class="cstat-no" title="statement not covered" >l</span>ine.styles=highlighted.styles;<span class="cstat-no" title="statement not covered" >v</span>ar oldCls=line.styleClasses,newCls=highlighted.classes;<span class="cstat-no" title="statement not covered" >i</span>f(newCls)<span class="cstat-no" title="statement not covered" >line.styleClasses=newCls;e</span>lse <span class="cstat-no" title="statement not covered" >if(oldCls)<span class="cstat-no" title="statement not covered" >line.styleClasses=null;<span class="cstat-no" title="statement not covered" >v</span></span></span>ar ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&amp;&amp;(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;!ischange&amp;&amp;i&lt;oldStyles.length;++i)<span class="cstat-no" title="statement not covered" >ischange=oldStyles[i]!=line.styles[i];<span class="cstat-no" title="statement not covered" >i</span></span>f(ischange)<span class="cstat-no" title="statement not covered" >changedLines.push(doc.frontier);<span class="cstat-no" title="statement not covered" >l</span></span>ine.stateAfter=copyState(doc.mode,state);}</span>else{<span class="cstat-no" title="statement not covered" >processLine(cm,line.text,state);<span class="cstat-no" title="statement not covered" >l</span>ine.stateAfter=doc.frontier%5==0?copyState(doc.mode,state):null;}</span></span></span>
<span class="cstat-no" title="statement not covered" >++doc.frontier;<span class="cstat-no" title="statement not covered" >i</span>f(+new Date&gt;end){<span class="cstat-no" title="statement not covered" >startWorker(cm,cm.options.workDelay);<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span>}</span>);<span class="cstat-no" title="statement not covered" >if(changedLines.length)<span class="cstat-no" title="statement not covered" >runInOp(cm,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;changedLines.length;i++)</span></span></span>
<span class="cstat-no" title="statement not covered" >regLineChange(cm,changedLines[i],"text");}</span>);}
<span class="fstat-no" title="function not covered" >function findStartLine(cm,n,precise){<span class="cstat-no" title="statement not covered" ></span>var minindent,minline,doc=cm.doc;<span class="cstat-no" title="statement not covered" >v</span>ar lim=precise?-1:n-(cm.doc.mode.innerMode?1000:100);<span class="cstat-no" title="statement not covered" >f</span>or(var search=n;search&gt;lim;--search){<span class="cstat-no" title="statement not covered" >if(search&lt;=doc.first)<span class="cstat-no" title="statement not covered" >return doc.first;<span class="cstat-no" title="statement not covered" >v</span></span>ar line=getLine(doc,search-1);<span class="cstat-no" title="statement not covered" >i</span>f(line.stateAfter&amp;&amp;(!precise||search&lt;=doc.frontier))<span class="cstat-no" title="statement not covered" >return search;<span class="cstat-no" title="statement not covered" >v</span></span>ar indented=countColumn(line.text,null,cm.options.tabSize);<span class="cstat-no" title="statement not covered" >i</span>f(minline==null||minindent&gt;indented){<span class="cstat-no" title="statement not covered" >minline=search-1;<span class="cstat-no" title="statement not covered" >m</span>inindent=indented;}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >return minline;}</span>
<span class="fstat-no" title="function not covered" >function getStateBefore(cm,n,precise){<span class="cstat-no" title="statement not covered" ></span>var doc=cm.doc,display=cm.display;<span class="cstat-no" title="statement not covered" >i</span>f(!doc.mode.startState)<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >v</span></span>ar pos=findStartLine(cm,n,precise),state=pos&gt;doc.first&amp;&amp;getLine(doc,pos-1).stateAfter;<span class="cstat-no" title="statement not covered" >i</span>f(!state)<span class="cstat-no" title="statement not covered" >state=startState(doc.mode);e</span>lse <span class="cstat-no" title="statement not covered" >state=copyState(doc.mode,state);<span class="cstat-no" title="statement not covered" >d</span></span>oc.iter(pos,n,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>processLine(cm,line.text,state);<span class="cstat-no" title="statement not covered" >v</span>ar save=pos==n-1||pos%5==0||pos&gt;=display.viewFrom&amp;&amp;pos&lt;display.viewTo;<span class="cstat-no" title="statement not covered" >l</span>ine.stateAfter=save?copyState(doc.mode,state):null;<span class="cstat-no" title="statement not covered" >+</span>+pos;}</span>);<span class="cstat-no" title="statement not covered" >i</span>f(precise)<span class="cstat-no" title="statement not covered" >doc.frontier=pos;<span class="cstat-no" title="statement not covered" >r</span></span>eturn state;}</span>
<span class="fstat-no" title="function not covered" >function paddingTop(display){<span class="cstat-no" title="statement not covered" ></span>return display.lineSpace.offsetTop;}</span>
<span class="fstat-no" title="function not covered" >function paddingVert(display){<span class="cstat-no" title="statement not covered" ></span>return display.mover.offsetHeight-display.lineSpace.offsetHeight;}</span>
<span class="fstat-no" title="function not covered" >function paddingH(display){<span class="cstat-no" title="statement not covered" ></span>if(display.cachedPaddingH)<span class="cstat-no" title="statement not covered" >return display.cachedPaddingH;<span class="cstat-no" title="statement not covered" >v</span></span>ar e=removeChildrenAndAdd(display.measure,elt("pre","x"));<span class="cstat-no" title="statement not covered" >v</span>ar style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;<span class="cstat-no" title="statement not covered" >v</span>ar data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};<span class="cstat-no" title="statement not covered" >i</span>f(!isNaN(data.left)&amp;&amp;!isNaN(data.right))<span class="cstat-no" title="statement not covered" >display.cachedPaddingH=data;<span class="cstat-no" title="statement not covered" >r</span></span>eturn data;}</span>
<span class="fstat-no" title="function not covered" >function scrollGap(cm){<span class="cstat-no" title="statement not covered" ></span>return scrollerGap-cm.display.nativeBarWidth;}</span>
<span class="fstat-no" title="function not covered" >function displayWidth(cm){<span class="cstat-no" title="statement not covered" ></span>return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth;}</span>
<span class="fstat-no" title="function not covered" >function displayHeight(cm){<span class="cstat-no" title="statement not covered" ></span>return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight;}</span>
<span class="fstat-no" title="function not covered" >function ensureLineHeights(cm,lineView,rect){<span class="cstat-no" title="statement not covered" ></span>var wrapping=cm.options.lineWrapping;<span class="cstat-no" title="statement not covered" >v</span>ar curWidth=wrapping&amp;&amp;displayWidth(cm);<span class="cstat-no" title="statement not covered" >i</span>f(!lineView.measure.heights||wrapping&amp;&amp;lineView.measure.width!=curWidth){<span class="cstat-no" title="statement not covered" >var heights=lineView.measure.heights=[];<span class="cstat-no" title="statement not covered" >i</span>f(wrapping){<span class="cstat-no" title="statement not covered" >lineView.measure.width=curWidth;<span class="cstat-no" title="statement not covered" >v</span>ar rects=lineView.text.firstChild.getClientRects();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;rects.length-1;i++){<span class="cstat-no" title="statement not covered" >var cur=rects[i],next=rects[i+1];<span class="cstat-no" title="statement not covered" >i</span>f(Math.abs(cur.bottom-next.bottom)&gt;2)</span></span></span></span>
<span class="cstat-no" title="statement not covered" >heights.push((cur.bottom+next.top)/2-rect.top);}</span>}
<span class="cstat-no" title="statement not covered" >heights.push(rect.bottom-rect.top);}</span>}
<span class="fstat-no" title="function not covered" >function mapFromLineView(lineView,line,lineN){<span class="cstat-no" title="statement not covered" ></span>if(lineView.line==line)</span>
<span class="cstat-no" title="statement not covered" >return{map:lineView.measure.map,cache:lineView.measure.cache};<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;lineView.rest.length;i++)</span>
<span class="cstat-no" title="statement not covered" >if(lineView.rest[i]==line)</span>
<span class="cstat-no" title="statement not covered" >return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;lineView.rest.length;i++)</span>
<span class="cstat-no" title="statement not covered" >if(lineNo(lineView.rest[i])&gt;lineN)</span>
<span class="cstat-no" title="statement not covered" >return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i],before:true};}</span>
<span class="fstat-no" title="function not covered" >function updateExternalMeasurement(cm,line){<span class="cstat-no" title="statement not covered" ></span>line=visualLine(line);<span class="cstat-no" title="statement not covered" >v</span>ar lineN=lineNo(line);<span class="cstat-no" title="statement not covered" >v</span>ar view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);<span class="cstat-no" title="statement not covered" >v</span>iew.lineN=lineN;<span class="cstat-no" title="statement not covered" >v</span>ar built=view.built=buildLineContent(cm,view);<span class="cstat-no" title="statement not covered" >v</span>iew.text=built.pre;<span class="cstat-no" title="statement not covered" >r</span>emoveChildrenAndAdd(cm.display.lineMeasure,built.pre);<span class="cstat-no" title="statement not covered" >r</span>eturn view;}</span>
<span class="fstat-no" title="function not covered" >function measureChar(cm,line,ch,bias){<span class="cstat-no" title="statement not covered" ></span>return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias);}</span>
<span class="fstat-no" title="function not covered" >function findViewForLine(cm,lineN){<span class="cstat-no" title="statement not covered" ></span>if(lineN&gt;=cm.display.viewFrom&amp;&amp;lineN&lt;cm.display.viewTo)</span>
<span class="cstat-no" title="statement not covered" >return cm.display.view[findViewIndex(cm,lineN)];<span class="cstat-no" title="statement not covered" >v</span>ar ext=cm.display.externalMeasured;<span class="cstat-no" title="statement not covered" >i</span>f(ext&amp;&amp;lineN&gt;=ext.lineN&amp;&amp;lineN&lt;ext.lineN+ext.size)</span>
<span class="cstat-no" title="statement not covered" >return ext;}</span>
<span class="fstat-no" title="function not covered" >function prepareMeasureForLine(cm,line){<span class="cstat-no" title="statement not covered" ></span>var lineN=lineNo(line);<span class="cstat-no" title="statement not covered" >v</span>ar view=findViewForLine(cm,lineN);<span class="cstat-no" title="statement not covered" >i</span>f(view&amp;&amp;!view.text)</span>
<span class="cstat-no" title="statement not covered" >view=null;e</span>lse <span class="cstat-no" title="statement not covered" >if(view&amp;&amp;view.changes)</span>
<span class="cstat-no" title="statement not covered" >updateLineForChanges(cm,view,lineN,getDimensions(cm));<span class="cstat-no" title="statement not covered" >i</span>f(!view)</span>
<span class="cstat-no" title="statement not covered" >view=updateExternalMeasurement(cm,line);<span class="cstat-no" title="statement not covered" >v</span>ar info=mapFromLineView(view,line,lineN);<span class="cstat-no" title="statement not covered" >r</span>eturn{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false};}</span>
<span class="fstat-no" title="function not covered" >function measureCharPrepared(cm,prepared,ch,bias,varHeight){<span class="cstat-no" title="statement not covered" ></span>if(prepared.before)<span class="cstat-no" title="statement not covered" >ch=-1;<span class="cstat-no" title="statement not covered" >v</span></span>ar key=ch+(bias||""),found;<span class="cstat-no" title="statement not covered" >i</span>f(prepared.cache.hasOwnProperty(key)){<span class="cstat-no" title="statement not covered" >found=prepared.cache[key];}</span>else{<span class="cstat-no" title="statement not covered" >if(!prepared.rect)</span></span>
<span class="cstat-no" title="statement not covered" >prepared.rect=prepared.view.text.getBoundingClientRect();<span class="cstat-no" title="statement not covered" >i</span>f(!prepared.hasHeights){<span class="cstat-no" title="statement not covered" >ensureLineHeights(cm,prepared.view,prepared.rect);<span class="cstat-no" title="statement not covered" >p</span>repared.hasHeights=true;}</span></span>
<span class="cstat-no" title="statement not covered" >found=measureCharInner(cm,prepared,ch,bias);<span class="cstat-no" title="statement not covered" >i</span>f(!found.bogus)<span class="cstat-no" title="statement not covered" >prepared.cache[key]=found;}</span></span>
<span class="cstat-no" title="statement not covered" >return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom};}</span>
<span class="cstat-no" title="statement not covered" >var nullRect={left:0,right:0,top:0,bottom:0};<span class="fstat-no" title="function not covered" >f</span>unction measureCharInner(cm,prepared,ch,bias){<span class="cstat-no" title="statement not covered" ></span>var map=prepared.map;<span class="cstat-no" title="statement not covered" >v</span>ar node,start,end,collapse;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;map.length;i+=3){<span class="cstat-no" title="statement not covered" >var mStart=map[i],mEnd=map[i+1];<span class="cstat-no" title="statement not covered" >i</span>f(ch&lt;mStart){<span class="cstat-no" title="statement not covered" >start=0;<span class="cstat-no" title="statement not covered" >e</span>nd=1;<span class="cstat-no" title="statement not covered" >c</span>ollapse="left";}</span>else <span class="cstat-no" title="statement not covered" >if(ch&lt;mEnd){<span class="cstat-no" title="statement not covered" >start=ch-mStart;<span class="cstat-no" title="statement not covered" >e</span>nd=start+1;}</span>else <span class="cstat-no" title="statement not covered" >if(i==map.length-3||ch==mEnd&amp;&amp;map[i+3]&gt;ch){<span class="cstat-no" title="statement not covered" >end=mEnd-mStart;<span class="cstat-no" title="statement not covered" >s</span>tart=end-1;<span class="cstat-no" title="statement not covered" >i</span>f(ch&gt;=mEnd)<span class="cstat-no" title="statement not covered" >collapse="right";}</span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(start!=null){<span class="cstat-no" title="statement not covered" >node=map[i+2];<span class="cstat-no" title="statement not covered" >i</span>f(mStart==mEnd&amp;&amp;bias==(node.insertLeft?"left":"right"))</span></span>
<span class="cstat-no" title="statement not covered" >collapse=bias;<span class="cstat-no" title="statement not covered" >i</span>f(bias=="left"&amp;&amp;start==0)</span>
<span class="cstat-no" title="statement not covered" >while(i&amp;&amp;map[i-2]==map[i-3]&amp;&amp;map[i-1].insertLeft){<span class="cstat-no" title="statement not covered" >node=map[(i-=3)+2];<span class="cstat-no" title="statement not covered" >c</span>ollapse="left";}</span></span>
<span class="cstat-no" title="statement not covered" >if(bias=="right"&amp;&amp;start==mEnd-mStart)</span>
<span class="cstat-no" title="statement not covered" >while(i&lt;map.length-3&amp;&amp;map[i+3]==map[i+4]&amp;&amp;!map[i+5].insertLeft){<span class="cstat-no" title="statement not covered" >node=map[(i+=3)+2];<span class="cstat-no" title="statement not covered" >c</span>ollapse="right";}</span></span>
<span class="cstat-no" title="statement not covered" >break;}</span>}
<span class="cstat-no" title="statement not covered" >var rect;<span class="cstat-no" title="statement not covered" >i</span>f(node.nodeType==3){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;4;i++){<span class="cstat-no" title="statement not covered" >while(start&amp;&amp;isExtendingChar(prepared.line.text.charAt(mStart+start)))<span class="cstat-no" title="statement not covered" >--start;<span class="cstat-no" title="statement not covered" >w</span></span>hile(mStart+end&lt;mEnd&amp;&amp;isExtendingChar(prepared.line.text.charAt(mStart+end)))<span class="cstat-no" title="statement not covered" >++end;<span class="cstat-no" title="statement not covered" >i</span></span>f(ie&amp;&amp;ie_version&lt;9&amp;&amp;start==0&amp;&amp;end==mEnd-mStart){<span class="cstat-no" title="statement not covered" >rect=node.parentNode.getBoundingClientRect();}</span>else <span class="cstat-no" title="statement not covered" >if(ie&amp;&amp;cm.options.lineWrapping){<span class="cstat-no" title="statement not covered" >var rects=range(node,start,end).getClientRects();<span class="cstat-no" title="statement not covered" >i</span>f(rects.length)</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >rect=rects[bias=="right"?rects.length-1:0];e</span>lse
<span class="cstat-no" title="statement not covered" >rect=nullRect;}</span>else{<span class="cstat-no" title="statement not covered" >rect=range(node,start,end).getBoundingClientRect()||nullRect;}</span>
<span class="cstat-no" title="statement not covered" >if(rect.left||rect.right||start==0)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >e</span></span>nd=start;<span class="cstat-no" title="statement not covered" >s</span>tart=start-1;<span class="cstat-no" title="statement not covered" >c</span>ollapse="right";}</span>
<span class="cstat-no" title="statement not covered" >if(ie&amp;&amp;ie_version&lt;11)<span class="cstat-no" title="statement not covered" >rect=maybeUpdateRectForZooming(cm.display.measure,rect);}</span></span>else{<span class="cstat-no" title="statement not covered" >if(start&gt;0)<span class="cstat-no" title="statement not covered" >collapse=bias="right";<span class="cstat-no" title="statement not covered" >v</span></span>ar rects;<span class="cstat-no" title="statement not covered" >i</span>f(cm.options.lineWrapping&amp;&amp;(rects=node.getClientRects()).length&gt;1)</span>
<span class="cstat-no" title="statement not covered" >rect=rects[bias=="right"?rects.length-1:0];e</span>lse
<span class="cstat-no" title="statement not covered" >rect=node.getBoundingClientRect();}</span>
<span class="cstat-no" title="statement not covered" >if(ie&amp;&amp;ie_version&lt;9&amp;&amp;!start&amp;&amp;(!rect||!rect.left&amp;&amp;!rect.right)){<span class="cstat-no" title="statement not covered" >var rSpan=node.parentNode.getClientRects()[0];<span class="cstat-no" title="statement not covered" >i</span>f(rSpan)</span></span>
<span class="cstat-no" title="statement not covered" >rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom};e</span>lse
<span class="cstat-no" title="statement not covered" >rect=nullRect;}</span>
<span class="cstat-no" title="statement not covered" >var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top;<span class="cstat-no" title="statement not covered" >v</span>ar mid=(rtop+rbot)/2;<span class="cstat-no" title="statement not covered" >v</span>ar heights=prepared.view.measure.heights;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;heights.length-1;i++)</span>
<span class="cstat-no" title="statement not covered" >if(mid&lt;heights[i])<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >v</span></span>ar top=i?heights[i-1]:0,bot=heights[i];<span class="cstat-no" title="statement not covered" >v</span>ar result={left:(collapse=="right"?rect.right:rect.left)-prepared.rect.left,right:(collapse=="left"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};<span class="cstat-no" title="statement not covered" >i</span>f(!rect.left&amp;&amp;!rect.right)<span class="cstat-no" title="statement not covered" >result.bogus=true;<span class="cstat-no" title="statement not covered" >i</span></span>f(!cm.options.singleCursorHeightPerLine){<span class="cstat-no" title="statement not covered" >result.rtop=rtop;<span class="cstat-no" title="statement not covered" >r</span>esult.rbottom=rbot;}</span></span>
<span class="cstat-no" title="statement not covered" >return result;}</span>
<span class="fstat-no" title="function not covered" >function maybeUpdateRectForZooming(measure,rect){<span class="cstat-no" title="statement not covered" ></span>if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))</span>
<span class="cstat-no" title="statement not covered" >return rect;<span class="cstat-no" title="statement not covered" >v</span>ar scaleX=screen.logicalXDPI/screen.deviceXDPI;<span class="cstat-no" title="statement not covered" >v</span>ar scaleY=screen.logicalYDPI/screen.deviceYDPI;<span class="cstat-no" title="statement not covered" >r</span>eturn{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY};}</span>
<span class="fstat-no" title="function not covered" >function clearLineMeasurementCacheFor(lineView){<span class="cstat-no" title="statement not covered" ></span>if(lineView.measure){<span class="cstat-no" title="statement not covered" >lineView.measure.cache={};<span class="cstat-no" title="statement not covered" >l</span>ineView.measure.heights=null;<span class="cstat-no" title="statement not covered" >i</span>f(lineView.rest)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;lineView.rest.length;i++)</span></span></span>
<span class="cstat-no" title="statement not covered" >lineView.measure.caches[i]={};}</span>}
<span class="fstat-no" title="function not covered" >function clearLineMeasurementCache(cm){<span class="cstat-no" title="statement not covered" ></span>cm.display.externalMeasure=null;<span class="cstat-no" title="statement not covered" >r</span>emoveChildren(cm.display.lineMeasure);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;cm.display.view.length;i++)</span>
<span class="cstat-no" title="statement not covered" >clearLineMeasurementCacheFor(cm.display.view[i]);}</span>
<span class="fstat-no" title="function not covered" >function clearCaches(cm){<span class="cstat-no" title="statement not covered" ></span>clearLineMeasurementCache(cm);<span class="cstat-no" title="statement not covered" >c</span>m.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;<span class="cstat-no" title="statement not covered" >i</span>f(!cm.options.lineWrapping)<span class="cstat-no" title="statement not covered" >cm.display.maxLineChanged=true;<span class="cstat-no" title="statement not covered" >c</span></span>m.display.lineNumChars=null;}</span>
<span class="fstat-no" title="function not covered" >function pageScrollX(){<span class="cstat-no" title="statement not covered" ></span>return window.pageXOffset||(document.documentElement||document.body).scrollLeft;}</span>
<span class="fstat-no" title="function not covered" >function pageScrollY(){<span class="cstat-no" title="statement not covered" ></span>return window.pageYOffset||(document.documentElement||document.body).scrollTop;}</span>
<span class="fstat-no" title="function not covered" >function intoCoordSystem(cm,lineObj,rect,context){<span class="cstat-no" title="statement not covered" ></span>if(lineObj.widgets)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;lineObj.widgets.length;++i)<span class="cstat-no" title="statement not covered" >if(lineObj.widgets[i].above){<span class="cstat-no" title="statement not covered" >var size=widgetHeight(lineObj.widgets[i]);<span class="cstat-no" title="statement not covered" >r</span>ect.top+=size;<span class="cstat-no" title="statement not covered" >r</span>ect.bottom+=size;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(context=="line")<span class="cstat-no" title="statement not covered" >return rect;<span class="cstat-no" title="statement not covered" >i</span></span>f(!context)<span class="cstat-no" title="statement not covered" >context="local";<span class="cstat-no" title="statement not covered" >v</span></span>ar yOff=heightAtLine(lineObj);<span class="cstat-no" title="statement not covered" >i</span>f(context=="local")<span class="cstat-no" title="statement not covered" >yOff+=paddingTop(cm.display);e</span>lse <span class="cstat-no" title="statement not covered" >yOff-=cm.display.viewOffset;<span class="cstat-no" title="statement not covered" >i</span></span>f(context=="page"||context=="window"){<span class="cstat-no" title="statement not covered" >var lOff=cm.display.lineSpace.getBoundingClientRect();<span class="cstat-no" title="statement not covered" >y</span>Off+=lOff.top+(context=="window"?0:pageScrollY());<span class="cstat-no" title="statement not covered" >v</span>ar xOff=lOff.left+(context=="window"?0:pageScrollX());<span class="cstat-no" title="statement not covered" >r</span>ect.left+=xOff;<span class="cstat-no" title="statement not covered" >r</span>ect.right+=xOff;}</span></span>
<span class="cstat-no" title="statement not covered" >rect.top+=yOff;<span class="cstat-no" title="statement not covered" >r</span>ect.bottom+=yOff;<span class="cstat-no" title="statement not covered" >r</span>eturn rect;}</span>
<span class="fstat-no" title="function not covered" >function fromCoordSystem(cm,coords,context){<span class="cstat-no" title="statement not covered" ></span>if(context=="div")<span class="cstat-no" title="statement not covered" >return coords;<span class="cstat-no" title="statement not covered" >v</span></span>ar left=coords.left,top=coords.top;<span class="cstat-no" title="statement not covered" >i</span>f(context=="page"){<span class="cstat-no" title="statement not covered" >left-=pageScrollX();<span class="cstat-no" title="statement not covered" >t</span>op-=pageScrollY();}</span>else <span class="cstat-no" title="statement not covered" >if(context=="local"||!context){<span class="cstat-no" title="statement not covered" >var localBox=cm.display.sizer.getBoundingClientRect();<span class="cstat-no" title="statement not covered" >l</span>eft+=localBox.left;<span class="cstat-no" title="statement not covered" >t</span>op+=localBox.top;}</span></span></span>
<span class="cstat-no" title="statement not covered" >var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();<span class="cstat-no" title="statement not covered" >r</span>eturn{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top};}</span>
<span class="fstat-no" title="function not covered" >function charCoords(cm,pos,context,lineObj,bias){<span class="cstat-no" title="statement not covered" ></span>if(!lineObj)<span class="cstat-no" title="statement not covered" >lineObj=getLine(cm.doc,pos.line);<span class="cstat-no" title="statement not covered" >r</span></span>eturn intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context);}</span>
<span class="fstat-no" title="function not covered" >function cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){<span class="cstat-no" title="statement not covered" ></span>lineObj=lineObj||getLine(cm.doc,pos.line);<span class="cstat-no" title="statement not covered" >i</span>f(!preparedMeasure)<span class="cstat-no" title="statement not covered" >preparedMeasure=prepareMeasureForLine(cm,lineObj);<span class="fstat-no" title="function not covered" >f</span></span>unction get(ch,right){<span class="cstat-no" title="statement not covered" ></span>var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);<span class="cstat-no" title="statement not covered" >i</span>f(right)<span class="cstat-no" title="statement not covered" >m.left=m.right;e</span>lse <span class="cstat-no" title="statement not covered" >m.right=m.left;<span class="cstat-no" title="statement not covered" >r</span></span>eturn intoCoordSystem(cm,lineObj,m,context);}</span>
<span class="fstat-no" title="function not covered" >function getBidi(ch,partPos){<span class="cstat-no" title="statement not covered" ></span>var part=order[partPos],right=part.level%2;<span class="cstat-no" title="statement not covered" >i</span>f(ch==bidiLeft(part)&amp;&amp;partPos&amp;&amp;part.level&lt;order[partPos-1].level){<span class="cstat-no" title="statement not covered" >part=order[--partPos];<span class="cstat-no" title="statement not covered" >c</span>h=bidiRight(part)-(part.level%2?0:1);<span class="cstat-no" title="statement not covered" >r</span>ight=true;}</span>else <span class="cstat-no" title="statement not covered" >if(ch==bidiRight(part)&amp;&amp;partPos&lt;order.length-1&amp;&amp;part.level&lt;order[partPos+1].level){<span class="cstat-no" title="statement not covered" >part=order[++partPos];<span class="cstat-no" title="statement not covered" >c</span>h=bidiLeft(part)-part.level%2;<span class="cstat-no" title="statement not covered" >r</span>ight=false;}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(right&amp;&amp;ch==part.to&amp;&amp;ch&gt;part.from)<span class="cstat-no" title="statement not covered" >return get(ch-1);<span class="cstat-no" title="statement not covered" >r</span></span>eturn get(ch,right);}</span>
<span class="cstat-no" title="statement not covered" >var order=getOrder(lineObj),ch=pos.ch;<span class="cstat-no" title="statement not covered" >i</span>f(!order)<span class="cstat-no" title="statement not covered" >return get(ch);<span class="cstat-no" title="statement not covered" >v</span></span>ar partPos=getBidiPartAt(order,ch);<span class="cstat-no" title="statement not covered" >v</span>ar val=getBidi(ch,partPos);<span class="cstat-no" title="statement not covered" >i</span>f(bidiOther!=null)<span class="cstat-no" title="statement not covered" >val.other=getBidi(ch,bidiOther);<span class="cstat-no" title="statement not covered" >r</span></span>eturn val;}</span>
<span class="fstat-no" title="function not covered" >function estimateCoords(cm,pos){<span class="cstat-no" title="statement not covered" ></span>var left=0,pos=clipPos(cm.doc,pos);<span class="cstat-no" title="statement not covered" >i</span>f(!cm.options.lineWrapping)<span class="cstat-no" title="statement not covered" >left=charWidth(cm.display)*pos.ch;<span class="cstat-no" title="statement not covered" >v</span></span>ar lineObj=getLine(cm.doc,pos.line);<span class="cstat-no" title="statement not covered" >v</span>ar top=heightAtLine(lineObj)+paddingTop(cm.display);<span class="cstat-no" title="statement not covered" >r</span>eturn{left:left,right:left,top:top,bottom:top+lineObj.height};}</span>
<span class="fstat-no" title="function not covered" >function PosWithInfo(line,ch,outside,xRel){<span class="cstat-no" title="statement not covered" ></span>var pos=Pos(line,ch);<span class="cstat-no" title="statement not covered" >p</span>os.xRel=xRel;<span class="cstat-no" title="statement not covered" >i</span>f(outside)<span class="cstat-no" title="statement not covered" >pos.outside=true;<span class="cstat-no" title="statement not covered" >r</span></span>eturn pos;}</span>
<span class="fstat-no" title="function not covered" >function coordsChar(cm,x,y){<span class="cstat-no" title="statement not covered" ></span>var doc=cm.doc;<span class="cstat-no" title="statement not covered" >y</span>+=cm.display.viewOffset;<span class="cstat-no" title="statement not covered" >i</span>f(y&lt;0)<span class="cstat-no" title="statement not covered" >return PosWithInfo(doc.first,0,true,-1);<span class="cstat-no" title="statement not covered" >v</span></span>ar lineN=lineAtHeight(doc,y),last=doc.first+doc.size-1;<span class="cstat-no" title="statement not covered" >i</span>f(lineN&gt;last)</span>
<span class="cstat-no" title="statement not covered" >return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,true,1);<span class="cstat-no" title="statement not covered" >i</span>f(x&lt;0)<span class="cstat-no" title="statement not covered" >x=0;<span class="cstat-no" title="statement not covered" >v</span></span>ar lineObj=getLine(doc,lineN);<span class="cstat-no" title="statement not covered" >f</span>or(;;){<span class="cstat-no" title="statement not covered" >var found=coordsCharInner(cm,lineObj,lineN,x,y);<span class="cstat-no" title="statement not covered" >v</span>ar merged=collapsedSpanAtEnd(lineObj);<span class="cstat-no" title="statement not covered" >v</span>ar mergedPos=merged&amp;&amp;merged.find(0,true);<span class="cstat-no" title="statement not covered" >i</span>f(merged&amp;&amp;(found.ch&gt;mergedPos.from.ch||found.ch==mergedPos.from.ch&amp;&amp;found.xRel&gt;0))</span></span>
<span class="cstat-no" title="statement not covered" >lineN=lineNo(lineObj=mergedPos.to.line);e</span>lse
<span class="cstat-no" title="statement not covered" >return found;}</span>}
<span class="fstat-no" title="function not covered" >function coordsCharInner(cm,lineObj,lineNo,x,y){<span class="cstat-no" title="statement not covered" ></span>var innerOff=y-heightAtLine(lineObj);<span class="cstat-no" title="statement not covered" >v</span>ar wrongLine=false,adjust=2*cm.display.wrapper.clientWidth;<span class="cstat-no" title="statement not covered" >v</span>ar preparedMeasure=prepareMeasureForLine(cm,lineObj);<span class="fstat-no" title="function not covered" >f</span>unction getX(ch){<span class="cstat-no" title="statement not covered" ></span>var sp=cursorCoords(cm,Pos(lineNo,ch),"line",lineObj,preparedMeasure);<span class="cstat-no" title="statement not covered" >w</span>rongLine=true;<span class="cstat-no" title="statement not covered" >i</span>f(innerOff&gt;sp.bottom)<span class="cstat-no" title="statement not covered" >return sp.left-adjust;e</span>lse <span class="cstat-no" title="statement not covered" >if(innerOff&lt;sp.top)<span class="cstat-no" title="statement not covered" >return sp.left+adjust;e</span>lse <span class="cstat-no" title="statement not covered" >wrongLine=false;<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn sp.left;}</span>
<span class="cstat-no" title="statement not covered" >var bidi=getOrder(lineObj),dist=lineObj.text.length;<span class="cstat-no" title="statement not covered" >v</span>ar from=lineLeft(lineObj),to=lineRight(lineObj);<span class="cstat-no" title="statement not covered" >v</span>ar fromX=getX(from),fromOutside=wrongLine,toX=getX(to),toOutside=wrongLine;<span class="cstat-no" title="statement not covered" >i</span>f(x&gt;toX)<span class="cstat-no" title="statement not covered" >return PosWithInfo(lineNo,to,toOutside,1);<span class="cstat-no" title="statement not covered" >f</span></span>or(;;){<span class="cstat-no" title="statement not covered" >if(bidi?to==from||to==moveVisually(lineObj,from,1):to-from&lt;=1){<span class="cstat-no" title="statement not covered" >var ch=x&lt;fromX||x-fromX&lt;=toX-x?from:to;<span class="cstat-no" title="statement not covered" >v</span>ar xDiff=x-(ch==from?fromX:toX);<span class="cstat-no" title="statement not covered" >w</span>hile(isExtendingChar(lineObj.text.charAt(ch)))<span class="cstat-no" title="statement not covered" >++ch;<span class="cstat-no" title="statement not covered" >v</span></span>ar pos=PosWithInfo(lineNo,ch,ch==from?fromOutside:toOutside,xDiff&lt;-1?-1:xDiff&gt;1?1:0);<span class="cstat-no" title="statement not covered" >r</span>eturn pos;}</span></span></span>
<span class="cstat-no" title="statement not covered" >var step=Math.ceil(dist/2),middle=from+step;<span class="cstat-no" title="statement not covered" >i</span>f(bidi){<span class="cstat-no" title="statement not covered" >middle=from;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;step;++i)<span class="cstat-no" title="statement not covered" >middle=moveVisually(lineObj,middle,1);}</span></span></span>
<span class="cstat-no" title="statement not covered" >var middleX=getX(middle);<span class="cstat-no" title="statement not covered" >i</span>f(middleX&gt;x){<span class="cstat-no" title="statement not covered" >to=middle;<span class="cstat-no" title="statement not covered" >t</span>oX=middleX;<span class="cstat-no" title="statement not covered" >i</span>f(toOutside=wrongLine)<span class="cstat-no" title="statement not covered" >toX+=1000;<span class="cstat-no" title="statement not covered" >d</span></span>ist=step;}</span></span>
else{<span class="cstat-no" title="statement not covered" >from=middle;<span class="cstat-no" title="statement not covered" >f</span>romX=middleX;<span class="cstat-no" title="statement not covered" >f</span>romOutside=wrongLine;<span class="cstat-no" title="statement not covered" >d</span>ist-=step;}</span>}}
<span class="cstat-no" title="statement not covered" >var measureText;<span class="fstat-no" title="function not covered" >f</span>unction textHeight(display){<span class="cstat-no" title="statement not covered" ></span>if(display.cachedTextHeight!=null)<span class="cstat-no" title="statement not covered" >return display.cachedTextHeight;<span class="cstat-no" title="statement not covered" >i</span></span>f(measureText==null){<span class="cstat-no" title="statement not covered" >measureText=elt("pre");<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;49;++i){<span class="cstat-no" title="statement not covered" >measureText.appendChild(document.createTextNode("x"));<span class="cstat-no" title="statement not covered" >m</span>easureText.appendChild(elt("br"));}</span></span></span>
<span class="cstat-no" title="statement not covered" >measureText.appendChild(document.createTextNode("x"));}</span>
<span class="cstat-no" title="statement not covered" >removeChildrenAndAdd(display.measure,measureText);<span class="cstat-no" title="statement not covered" >v</span>ar height=measureText.offsetHeight/50;<span class="cstat-no" title="statement not covered" >i</span>f(height&gt;3)<span class="cstat-no" title="statement not covered" >display.cachedTextHeight=height;<span class="cstat-no" title="statement not covered" >r</span></span>emoveChildren(display.measure);<span class="cstat-no" title="statement not covered" >r</span>eturn height||1;}</span>
<span class="fstat-no" title="function not covered" >function charWidth(display){<span class="cstat-no" title="statement not covered" ></span>if(display.cachedCharWidth!=null)<span class="cstat-no" title="statement not covered" >return display.cachedCharWidth;<span class="cstat-no" title="statement not covered" >v</span></span>ar anchor=elt("span","xxxxxxxxxx");<span class="cstat-no" title="statement not covered" >v</span>ar pre=elt("pre",[anchor]);<span class="cstat-no" title="statement not covered" >r</span>emoveChildrenAndAdd(display.measure,pre);<span class="cstat-no" title="statement not covered" >v</span>ar rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;<span class="cstat-no" title="statement not covered" >i</span>f(width&gt;2)<span class="cstat-no" title="statement not covered" >display.cachedCharWidth=width;<span class="cstat-no" title="statement not covered" >r</span></span>eturn width||10;}</span>
<span class="cstat-no" title="statement not covered" >var operationGroup=null;<span class="cstat-no" title="statement not covered" >v</span>ar nextOpId=0;<span class="fstat-no" title="function not covered" >f</span>unction startOperation(cm){<span class="cstat-no" title="statement not covered" ></span>cm.curOp={cm:cm,viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++nextOpId};<span class="cstat-no" title="statement not covered" >i</span>f(operationGroup){<span class="cstat-no" title="statement not covered" >operationGroup.ops.push(cm.curOp);}</span>else{<span class="cstat-no" title="statement not covered" >cm.curOp.ownsGroup=operationGroup={ops:[cm.curOp],delayedCallbacks:[]};}</span>}</span>
<span class="fstat-no" title="function not covered" >function fireCallbacksForOps(group){<span class="cstat-no" title="statement not covered" ></span>var callbacks=group.delayedCallbacks,i=0;<span class="cstat-no" title="statement not covered" >d</span>o{<span class="cstat-no" title="statement not covered" >for(;i&lt;callbacks.length;i++)</span></span>
<span class="cstat-no" title="statement not covered" >callbacks[i]();<span class="cstat-no" title="statement not covered" >f</span>or(var j=0;j&lt;group.ops.length;j++){<span class="cstat-no" title="statement not covered" >var op=group.ops[j];<span class="cstat-no" title="statement not covered" >i</span>f(op.cursorActivityHandlers)</span></span>
<span class="cstat-no" title="statement not covered" >while(op.cursorActivityCalled&lt;op.cursorActivityHandlers.length)</span>
<span class="cstat-no" title="statement not covered" >op.cursorActivityHandlers[op.cursorActivityCalled++](op.cm);}</span>}while(i&lt;callbacks.length);}
<span class="fstat-no" title="function not covered" >function endOperation(cm){<span class="cstat-no" title="statement not covered" ></span>var op=cm.curOp,group=op.ownsGroup;<span class="cstat-no" title="statement not covered" >i</span>f(!group)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span></span>ry{<span class="cstat-no" title="statement not covered" >fireCallbacksForOps(group);}</span></span>
finally{<span class="cstat-no" title="statement not covered" >operationGroup=null;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;group.ops.length;i++)</span>
<span class="cstat-no" title="statement not covered" >group.ops[i].cm.curOp=null;<span class="cstat-no" title="statement not covered" >e</span>ndOperations(group);}</span>}
<span class="fstat-no" title="function not covered" >function endOperations(group){<span class="cstat-no" title="statement not covered" ></span>var ops=group.ops;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ops.length;i++)</span>
<span class="cstat-no" title="statement not covered" >endOperation_R1(ops[i]);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ops.length;i++)</span>
<span class="cstat-no" title="statement not covered" >endOperation_W1(ops[i]);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ops.length;i++)</span>
<span class="cstat-no" title="statement not covered" >endOperation_R2(ops[i]);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ops.length;i++)</span>
<span class="cstat-no" title="statement not covered" >endOperation_W2(ops[i]);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ops.length;i++)</span>
<span class="cstat-no" title="statement not covered" >endOperation_finish(ops[i]);}</span>
<span class="fstat-no" title="function not covered" >function endOperation_R1(op){<span class="cstat-no" title="statement not covered" ></span>var cm=op.cm,display=cm.display;<span class="cstat-no" title="statement not covered" >m</span>aybeClipScrollbars(cm);<span class="cstat-no" title="statement not covered" >i</span>f(op.updateMaxLine)<span class="cstat-no" title="statement not covered" >findMaxLine(cm);<span class="cstat-no" title="statement not covered" >o</span></span>p.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&amp;&amp;(op.scrollToPos.from.line&lt;display.viewFrom||op.scrollToPos.to.line&gt;=display.viewTo)||display.maxLineChanged&amp;&amp;cm.options.lineWrapping;<span class="cstat-no" title="statement not covered" >o</span>p.update=op.mustUpdate&amp;&amp;new DisplayUpdate(cm,op.mustUpdate&amp;&amp;{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate);}</span>
<span class="fstat-no" title="function not covered" >function endOperation_W1(op){<span class="cstat-no" title="statement not covered" ></span>op.updatedDisplay=op.mustUpdate&amp;&amp;updateDisplayIfNeeded(op.cm,op.update);}</span>
<span class="fstat-no" title="function not covered" >function endOperation_R2(op){<span class="cstat-no" title="statement not covered" ></span>var cm=op.cm,display=cm.display;<span class="cstat-no" title="statement not covered" >i</span>f(op.updatedDisplay)<span class="cstat-no" title="statement not covered" >updateHeightsInViewport(cm);<span class="cstat-no" title="statement not covered" >o</span></span>p.barMeasure=measureForScrollbars(cm);<span class="cstat-no" title="statement not covered" >i</span>f(display.maxLineChanged&amp;&amp;!cm.options.lineWrapping){<span class="cstat-no" title="statement not covered" >op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;<span class="cstat-no" title="statement not covered" >c</span>m.display.sizerWidth=op.adjustWidthTo;<span class="cstat-no" title="statement not covered" >o</span>p.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);<span class="cstat-no" title="statement not covered" >o</span>p.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm));}</span></span>
<span class="cstat-no" title="statement not covered" >if(op.updatedDisplay||op.selectionChanged)</span>
<span class="cstat-no" title="statement not covered" >op.newSelectionNodes=drawSelection(cm);}</span>
<span class="fstat-no" title="function not covered" >function endOperation_W2(op){<span class="cstat-no" title="statement not covered" ></span>var cm=op.cm;<span class="cstat-no" title="statement not covered" >i</span>f(op.adjustWidthTo!=null){<span class="cstat-no" title="statement not covered" >cm.display.sizer.style.minWidth=op.adjustWidthTo+"px";<span class="cstat-no" title="statement not covered" >i</span>f(op.maxScrollLeft&lt;cm.doc.scrollLeft)</span></span>
<span class="cstat-no" title="statement not covered" >setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true);<span class="cstat-no" title="statement not covered" >c</span>m.display.maxLineChanged=false;}</span>
<span class="cstat-no" title="statement not covered" >if(op.newSelectionNodes)</span>
<span class="cstat-no" title="statement not covered" >showSelection(cm,op.newSelectionNodes);<span class="cstat-no" title="statement not covered" >i</span>f(op.updatedDisplay)</span>
<span class="cstat-no" title="statement not covered" >setDocumentHeight(cm,op.barMeasure);<span class="cstat-no" title="statement not covered" >i</span>f(op.updatedDisplay||op.startHeight!=cm.doc.height)</span>
<span class="cstat-no" title="statement not covered" >updateScrollbars(cm,op.barMeasure);<span class="cstat-no" title="statement not covered" >i</span>f(op.selectionChanged)<span class="cstat-no" title="statement not covered" >restartBlink(cm);<span class="cstat-no" title="statement not covered" >i</span></span>f(cm.state.focused&amp;&amp;op.updateInput)</span>
<span class="cstat-no" title="statement not covered" >resetInput(cm,op.typing);}</span>
<span class="fstat-no" title="function not covered" >function endOperation_finish(op){<span class="cstat-no" title="statement not covered" ></span>var cm=op.cm,display=cm.display,doc=cm.doc;<span class="cstat-no" title="statement not covered" >i</span>f(op.updatedDisplay)<span class="cstat-no" title="statement not covered" >postUpdateDisplay(cm,op.update);<span class="cstat-no" title="statement not covered" >i</span></span>f(display.wheelStartX!=null&amp;&amp;(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos))</span>
<span class="cstat-no" title="statement not covered" >display.wheelStartX=display.wheelStartY=null;<span class="cstat-no" title="statement not covered" >i</span>f(op.scrollTop!=null&amp;&amp;(display.scroller.scrollTop!=op.scrollTop||op.forceScroll)){<span class="cstat-no" title="statement not covered" >doc.scrollTop=Math.max(0,Math.min(display.scroller.scrollHeight-display.scroller.clientHeight,op.scrollTop));<span class="cstat-no" title="statement not covered" >d</span>isplay.scrollbars.setScrollTop(doc.scrollTop);<span class="cstat-no" title="statement not covered" >d</span>isplay.scroller.scrollTop=doc.scrollTop;}</span></span>
<span class="cstat-no" title="statement not covered" >if(op.scrollLeft!=null&amp;&amp;(display.scroller.scrollLeft!=op.scrollLeft||op.forceScroll)){<span class="cstat-no" title="statement not covered" >doc.scrollLeft=Math.max(0,Math.min(display.scroller.scrollWidth-displayWidth(cm),op.scrollLeft));<span class="cstat-no" title="statement not covered" >d</span>isplay.scrollbars.setScrollLeft(doc.scrollLeft);<span class="cstat-no" title="statement not covered" >d</span>isplay.scroller.scrollLeft=doc.scrollLeft;<span class="cstat-no" title="statement not covered" >a</span>lignHorizontally(cm);}</span></span>
<span class="cstat-no" title="statement not covered" >if(op.scrollToPos){<span class="cstat-no" title="statement not covered" >var coords=scrollPosIntoView(cm,clipPos(doc,op.scrollToPos.from),clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);<span class="cstat-no" title="statement not covered" >i</span>f(op.scrollToPos.isCursor&amp;&amp;cm.state.focused)<span class="cstat-no" title="statement not covered" >maybeScrollWindow(cm,coords);}</span></span></span>
<span class="cstat-no" title="statement not covered" >var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;<span class="cstat-no" title="statement not covered" >i</span>f(hidden)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;hidden.length;++i)</span></span>
<span class="cstat-no" title="statement not covered" >if(!hidden[i].lines.length)<span class="cstat-no" title="statement not covered" >signal(hidden[i],"hide");<span class="cstat-no" title="statement not covered" >i</span></span>f(unhidden)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;unhidden.length;++i)</span></span>
<span class="cstat-no" title="statement not covered" >if(unhidden[i].lines.length)<span class="cstat-no" title="statement not covered" >signal(unhidden[i],"unhide");<span class="cstat-no" title="statement not covered" >i</span></span>f(display.wrapper.offsetHeight)</span>
<span class="cstat-no" title="statement not covered" >doc.scrollTop=cm.display.scroller.scrollTop;<span class="cstat-no" title="statement not covered" >i</span>f(op.changeObjs)</span>
<span class="cstat-no" title="statement not covered" >signal(cm,"changes",cm,op.changeObjs);}</span>
<span class="fstat-no" title="function not covered" >function runInOp(cm,f){<span class="cstat-no" title="statement not covered" ></span>if(cm.curOp)<span class="cstat-no" title="statement not covered" >return f();<span class="cstat-no" title="statement not covered" >s</span></span>tartOperation(cm);<span class="cstat-no" title="statement not covered" >t</span>ry{<span class="cstat-no" title="statement not covered" >return f();}</span></span>
finally{<span class="cstat-no" title="statement not covered" >endOperation(cm);}</span>}
<span class="fstat-no" title="function not covered" >function operation(cm,f){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(cm.curOp)<span class="cstat-no" title="statement not covered" >return f.apply(cm,arguments);<span class="cstat-no" title="statement not covered" >s</span></span>tartOperation(cm);<span class="cstat-no" title="statement not covered" >t</span>ry{<span class="cstat-no" title="statement not covered" >return f.apply(cm,arguments);}</span></span></span>
finally{<span class="cstat-no" title="statement not covered" >endOperation(cm);}</span>};}
<span class="fstat-no" title="function not covered" >function methodOp(f){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(this.curOp)<span class="cstat-no" title="statement not covered" >return f.apply(this,arguments);<span class="cstat-no" title="statement not covered" >s</span></span>tartOperation(this);<span class="cstat-no" title="statement not covered" >t</span>ry{<span class="cstat-no" title="statement not covered" >return f.apply(this,arguments);}</span></span></span>
finally{<span class="cstat-no" title="statement not covered" >endOperation(this);}</span>};}
<span class="fstat-no" title="function not covered" >function docMethodOp(f){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var cm=this.cm;<span class="cstat-no" title="statement not covered" >i</span>f(!cm||cm.curOp)<span class="cstat-no" title="statement not covered" >return f.apply(this,arguments);<span class="cstat-no" title="statement not covered" >s</span></span>tartOperation(cm);<span class="cstat-no" title="statement not covered" >t</span>ry{<span class="cstat-no" title="statement not covered" >return f.apply(this,arguments);}</span></span></span>
finally{<span class="cstat-no" title="statement not covered" >endOperation(cm);}</span>};}
<span class="fstat-no" title="function not covered" >function LineView(doc,line,lineN){<span class="cstat-no" title="statement not covered" ></span>this.line=line;<span class="cstat-no" title="statement not covered" >t</span>his.rest=visualLineContinued(line);<span class="cstat-no" title="statement not covered" >t</span>his.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;<span class="cstat-no" title="statement not covered" >t</span>his.node=this.text=null;<span class="cstat-no" title="statement not covered" >t</span>his.hidden=lineIsHidden(doc,line);}</span>
<span class="fstat-no" title="function not covered" >function buildViewArray(cm,from,to){<span class="cstat-no" title="statement not covered" ></span>var array=[],nextPos;<span class="cstat-no" title="statement not covered" >f</span>or(var pos=from;pos&lt;to;pos=nextPos){<span class="cstat-no" title="statement not covered" >var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);<span class="cstat-no" title="statement not covered" >n</span>extPos=pos+view.size;<span class="cstat-no" title="statement not covered" >a</span>rray.push(view);}</span></span>
<span class="cstat-no" title="statement not covered" >return array;}</span>
<span class="fstat-no" title="function not covered" >function regChange(cm,from,to,lendiff){<span class="cstat-no" title="statement not covered" ></span>if(from==null)<span class="cstat-no" title="statement not covered" >from=cm.doc.first;<span class="cstat-no" title="statement not covered" >i</span></span>f(to==null)<span class="cstat-no" title="statement not covered" >to=cm.doc.first+cm.doc.size;<span class="cstat-no" title="statement not covered" >i</span></span>f(!lendiff)<span class="cstat-no" title="statement not covered" >lendiff=0;<span class="cstat-no" title="statement not covered" >v</span></span>ar display=cm.display;<span class="cstat-no" title="statement not covered" >i</span>f(lendiff&amp;&amp;to&lt;display.viewTo&amp;&amp;(display.updateLineNumbers==null||display.updateLineNumbers&gt;from))</span>
<span class="cstat-no" title="statement not covered" >display.updateLineNumbers=from;<span class="cstat-no" title="statement not covered" >c</span>m.curOp.viewChanged=true;<span class="cstat-no" title="statement not covered" >i</span>f(from&gt;=display.viewTo){<span class="cstat-no" title="statement not covered" >if(sawCollapsedSpans&amp;&amp;visualLineNo(cm.doc,from)&lt;display.viewTo)</span></span>
<span class="cstat-no" title="statement not covered" >resetView(cm);}</span>else <span class="cstat-no" title="statement not covered" >if(to&lt;=display.viewFrom){<span class="cstat-no" title="statement not covered" >if(sawCollapsedSpans&amp;&amp;visualLineEndNo(cm.doc,to+lendiff)&gt;display.viewFrom){<span class="cstat-no" title="statement not covered" >resetView(cm);}</span>else{<span class="cstat-no" title="statement not covered" >display.viewFrom+=lendiff;<span class="cstat-no" title="statement not covered" >d</span>isplay.viewTo+=lendiff;}</span>}</span>else <span class="cstat-no" title="statement not covered" >if(from&lt;=display.viewFrom&amp;&amp;to&gt;=display.viewTo){<span class="cstat-no" title="statement not covered" >resetView(cm);}</span>else <span class="cstat-no" title="statement not covered" >if(from&lt;=display.viewFrom){<span class="cstat-no" title="statement not covered" >var cut=viewCuttingPoint(cm,to,to+lendiff,1);<span class="cstat-no" title="statement not covered" >i</span>f(cut){<span class="cstat-no" title="statement not covered" >display.view=display.view.slice(cut.index);<span class="cstat-no" title="statement not covered" >d</span>isplay.viewFrom=cut.lineN;<span class="cstat-no" title="statement not covered" >d</span>isplay.viewTo+=lendiff;}</span>else{<span class="cstat-no" title="statement not covered" >resetView(cm);}</span>}</span>else <span class="cstat-no" title="statement not covered" >if(to&gt;=display.viewTo){<span class="cstat-no" title="statement not covered" >var cut=viewCuttingPoint(cm,from,from,-1);<span class="cstat-no" title="statement not covered" >i</span>f(cut){<span class="cstat-no" title="statement not covered" >display.view=display.view.slice(0,cut.index);<span class="cstat-no" title="statement not covered" >d</span>isplay.viewTo=cut.lineN;}</span>else{<span class="cstat-no" title="statement not covered" >resetView(cm);}</span>}</span>else{<span class="cstat-no" title="statement not covered" >var cutTop=viewCuttingPoint(cm,from,from,-1);<span class="cstat-no" title="statement not covered" >v</span>ar cutBot=viewCuttingPoint(cm,to,to+lendiff,1);<span class="cstat-no" title="statement not covered" >i</span>f(cutTop&amp;&amp;cutBot){<span class="cstat-no" title="statement not covered" >display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));<span class="cstat-no" title="statement not covered" >d</span>isplay.viewTo+=lendiff;}</span>else{<span class="cstat-no" title="statement not covered" >resetView(cm);}</span>}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >var ext=display.externalMeasured;<span class="cstat-no" title="statement not covered" >i</span>f(ext){<span class="cstat-no" title="statement not covered" >if(to&lt;ext.lineN)</span></span>
<span class="cstat-no" title="statement not covered" >ext.lineN+=lendiff;e</span>lse <span class="cstat-no" title="statement not covered" >if(from&lt;ext.lineN+ext.size)</span>
<span class="cstat-no" title="statement not covered" >display.externalMeasured=null;}</span>}
<span class="fstat-no" title="function not covered" >function regLineChange(cm,line,type){<span class="cstat-no" title="statement not covered" ></span>cm.curOp.viewChanged=true;<span class="cstat-no" title="statement not covered" >v</span>ar display=cm.display,ext=cm.display.externalMeasured;<span class="cstat-no" title="statement not covered" >i</span>f(ext&amp;&amp;line&gt;=ext.lineN&amp;&amp;line&lt;ext.lineN+ext.size)</span>
<span class="cstat-no" title="statement not covered" >display.externalMeasured=null;<span class="cstat-no" title="statement not covered" >i</span>f(line&lt;display.viewFrom||line&gt;=display.viewTo)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar lineView=display.view[findViewIndex(cm,line)];<span class="cstat-no" title="statement not covered" >i</span>f(lineView.node==null)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar arr=lineView.changes||(lineView.changes=[]);<span class="cstat-no" title="statement not covered" >i</span>f(indexOf(arr,type)==-1)<span class="cstat-no" title="statement not covered" >arr.push(type);}</span></span>
<span class="fstat-no" title="function not covered" >function resetView(cm){<span class="cstat-no" title="statement not covered" ></span>cm.display.viewFrom=cm.display.viewTo=cm.doc.first;<span class="cstat-no" title="statement not covered" >c</span>m.display.view=[];<span class="cstat-no" title="statement not covered" >c</span>m.display.viewOffset=0;}</span>
<span class="fstat-no" title="function not covered" >function findViewIndex(cm,n){<span class="cstat-no" title="statement not covered" ></span>if(n&gt;=cm.display.viewTo)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >n</span></span>-=cm.display.viewFrom;<span class="cstat-no" title="statement not covered" >i</span>f(n&lt;0)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar view=cm.display.view;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;view.length;i++){<span class="cstat-no" title="statement not covered" >n-=view[i].size;<span class="cstat-no" title="statement not covered" >i</span>f(n&lt;0)<span class="cstat-no" title="statement not covered" >return i;}</span></span>}</span>
<span class="fstat-no" title="function not covered" >function viewCuttingPoint(cm,oldN,newN,dir){<span class="cstat-no" title="statement not covered" ></span>var index=findViewIndex(cm,oldN),diff,view=cm.display.view;<span class="cstat-no" title="statement not covered" >i</span>f(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)</span>
<span class="cstat-no" title="statement not covered" >return{index:index,lineN:newN};<span class="cstat-no" title="statement not covered" >f</span>or(var i=0,n=cm.display.viewFrom;i&lt;index;i++)</span>
<span class="cstat-no" title="statement not covered" >n+=view[i].size;<span class="cstat-no" title="statement not covered" >i</span>f(n!=oldN){<span class="cstat-no" title="statement not covered" >if(dir&gt;0){<span class="cstat-no" title="statement not covered" >if(index==view.length-1)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >d</span></span>iff=(n+view[index].size)-oldN;<span class="cstat-no" title="statement not covered" >i</span>ndex++;}</span>else{<span class="cstat-no" title="statement not covered" >diff=n-oldN;}</span></span></span>
<span class="cstat-no" title="statement not covered" >oldN+=diff;<span class="cstat-no" title="statement not covered" >n</span>ewN+=diff;}</span>
<span class="cstat-no" title="statement not covered" >while(visualLineNo(cm.doc,newN)!=newN){<span class="cstat-no" title="statement not covered" >if(index==(dir&lt;0?0:view.length-1))<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >n</span></span>ewN+=dir*view[index-(dir&lt;0?1:0)].size;<span class="cstat-no" title="statement not covered" >i</span>ndex+=dir;}</span></span>
<span class="cstat-no" title="statement not covered" >return{index:index,lineN:newN};}</span>
<span class="fstat-no" title="function not covered" >function adjustView(cm,from,to){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display,view=display.view;<span class="cstat-no" title="statement not covered" >i</span>f(view.length==0||from&gt;=display.viewTo||to&lt;=display.viewFrom){<span class="cstat-no" title="statement not covered" >display.view=buildViewArray(cm,from,to);<span class="cstat-no" title="statement not covered" >d</span>isplay.viewFrom=from;}</span>else{<span class="cstat-no" title="statement not covered" >if(display.viewFrom&gt;from)</span></span>
<span class="cstat-no" title="statement not covered" >display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view);e</span>lse <span class="cstat-no" title="statement not covered" >if(display.viewFrom&lt;from)</span>
<span class="cstat-no" title="statement not covered" >display.view=display.view.slice(findViewIndex(cm,from));<span class="cstat-no" title="statement not covered" >d</span>isplay.viewFrom=from;<span class="cstat-no" title="statement not covered" >i</span>f(display.viewTo&lt;to)</span>
<span class="cstat-no" title="statement not covered" >display.view=display.view.concat(buildViewArray(cm,display.viewTo,to));e</span>lse <span class="cstat-no" title="statement not covered" >if(display.viewTo&gt;to)</span>
<span class="cstat-no" title="statement not covered" >display.view=display.view.slice(0,findViewIndex(cm,to));}</span>
<span class="cstat-no" title="statement not covered" >display.viewTo=to;}</span>
<span class="fstat-no" title="function not covered" >function countDirtyView(cm){<span class="cstat-no" title="statement not covered" ></span>var view=cm.display.view,dirty=0;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;view.length;i++){<span class="cstat-no" title="statement not covered" >var lineView=view[i];<span class="cstat-no" title="statement not covered" >i</span>f(!lineView.hidden&amp;&amp;(!lineView.node||lineView.changes))<span class="cstat-no" title="statement not covered" >++dirty;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return dirty;}</span>
<span class="fstat-no" title="function not covered" >function slowPoll(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.display.pollingFast)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >c</span></span>m.display.poll.set(cm.options.pollInterval,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>readInput(cm);<span class="cstat-no" title="statement not covered" >i</span>f(cm.state.focused)<span class="cstat-no" title="statement not covered" >slowPoll(cm);}</span></span>);}</span>
<span class="fstat-no" title="function not covered" >function fastPoll(cm){<span class="cstat-no" title="statement not covered" ></span>var missed=false;<span class="cstat-no" title="statement not covered" >c</span>m.display.pollingFast=true;<span class="fstat-no" title="function not covered" >f</span>unction p(){<span class="cstat-no" title="statement not covered" ></span>var changed=readInput(cm);<span class="cstat-no" title="statement not covered" >i</span>f(!changed&amp;&amp;!missed){<span class="cstat-no" title="statement not covered" >missed=true;<span class="cstat-no" title="statement not covered" >c</span>m.display.poll.set(60,p);}</span></span>
else{<span class="cstat-no" title="statement not covered" >cm.display.pollingFast=false;<span class="cstat-no" title="statement not covered" >s</span>lowPoll(cm);}</span>}
<span class="cstat-no" title="statement not covered" >cm.display.poll.set(20,p);}</span>
<span class="cstat-no" title="statement not covered" >var lastCopied=null;<span class="fstat-no" title="function not covered" >f</span>unction readInput(cm){<span class="cstat-no" title="statement not covered" ></span>var input=cm.display.input,prevInput=cm.display.prevInput,doc=cm.doc;<span class="cstat-no" title="statement not covered" >i</span>f(!cm.state.focused||(hasSelection(input)&amp;&amp;!prevInput)||isReadOnly(cm)||cm.options.disableInput||cm.state.keySeq)</span>
<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >i</span>f(cm.state.pasteIncoming&amp;&amp;cm.state.fakedLastChar){<span class="cstat-no" title="statement not covered" >input.value=input.value.substring(0,input.value.length-1);<span class="cstat-no" title="statement not covered" >c</span>m.state.fakedLastChar=false;}</span></span>
<span class="cstat-no" title="statement not covered" >var text=input.value;<span class="cstat-no" title="statement not covered" >i</span>f(text==prevInput&amp;&amp;!cm.somethingSelected())<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >i</span></span>f(ie&amp;&amp;ie_version&gt;=9&amp;&amp;cm.display.inputHasSelection===text||mac&amp;&amp;/[\uf700-\uf7ff]/.test(text)){<span class="cstat-no" title="statement not covered" >resetInput(cm);<span class="cstat-no" title="statement not covered" >r</span>eturn false;}</span></span>
<span class="cstat-no" title="statement not covered" >var withOp=!cm.curOp;<span class="cstat-no" title="statement not covered" >i</span>f(withOp)<span class="cstat-no" title="statement not covered" >startOperation(cm);<span class="cstat-no" title="statement not covered" >c</span></span>m.display.shift=false;<span class="cstat-no" title="statement not covered" >i</span>f(text.charCodeAt(0)==0x200b&amp;&amp;doc.sel==cm.display.selForContextMenu&amp;&amp;!prevInput)</span>
<span class="cstat-no" title="statement not covered" >prevInput="\u200b";<span class="cstat-no" title="statement not covered" >v</span>ar same=0,l=Math.min(prevInput.length,text.length);<span class="cstat-no" title="statement not covered" >w</span>hile(same&lt;l&amp;&amp;prevInput.charCodeAt(same)==text.charCodeAt(same))<span class="cstat-no" title="statement not covered" >++same;<span class="cstat-no" title="statement not covered" >v</span></span>ar inserted=text.slice(same),textLines=splitLines(inserted);<span class="cstat-no" title="statement not covered" >v</span>ar multiPaste=null;<span class="cstat-no" title="statement not covered" >i</span>f(cm.state.pasteIncoming&amp;&amp;doc.sel.ranges.length&gt;1){<span class="cstat-no" title="statement not covered" >if(lastCopied&amp;&amp;lastCopied.join("\n")==inserted)</span></span>
<span class="cstat-no" title="statement not covered" >multiPaste=doc.sel.ranges.length%lastCopied.length==0&amp;&amp;map(lastCopied,splitLines);e</span>lse <span class="cstat-no" title="statement not covered" >if(textLines.length==doc.sel.ranges.length)</span>
<span class="cstat-no" title="statement not covered" >multiPaste=map(textLines,<span class="fstat-no" title="function not covered" >function(l){<span class="cstat-no" title="statement not covered" ></span>return[l];}</span>);}</span>
<span class="cstat-no" title="statement not covered" >for(var i=doc.sel.ranges.length-1;i&gt;=0;i--){<span class="cstat-no" title="statement not covered" >var range=doc.sel.ranges[i];<span class="cstat-no" title="statement not covered" >v</span>ar from=range.from(),to=range.to();<span class="cstat-no" title="statement not covered" >i</span>f(same&lt;prevInput.length)</span></span>
<span class="cstat-no" title="statement not covered" >from=Pos(from.line,from.ch-(prevInput.length-same));e</span>lse <span class="cstat-no" title="statement not covered" >if(cm.state.overwrite&amp;&amp;range.empty()&amp;&amp;!cm.state.pasteIncoming)</span>
<span class="cstat-no" title="statement not covered" >to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length));<span class="cstat-no" title="statement not covered" >v</span>ar updateInput=cm.curOp.updateInput;<span class="cstat-no" title="statement not covered" >v</span>ar changeEvent={from:from,to:to,text:multiPaste?multiPaste[i%multiPaste.length]:textLines,origin:cm.state.pasteIncoming?"paste":cm.state.cutIncoming?"cut":"+input"};<span class="cstat-no" title="statement not covered" >m</span>akeChange(cm.doc,changeEvent);<span class="cstat-no" title="statement not covered" >s</span>ignalLater(cm,"inputRead",cm,changeEvent);<span class="cstat-no" title="statement not covered" >i</span>f(inserted&amp;&amp;!cm.state.pasteIncoming&amp;&amp;cm.options.electricChars&amp;&amp;cm.options.smartIndent&amp;&amp;range.head.ch&lt;100&amp;&amp;(!i||doc.sel.ranges[i-1].head.line!=range.head.line)){<span class="cstat-no" title="statement not covered" >var mode=cm.getModeAt(range.head);<span class="cstat-no" title="statement not covered" >v</span>ar end=changeEnd(changeEvent);<span class="cstat-no" title="statement not covered" >i</span>f(mode.electricChars){<span class="cstat-no" title="statement not covered" >for(var j=0;j&lt;mode.electricChars.length;j++)</span></span></span>
<span class="cstat-no" title="statement not covered" >if(inserted.indexOf(mode.electricChars.charAt(j))&gt;-1){<span class="cstat-no" title="statement not covered" >indentLine(cm,end.line,"smart");<span class="cstat-no" title="statement not covered" >b</span>reak;}</span>}</span>else <span class="cstat-no" title="statement not covered" >if(mode.electricInput){<span class="cstat-no" title="statement not covered" >if(mode.electricInput.test(getLine(doc,end.line).text.slice(0,end.ch)))</span></span>
<span class="cstat-no" title="statement not covered" >indentLine(cm,end.line,"smart");}</span>}}
<span class="cstat-no" title="statement not covered" >ensureCursorVisible(cm);<span class="cstat-no" title="statement not covered" >c</span>m.curOp.updateInput=updateInput;<span class="cstat-no" title="statement not covered" >c</span>m.curOp.typing=true;<span class="cstat-no" title="statement not covered" >i</span>f(text.length&gt;1000||text.indexOf("\n")&gt;-1)<span class="cstat-no" title="statement not covered" >input.value=cm.display.prevInput="";e</span>lse <span class="cstat-no" title="statement not covered" >cm.display.prevInput=text;<span class="cstat-no" title="statement not covered" >i</span></span>f(withOp)<span class="cstat-no" title="statement not covered" >endOperation(cm);<span class="cstat-no" title="statement not covered" >c</span></span>m.state.pasteIncoming=cm.state.cutIncoming=false;<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span>
<span class="fstat-no" title="function not covered" >function resetInput(cm,typing){<span class="cstat-no" title="statement not covered" ></span>if(cm.display.contextMenuPending)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar minimal,selected,doc=cm.doc;<span class="cstat-no" title="statement not covered" >i</span>f(cm.somethingSelected()){<span class="cstat-no" title="statement not covered" >cm.display.prevInput="";<span class="cstat-no" title="statement not covered" >v</span>ar range=doc.sel.primary();<span class="cstat-no" title="statement not covered" >m</span>inimal=hasCopyEvent&amp;&amp;(range.to().line-range.from().line&gt;100||(selected=cm.getSelection()).length&gt;1000);<span class="cstat-no" title="statement not covered" >v</span>ar content=minimal?"-":selected||cm.getSelection();<span class="cstat-no" title="statement not covered" >c</span>m.display.input.value=content;<span class="cstat-no" title="statement not covered" >i</span>f(cm.state.focused)<span class="cstat-no" title="statement not covered" >selectInput(cm.display.input);<span class="cstat-no" title="statement not covered" >i</span></span>f(ie&amp;&amp;ie_version&gt;=9)<span class="cstat-no" title="statement not covered" >cm.display.inputHasSelection=content;}</span></span>else <span class="cstat-no" title="statement not covered" >if(!typing){<span class="cstat-no" title="statement not covered" >cm.display.prevInput=cm.display.input.value="";<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version&gt;=9)<span class="cstat-no" title="statement not covered" >cm.display.inputHasSelection=null;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >cm.display.inaccurateSelection=minimal;}</span>
<span class="fstat-no" title="function not covered" >function focusInput(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.options.readOnly!="nocursor"&amp;&amp;(!mobile||activeElt()!=cm.display.input))</span>
<span class="cstat-no" title="statement not covered" >cm.display.input.focus();}</span>
<span class="fstat-no" title="function not covered" >function ensureFocus(cm){<span class="cstat-no" title="statement not covered" ></span>if(!cm.state.focused){<span class="cstat-no" title="statement not covered" >focusInput(cm);<span class="cstat-no" title="statement not covered" >o</span>nFocus(cm);}</span>}</span>
<span class="fstat-no" title="function not covered" >function isReadOnly(cm){<span class="cstat-no" title="statement not covered" ></span>return cm.options.readOnly||cm.doc.cantEdit;}</span>
<span class="fstat-no" title="function not covered" >function registerEventHandlers(cm){<span class="cstat-no" title="statement not covered" ></span>var d=cm.display;<span class="cstat-no" title="statement not covered" >o</span>n(d.scroller,"mousedown",operation(cm,onMouseDown));<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version&lt;11)</span>
<span class="cstat-no" title="statement not covered" >on(d.scroller,"dblclick",operation(cm,<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>if(signalDOMEvent(cm,e))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar pos=posFromMouse(cm,e);<span class="cstat-no" title="statement not covered" >i</span>f(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >e</span></span>_preventDefault(e);<span class="cstat-no" title="statement not covered" >v</span>ar word=cm.findWordAt(pos);<span class="cstat-no" title="statement not covered" >e</span>xtendSelection(cm.doc,word.anchor,word.head);}</span>));e</span>lse
<span class="cstat-no" title="statement not covered" >on(d.scroller,"dblclick",<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>signalDOMEvent(cm,e)||e_preventDefault(e);}</span>);<span class="cstat-no" title="statement not covered" >o</span>n(d.lineSpace,"selectstart",<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>if(!eventInWidget(d,e))<span class="cstat-no" title="statement not covered" >e_preventDefault(e);}</span></span>);<span class="cstat-no" title="statement not covered" >i</span>f(!captureRightClick)<span class="cstat-no" title="statement not covered" >on(d.scroller,"contextmenu",<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>onContextMenu(cm,e);}</span>);<span class="cstat-no" title="statement not covered" >o</span></span>n(d.scroller,"scroll",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(d.scroller.clientHeight){<span class="cstat-no" title="statement not covered" >setScrollTop(cm,d.scroller.scrollTop);<span class="cstat-no" title="statement not covered" >s</span>etScrollLeft(cm,d.scroller.scrollLeft,true);<span class="cstat-no" title="statement not covered" >s</span>ignal(cm,"scroll",cm);}</span>}</span>);<span class="cstat-no" title="statement not covered" >o</span>n(d.scroller,"mousewheel",<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>onScrollWheel(cm,e);}</span>);<span class="cstat-no" title="statement not covered" >o</span>n(d.scroller,"DOMMouseScroll",<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>onScrollWheel(cm,e);}</span>);<span class="cstat-no" title="statement not covered" >o</span>n(d.wrapper,"scroll",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>d.wrapper.scrollTop=d.wrapper.scrollLeft=0;}</span>);<span class="cstat-no" title="statement not covered" >o</span>n(d.input,"keyup",<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>onKeyUp.call(cm,e);}</span>);<span class="cstat-no" title="statement not covered" >o</span>n(d.input,"input",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(ie&amp;&amp;ie_version&gt;=9&amp;&amp;cm.display.inputHasSelection)<span class="cstat-no" title="statement not covered" >cm.display.inputHasSelection=null;<span class="cstat-no" title="statement not covered" >r</span></span>eadInput(cm);}</span>);<span class="cstat-no" title="statement not covered" >o</span>n(d.input,"keydown",operation(cm,onKeyDown));<span class="cstat-no" title="statement not covered" >o</span>n(d.input,"keypress",operation(cm,onKeyPress));<span class="cstat-no" title="statement not covered" >o</span>n(d.input,"focus",bind(onFocus,cm));<span class="cstat-no" title="statement not covered" >o</span>n(d.input,"blur",bind(onBlur,cm));<span class="fstat-no" title="function not covered" >f</span>unction drag_(e){<span class="cstat-no" title="statement not covered" ></span>if(!signalDOMEvent(cm,e))<span class="cstat-no" title="statement not covered" >e_stop(e);}</span></span>
<span class="cstat-no" title="statement not covered" >if(cm.options.dragDrop){<span class="cstat-no" title="statement not covered" >on(d.scroller,"dragstart",<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>onDragStart(cm,e);}</span>);<span class="cstat-no" title="statement not covered" >o</span>n(d.scroller,"dragenter",drag_);<span class="cstat-no" title="statement not covered" >o</span>n(d.scroller,"dragover",drag_);<span class="cstat-no" title="statement not covered" >o</span>n(d.scroller,"drop",operation(cm,onDrop));}</span></span>
<span class="cstat-no" title="statement not covered" >on(d.scroller,"paste",<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>if(eventInWidget(d,e))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >c</span></span>m.state.pasteIncoming=true;<span class="cstat-no" title="statement not covered" >f</span>ocusInput(cm);<span class="cstat-no" title="statement not covered" >f</span>astPoll(cm);}</span>);<span class="cstat-no" title="statement not covered" >o</span>n(d.input,"paste",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(webkit&amp;&amp;!cm.state.fakedLastChar&amp;&amp;!(new Date-cm.state.lastMiddleDown&lt;200)){<span class="cstat-no" title="statement not covered" >var start=d.input.selectionStart,end=d.input.selectionEnd;<span class="cstat-no" title="statement not covered" >d</span>.input.value+="$";<span class="cstat-no" title="statement not covered" >d</span>.input.selectionEnd=end;<span class="cstat-no" title="statement not covered" >d</span>.input.selectionStart=start;<span class="cstat-no" title="statement not covered" >c</span>m.state.fakedLastChar=true;}</span></span></span>
<span class="cstat-no" title="statement not covered" >cm.state.pasteIncoming=true;<span class="cstat-no" title="statement not covered" >f</span>astPoll(cm);}</span>);<span class="fstat-no" title="function not covered" >function prepareCopyCut(e){<span class="cstat-no" title="statement not covered" ></span>if(cm.somethingSelected()){<span class="cstat-no" title="statement not covered" >lastCopied=cm.getSelections();<span class="cstat-no" title="statement not covered" >i</span>f(d.inaccurateSelection){<span class="cstat-no" title="statement not covered" >d.prevInput="";<span class="cstat-no" title="statement not covered" >d</span>.inaccurateSelection=false;<span class="cstat-no" title="statement not covered" >d</span>.input.value=lastCopied.join("\n");<span class="cstat-no" title="statement not covered" >s</span>electInput(d.input);}</span>}</span>else{<span class="cstat-no" title="statement not covered" >var text=[],ranges=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;cm.doc.sel.ranges.length;i++){<span class="cstat-no" title="statement not covered" >var line=cm.doc.sel.ranges[i].head.line;<span class="cstat-no" title="statement not covered" >v</span>ar lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};<span class="cstat-no" title="statement not covered" >r</span>anges.push(lineRange);<span class="cstat-no" title="statement not covered" >t</span>ext.push(cm.getRange(lineRange.anchor,lineRange.head));}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(e.type=="cut"){<span class="cstat-no" title="statement not covered" >cm.setSelections(ranges,null,sel_dontScroll);}</span>else{<span class="cstat-no" title="statement not covered" >d.prevInput="";<span class="cstat-no" title="statement not covered" >d</span>.input.value=text.join("\n");<span class="cstat-no" title="statement not covered" >s</span>electInput(d.input);}</span></span>
<span class="cstat-no" title="statement not covered" >lastCopied=text;}</span>
<span class="cstat-no" title="statement not covered" >if(e.type=="cut")<span class="cstat-no" title="statement not covered" >cm.state.cutIncoming=true;}</span></span>
<span class="cstat-no" title="statement not covered" >on(d.input,"cut",prepareCopyCut);<span class="cstat-no" title="statement not covered" >o</span>n(d.input,"copy",prepareCopyCut);<span class="cstat-no" title="statement not covered" >i</span>f(khtml)<span class="cstat-no" title="statement not covered" >on(d.sizer,"mouseup",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(activeElt()==d.input)<span class="cstat-no" title="statement not covered" >d.input.blur();<span class="cstat-no" title="statement not covered" >f</span></span>ocusInput(cm);}</span>);}</span></span>
<span class="fstat-no" title="function not covered" >function onResize(cm){<span class="cstat-no" title="statement not covered" ></span>var d=cm.display;<span class="cstat-no" title="statement not covered" >i</span>f(d.lastWrapHeight==d.wrapper.clientHeight&amp;&amp;d.lastWrapWidth==d.wrapper.clientWidth)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >d</span>.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;<span class="cstat-no" title="statement not covered" >d</span>.scrollbarsClipped=false;<span class="cstat-no" title="statement not covered" >c</span>m.setSize();}</span>
<span class="fstat-no" title="function not covered" >function eventInWidget(display,e){<span class="cstat-no" title="statement not covered" ></span>for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){<span class="cstat-no" title="statement not covered" >if(!n||(n.nodeType==1&amp;&amp;n.getAttribute("cm-ignore-events")=="true")||(n.parentNode==display.sizer&amp;&amp;n!=display.mover))</span></span>
<span class="cstat-no" title="statement not covered" >return true;}</span>}
<span class="fstat-no" title="function not covered" >function posFromMouse(cm,e,liberal,forRect){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display;<span class="cstat-no" title="statement not covered" >i</span>f(!liberal&amp;&amp;e_target(e).getAttribute("not-content")=="true")<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar x,y,space=display.lineSpace.getBoundingClientRect();<span class="cstat-no" title="statement not covered" >t</span>ry{<span class="cstat-no" title="statement not covered" >x=e.clientX-space.left;<span class="cstat-no" title="statement not covered" >y</span>=e.clientY-space.top;}</span></span>
catch(e){<span class="cstat-no" title="statement not covered" >return null;}</span>
<span class="cstat-no" title="statement not covered" >var coords=coordsChar(cm,x,y),line;<span class="cstat-no" title="statement not covered" >i</span>f(forRect&amp;&amp;coords.xRel==1&amp;&amp;(line=getLine(cm.doc,coords.line).text).length==coords.ch){<span class="cstat-no" title="statement not covered" >var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;<span class="cstat-no" title="statement not covered" >c</span>oords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff));}</span></span>
<span class="cstat-no" title="statement not covered" >return coords;}</span>
<span class="fstat-no" title="function not covered" >function onMouseDown(e){<span class="cstat-no" title="statement not covered" ></span>if(signalDOMEvent(this,e))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar cm=this,display=cm.display;<span class="cstat-no" title="statement not covered" >d</span>isplay.shift=e.shiftKey;<span class="cstat-no" title="statement not covered" >i</span>f(eventInWidget(display,e)){<span class="cstat-no" title="statement not covered" >if(!webkit){<span class="cstat-no" title="statement not covered" >display.scroller.draggable=false;<span class="cstat-no" title="statement not covered" >s</span>etTimeout(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>display.scroller.draggable=true;}</span>,100);}</span></span></span>
<span class="cstat-no" title="statement not covered" >return;}</span>
<span class="cstat-no" title="statement not covered" >if(clickInGutter(cm,e))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar start=posFromMouse(cm,e);<span class="cstat-no" title="statement not covered" >w</span>indow.focus();<span class="cstat-no" title="statement not covered" >s</span>witch(e_button(e)){case 1:<span class="cstat-no" title="statement not covered" >if(start)</span></span>
<span class="cstat-no" title="statement not covered" >leftButtonDown(cm,e,start);e</span>lse <span class="cstat-no" title="statement not covered" >if(e_target(e)==display.scroller)</span>
<span class="cstat-no" title="statement not covered" >e_preventDefault(e);<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase 2:<span class="cstat-no" title="statement not covered" >if(webkit)<span class="cstat-no" title="statement not covered" >cm.state.lastMiddleDown=+new Date;<span class="cstat-no" title="statement not covered" >i</span></span>f(start)<span class="cstat-no" title="statement not covered" >extendSelection(cm.doc,start);<span class="cstat-no" title="statement not covered" >s</span></span>etTimeout(bind(focusInput,cm),20);<span class="cstat-no" title="statement not covered" >e</span>_preventDefault(e);<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase 3:<span class="cstat-no" title="statement not covered" >if(captureRightClick)<span class="cstat-no" title="statement not covered" >onContextMenu(cm,e);<span class="cstat-no" title="statement not covered" >b</span></span>reak;}</span>}
<span class="cstat-no" title="statement not covered" >var lastClick,lastDoubleClick;<span class="fstat-no" title="function not covered" >f</span>unction leftButtonDown(cm,e,start){<span class="cstat-no" title="statement not covered" ></span>setTimeout(bind(ensureFocus,cm),0);<span class="cstat-no" title="statement not covered" >v</span>ar now=+new Date,type;<span class="cstat-no" title="statement not covered" >i</span>f(lastDoubleClick&amp;&amp;lastDoubleClick.time&gt;now-400&amp;&amp;cmp(lastDoubleClick.pos,start)==0){<span class="cstat-no" title="statement not covered" >type="triple";}</span>else <span class="cstat-no" title="statement not covered" >if(lastClick&amp;&amp;lastClick.time&gt;now-400&amp;&amp;cmp(lastClick.pos,start)==0){<span class="cstat-no" title="statement not covered" >type="double";<span class="cstat-no" title="statement not covered" >l</span>astDoubleClick={time:now,pos:start};}</span>else{<span class="cstat-no" title="statement not covered" >type="single";<span class="cstat-no" title="statement not covered" >l</span>astClick={time:now,pos:start};}</span></span></span>
<span class="cstat-no" title="statement not covered" >var sel=cm.doc.sel,modifier=mac?e.metaKey:e.ctrlKey,contained;<span class="cstat-no" title="statement not covered" >i</span>f(cm.options.dragDrop&amp;&amp;dragAndDrop&amp;&amp;!isReadOnly(cm)&amp;&amp;type=="single"&amp;&amp;(contained=sel.contains(start))&gt;-1&amp;&amp;!sel.ranges[contained].empty())</span>
<span class="cstat-no" title="statement not covered" >leftButtonStartDrag(cm,e,start,modifier);e</span>lse
<span class="cstat-no" title="statement not covered" >leftButtonSelect(cm,e,start,type,modifier);}</span>
<span class="fstat-no" title="function not covered" >function leftButtonStartDrag(cm,e,start,modifier){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display;<span class="cstat-no" title="statement not covered" >v</span>ar dragEnd=operation(cm,<span class="fstat-no" title="function not covered" >function(e2){<span class="cstat-no" title="statement not covered" ></span>if(webkit)<span class="cstat-no" title="statement not covered" >display.scroller.draggable=false;<span class="cstat-no" title="statement not covered" >c</span></span>m.state.draggingText=false;<span class="cstat-no" title="statement not covered" >o</span>ff(document,"mouseup",dragEnd);<span class="cstat-no" title="statement not covered" >o</span>ff(display.scroller,"drop",dragEnd);<span class="cstat-no" title="statement not covered" >i</span>f(Math.abs(e.clientX-e2.clientX)+Math.abs(e.clientY-e2.clientY)&lt;10){<span class="cstat-no" title="statement not covered" >e_preventDefault(e2);<span class="cstat-no" title="statement not covered" >i</span>f(!modifier)</span></span></span>
<span class="cstat-no" title="statement not covered" >extendSelection(cm.doc,start);<span class="cstat-no" title="statement not covered" >f</span>ocusInput(cm);<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version==9)</span>
<span class="cstat-no" title="statement not covered" >setTimeout(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>document.body.focus();<span class="cstat-no" title="statement not covered" >f</span>ocusInput(cm);}</span>,20);}</span>});<span class="cstat-no" title="statement not covered" >if(webkit)<span class="cstat-no" title="statement not covered" >display.scroller.draggable=true;<span class="cstat-no" title="statement not covered" >c</span></span>m.state.draggingText=dragEnd;<span class="cstat-no" title="statement not covered" >i</span>f(display.scroller.dragDrop)<span class="cstat-no" title="statement not covered" >display.scroller.dragDrop();<span class="cstat-no" title="statement not covered" >o</span></span>n(document,"mouseup",dragEnd);<span class="cstat-no" title="statement not covered" >o</span>n(display.scroller,"drop",dragEnd);}</span>
<span class="fstat-no" title="function not covered" >function leftButtonSelect(cm,e,start,type,addNew){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display,doc=cm.doc;<span class="cstat-no" title="statement not covered" >e</span>_preventDefault(e);<span class="cstat-no" title="statement not covered" >v</span>ar ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;<span class="cstat-no" title="statement not covered" >i</span>f(addNew&amp;&amp;!e.shiftKey){<span class="cstat-no" title="statement not covered" >ourIndex=doc.sel.contains(start);<span class="cstat-no" title="statement not covered" >i</span>f(ourIndex&gt;-1)</span></span>
<span class="cstat-no" title="statement not covered" >ourRange=ranges[ourIndex];e</span>lse
<span class="cstat-no" title="statement not covered" >ourRange=new Range(start,start);}</span>else{<span class="cstat-no" title="statement not covered" >ourRange=doc.sel.primary();}</span>
<span class="cstat-no" title="statement not covered" >if(e.altKey){<span class="cstat-no" title="statement not covered" >type="rect";<span class="cstat-no" title="statement not covered" >i</span>f(!addNew)<span class="cstat-no" title="statement not covered" >ourRange=new Range(start,start);<span class="cstat-no" title="statement not covered" >s</span></span>tart=posFromMouse(cm,e,true,true);<span class="cstat-no" title="statement not covered" >o</span>urIndex=-1;}</span>else <span class="cstat-no" title="statement not covered" >if(type=="double"){<span class="cstat-no" title="statement not covered" >var word=cm.findWordAt(start);<span class="cstat-no" title="statement not covered" >i</span>f(cm.display.shift||doc.extend)</span></span></span>
<span class="cstat-no" title="statement not covered" >ourRange=extendRange(doc,ourRange,word.anchor,word.head);e</span>lse
<span class="cstat-no" title="statement not covered" >ourRange=word;}</span>else <span class="cstat-no" title="statement not covered" >if(type=="triple"){<span class="cstat-no" title="statement not covered" >var line=new Range(Pos(start.line,0),clipPos(doc,Pos(start.line+1,0)));<span class="cstat-no" title="statement not covered" >i</span>f(cm.display.shift||doc.extend)</span></span>
<span class="cstat-no" title="statement not covered" >ourRange=extendRange(doc,ourRange,line.anchor,line.head);e</span>lse
<span class="cstat-no" title="statement not covered" >ourRange=line;}</span>else{<span class="cstat-no" title="statement not covered" >ourRange=extendRange(doc,ourRange,start);}</span>
<span class="cstat-no" title="statement not covered" >if(!addNew){<span class="cstat-no" title="statement not covered" >ourIndex=0;<span class="cstat-no" title="statement not covered" >s</span>etSelection(doc,new Selection([ourRange],0),sel_mouse);<span class="cstat-no" title="statement not covered" >s</span>tartSel=doc.sel;}</span>else <span class="cstat-no" title="statement not covered" >if(ourIndex==-1){<span class="cstat-no" title="statement not covered" >ourIndex=ranges.length;<span class="cstat-no" title="statement not covered" >s</span>etSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:false,origin:"*mouse"});}</span>else <span class="cstat-no" title="statement not covered" >if(ranges.length&gt;1&amp;&amp;ranges[ourIndex].empty()&amp;&amp;type=="single"){<span class="cstat-no" title="statement not covered" >setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0));<span class="cstat-no" title="statement not covered" >s</span>tartSel=doc.sel;}</span>else{<span class="cstat-no" title="statement not covered" >replaceOneSelection(doc,ourIndex,ourRange,sel_mouse);}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >var lastPos=start;<span class="fstat-no" title="function not covered" >f</span>unction extendTo(pos){<span class="cstat-no" title="statement not covered" ></span>if(cmp(lastPos,pos)==0)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >l</span></span>astPos=pos;<span class="cstat-no" title="statement not covered" >i</span>f(type=="rect"){<span class="cstat-no" title="statement not covered" >var ranges=[],tabSize=cm.options.tabSize;<span class="cstat-no" title="statement not covered" >v</span>ar startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);<span class="cstat-no" title="statement not covered" >v</span>ar posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize);<span class="cstat-no" title="statement not covered" >v</span>ar left=Math.min(startCol,posCol),right=Math.max(startCol,posCol);<span class="cstat-no" title="statement not covered" >f</span>or(var line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line&lt;=end;line++){<span class="cstat-no" title="statement not covered" >var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);<span class="cstat-no" title="statement not covered" >i</span>f(left==right)</span></span></span>
<span class="cstat-no" title="statement not covered" >ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)));e</span>lse <span class="cstat-no" title="statement not covered" >if(text.length&gt;leftPos)</span>
<span class="cstat-no" title="statement not covered" >ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))));}</span>
<span class="cstat-no" title="statement not covered" >if(!ranges.length)<span class="cstat-no" title="statement not covered" >ranges.push(new Range(start,start));<span class="cstat-no" title="statement not covered" >s</span></span>etSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:false});<span class="cstat-no" title="statement not covered" >c</span>m.scrollIntoView(pos);}</span>else{<span class="cstat-no" title="statement not covered" >var oldRange=ourRange;<span class="cstat-no" title="statement not covered" >v</span>ar anchor=oldRange.anchor,head=pos;<span class="cstat-no" title="statement not covered" >i</span>f(type!="single"){<span class="cstat-no" title="statement not covered" >if(type=="double")</span></span>
<span class="cstat-no" title="statement not covered" >var range=cm.findWordAt(pos);e</span>lse
<span class="cstat-no" title="statement not covered" >var range=new Range(Pos(pos.line,0),clipPos(doc,Pos(pos.line+1,0)));<span class="cstat-no" title="statement not covered" >i</span>f(cmp(range.anchor,anchor)&gt;0){<span class="cstat-no" title="statement not covered" >head=range.head;<span class="cstat-no" title="statement not covered" >a</span>nchor=minPos(oldRange.from(),range.anchor);}</span>else{<span class="cstat-no" title="statement not covered" >head=range.anchor;<span class="cstat-no" title="statement not covered" >a</span>nchor=maxPos(oldRange.to(),range.head);}</span>}</span>
<span class="cstat-no" title="statement not covered" >var ranges=startSel.ranges.slice(0);<span class="cstat-no" title="statement not covered" >r</span>anges[ourIndex]=new Range(clipPos(doc,anchor),head);<span class="cstat-no" title="statement not covered" >s</span>etSelection(doc,normalizeSelection(ranges,ourIndex),sel_mouse);}</span>}
<span class="cstat-no" title="statement not covered" >var editorSize=display.wrapper.getBoundingClientRect();<span class="cstat-no" title="statement not covered" >v</span>ar counter=0;<span class="fstat-no" title="function not covered" >f</span>unction extend(e){<span class="cstat-no" title="statement not covered" ></span>var curCount=++counter;<span class="cstat-no" title="statement not covered" >v</span>ar cur=posFromMouse(cm,e,true,type=="rect");<span class="cstat-no" title="statement not covered" >i</span>f(!cur)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(cmp(cur,lastPos)!=0){<span class="cstat-no" title="statement not covered" >ensureFocus(cm);<span class="cstat-no" title="statement not covered" >e</span>xtendTo(cur);<span class="cstat-no" title="statement not covered" >v</span>ar visible=visibleLines(display,doc);<span class="cstat-no" title="statement not covered" >i</span>f(cur.line&gt;=visible.to||cur.line&lt;visible.from)</span></span>
<span class="cstat-no" title="statement not covered" >setTimeout(operation(cm,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(counter==curCount)<span class="cstat-no" title="statement not covered" >extend(e);}</span></span>),150);}</span>else{<span class="cstat-no" title="statement not covered" >var outside=e.clientY&lt;editorSize.top?-20:e.clientY&gt;editorSize.bottom?20:0;<span class="cstat-no" title="statement not covered" >i</span>f(outside)<span class="cstat-no" title="statement not covered" >setTimeout(operation(cm,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(counter!=curCount)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >d</span></span>isplay.scroller.scrollTop+=outside;<span class="cstat-no" title="statement not covered" >e</span>xtend(e);}</span>),50);}</span></span>}
<span class="fstat-no" title="function not covered" >function done(e){<span class="cstat-no" title="statement not covered" ></span>counter=Infinity;<span class="cstat-no" title="statement not covered" >e</span>_preventDefault(e);<span class="cstat-no" title="statement not covered" >f</span>ocusInput(cm);<span class="cstat-no" title="statement not covered" >o</span>ff(document,"mousemove",move);<span class="cstat-no" title="statement not covered" >o</span>ff(document,"mouseup",up);<span class="cstat-no" title="statement not covered" >d</span>oc.history.lastSelOrigin=null;}</span>
<span class="cstat-no" title="statement not covered" >var move=operation(cm,<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>if(!e_button(e))<span class="cstat-no" title="statement not covered" >done(e);e</span>lse <span class="cstat-no" title="statement not covered" >extend(e);}</span></span>);<span class="cstat-no" title="statement not covered" >v</span>ar up=operation(cm,done);<span class="cstat-no" title="statement not covered" >o</span>n(document,"mousemove",move);<span class="cstat-no" title="statement not covered" >o</span>n(document,"mouseup",up);}</span>
<span class="fstat-no" title="function not covered" >function gutterEvent(cm,e,type,prevent,signalfn){<span class="cstat-no" title="statement not covered" ></span>try{<span class="cstat-no" title="statement not covered" >var mX=e.clientX,mY=e.clientY;}</span></span>
catch(e){<span class="cstat-no" title="statement not covered" >return false;}</span>
<span class="cstat-no" title="statement not covered" >if(mX&gt;=Math.floor(cm.display.gutters.getBoundingClientRect().right))<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >i</span></span>f(prevent)<span class="cstat-no" title="statement not covered" >e_preventDefault(e);<span class="cstat-no" title="statement not covered" >v</span></span>ar display=cm.display;<span class="cstat-no" title="statement not covered" >v</span>ar lineBox=display.lineDiv.getBoundingClientRect();<span class="cstat-no" title="statement not covered" >i</span>f(mY&gt;lineBox.bottom||!hasHandler(cm,type))<span class="cstat-no" title="statement not covered" >return e_defaultPrevented(e);<span class="cstat-no" title="statement not covered" >m</span></span>Y-=lineBox.top-display.viewOffset;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;cm.options.gutters.length;++i){<span class="cstat-no" title="statement not covered" >var g=display.gutters.childNodes[i];<span class="cstat-no" title="statement not covered" >i</span>f(g&amp;&amp;g.getBoundingClientRect().right&gt;=mX){<span class="cstat-no" title="statement not covered" >var line=lineAtHeight(cm.doc,mY);<span class="cstat-no" title="statement not covered" >v</span>ar gutter=cm.options.gutters[i];<span class="cstat-no" title="statement not covered" >s</span>ignalfn(cm,type,cm,line,gutter,e);<span class="cstat-no" title="statement not covered" >r</span>eturn e_defaultPrevented(e);}</span>}</span>}</span>
<span class="fstat-no" title="function not covered" >function clickInGutter(cm,e){<span class="cstat-no" title="statement not covered" ></span>return gutterEvent(cm,e,"gutterClick",true,signalLater);}</span>
<span class="cstat-no" title="statement not covered" >var lastDrop=0;<span class="fstat-no" title="function not covered" >f</span>unction onDrop(e){<span class="cstat-no" title="statement not covered" ></span>var cm=this;<span class="cstat-no" title="statement not covered" >i</span>f(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >e</span>_preventDefault(e);<span class="cstat-no" title="statement not covered" >i</span>f(ie)<span class="cstat-no" title="statement not covered" >lastDrop=+new Date;<span class="cstat-no" title="statement not covered" >v</span></span>ar pos=posFromMouse(cm,e,true),files=e.dataTransfer.files;<span class="cstat-no" title="statement not covered" >i</span>f(!pos||isReadOnly(cm))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(files&amp;&amp;files.length&amp;&amp;window.FileReader&amp;&amp;window.File){<span class="cstat-no" title="statement not covered" >var n=files.length,text=Array(n),read=0;<span class="cstat-no" title="statement not covered" >v</span>ar loadFile=<span class="fstat-no" title="function not covered" >function(file,i){<span class="cstat-no" title="statement not covered" ></span>var reader=new FileReader;<span class="cstat-no" title="statement not covered" >r</span>eader.onload=operation(cm,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>text[i]=reader.result;<span class="cstat-no" title="statement not covered" >i</span>f(++read==n){<span class="cstat-no" title="statement not covered" >pos=clipPos(cm.doc,pos);<span class="cstat-no" title="statement not covered" >v</span>ar change={from:pos,to:pos,text:splitLines(text.join("\n")),origin:"paste"};<span class="cstat-no" title="statement not covered" >m</span>akeChange(cm.doc,change);<span class="cstat-no" title="statement not covered" >s</span>etSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)));}</span>}</span>);<span class="cstat-no" title="statement not covered" >r</span>eader.readAsText(file);}</span>;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;n;++i)<span class="cstat-no" title="statement not covered" >loadFile(files[i],i);}</span></span>else{<span class="cstat-no" title="statement not covered" >if(cm.state.draggingText&amp;&amp;cm.doc.sel.contains(pos)&gt;-1){<span class="cstat-no" title="statement not covered" >cm.state.draggingText(e);<span class="cstat-no" title="statement not covered" >s</span>etTimeout(bind(focusInput,cm),20);<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span></span>
<span class="cstat-no" title="statement not covered" >try{<span class="cstat-no" title="statement not covered" >var text=e.dataTransfer.getData("Text");<span class="cstat-no" title="statement not covered" >i</span>f(text){<span class="cstat-no" title="statement not covered" >if(cm.state.draggingText&amp;&amp;!(mac?e.metaKey:e.ctrlKey))</span></span></span>
<span class="cstat-no" title="statement not covered" >var selected=cm.listSelections();<span class="cstat-no" title="statement not covered" >s</span>etSelectionNoUndo(cm.doc,simpleSelection(pos,pos));<span class="cstat-no" title="statement not covered" >i</span>f(selected)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;selected.length;++i)</span></span>
<span class="cstat-no" title="statement not covered" >replaceRange(cm.doc,"",selected[i].anchor,selected[i].head,"drag");<span class="cstat-no" title="statement not covered" >c</span>m.replaceSelection(text,"around","paste");<span class="cstat-no" title="statement not covered" >f</span>ocusInput(cm);}</span>}
catch(e){}}}
<span class="fstat-no" title="function not covered" >function onDragStart(cm,e){<span class="cstat-no" title="statement not covered" ></span>if(ie&amp;&amp;(!cm.state.draggingText||+new Date-lastDrop&lt;100)){<span class="cstat-no" title="statement not covered" >e_stop(e);<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >e</span></span>.dataTransfer.setData("Text",cm.getSelection());<span class="cstat-no" title="statement not covered" >i</span>f(e.dataTransfer.setDragImage&amp;&amp;!safari){<span class="cstat-no" title="statement not covered" >var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");<span class="cstat-no" title="statement not covered" >i</span>mg.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";<span class="cstat-no" title="statement not covered" >i</span>f(presto){<span class="cstat-no" title="statement not covered" >img.width=img.height=1;<span class="cstat-no" title="statement not covered" >c</span>m.display.wrapper.appendChild(img);<span class="cstat-no" title="statement not covered" >i</span>mg._top=img.offsetTop;}</span></span></span>
<span class="cstat-no" title="statement not covered" >e.dataTransfer.setDragImage(img,0,0);<span class="cstat-no" title="statement not covered" >i</span>f(presto)<span class="cstat-no" title="statement not covered" >img.parentNode.removeChild(img);}</span></span>}
<span class="fstat-no" title="function not covered" >function setScrollTop(cm,val){<span class="cstat-no" title="statement not covered" ></span>if(Math.abs(cm.doc.scrollTop-val)&lt;2)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >c</span></span>m.doc.scrollTop=val;<span class="cstat-no" title="statement not covered" >i</span>f(!gecko)<span class="cstat-no" title="statement not covered" >updateDisplaySimple(cm,{top:val});<span class="cstat-no" title="statement not covered" >i</span></span>f(cm.display.scroller.scrollTop!=val)<span class="cstat-no" title="statement not covered" >cm.display.scroller.scrollTop=val;<span class="cstat-no" title="statement not covered" >c</span></span>m.display.scrollbars.setScrollTop(val);<span class="cstat-no" title="statement not covered" >i</span>f(gecko)<span class="cstat-no" title="statement not covered" >updateDisplaySimple(cm);<span class="cstat-no" title="statement not covered" >s</span></span>tartWorker(cm,100);}</span>
<span class="fstat-no" title="function not covered" >function setScrollLeft(cm,val,isScroller){<span class="cstat-no" title="statement not covered" ></span>if(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)&lt;2)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>al=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);<span class="cstat-no" title="statement not covered" >c</span>m.doc.scrollLeft=val;<span class="cstat-no" title="statement not covered" >a</span>lignHorizontally(cm);<span class="cstat-no" title="statement not covered" >i</span>f(cm.display.scroller.scrollLeft!=val)<span class="cstat-no" title="statement not covered" >cm.display.scroller.scrollLeft=val;<span class="cstat-no" title="statement not covered" >c</span></span>m.display.scrollbars.setScrollLeft(val);}</span>
<span class="cstat-no" title="statement not covered" >var wheelSamples=0,wheelPixelsPerUnit=null;<span class="cstat-no" title="statement not covered" >i</span>f(ie)<span class="cstat-no" title="statement not covered" >wheelPixelsPerUnit=-.53;e</span>lse <span class="cstat-no" title="statement not covered" >if(gecko)<span class="cstat-no" title="statement not covered" >wheelPixelsPerUnit=15;e</span>lse <span class="cstat-no" title="statement not covered" >if(chrome)<span class="cstat-no" title="statement not covered" >wheelPixelsPerUnit=-.7;e</span>lse <span class="cstat-no" title="statement not covered" >if(safari)<span class="cstat-no" title="statement not covered" >wheelPixelsPerUnit=-1/3;<span class="cstat-no" title="statement not covered" >v</span></span></span></span></span>ar wheelEventDelta=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>var dx=e.wheelDeltaX,dy=e.wheelDeltaY;<span class="cstat-no" title="statement not covered" >i</span>f(dx==null&amp;&amp;e.detail&amp;&amp;e.axis==e.HORIZONTAL_AXIS)<span class="cstat-no" title="statement not covered" >dx=e.detail;<span class="cstat-no" title="statement not covered" >i</span></span>f(dy==null&amp;&amp;e.detail&amp;&amp;e.axis==e.VERTICAL_AXIS)<span class="cstat-no" title="statement not covered" >dy=e.detail;e</span>lse <span class="cstat-no" title="statement not covered" >if(dy==null)<span class="cstat-no" title="statement not covered" >dy=e.wheelDelta;<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn{x:dx,y:dy};}</span>;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.wheelEventPixels=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>var delta=wheelEventDelta(e);<span class="cstat-no" title="statement not covered" >d</span>elta.x*=wheelPixelsPerUnit;<span class="cstat-no" title="statement not covered" >d</span>elta.y*=wheelPixelsPerUnit;<span class="cstat-no" title="statement not covered" >r</span>eturn delta;}</span>;<span class="fstat-no" title="function not covered" >f</span>unction onScrollWheel(cm,e){<span class="cstat-no" title="statement not covered" ></span>var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y;<span class="cstat-no" title="statement not covered" >v</span>ar display=cm.display,scroll=display.scroller;<span class="cstat-no" title="statement not covered" >i</span>f(!(dx&amp;&amp;scroll.scrollWidth&gt;scroll.clientWidth||dy&amp;&amp;scroll.scrollHeight&gt;scroll.clientHeight))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(dy&amp;&amp;mac&amp;&amp;webkit){<span class="cstat-no" title="statement not covered" >outer:<span class="cstat-no" title="statement not covered" >for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;view.length;i++){<span class="cstat-no" title="statement not covered" >if(view[i].node==cur){<span class="cstat-no" title="statement not covered" >cm.display.currentWheelTarget=cur;<span class="cstat-no" title="statement not covered" >b</span>reak outer;}</span>}</span>}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(dx&amp;&amp;!gecko&amp;&amp;!presto&amp;&amp;wheelPixelsPerUnit!=null){<span class="cstat-no" title="statement not covered" >if(dy)</span></span>
<span class="cstat-no" title="statement not covered" >setScrollTop(cm,Math.max(0,Math.min(scroll.scrollTop+dy*wheelPixelsPerUnit,scroll.scrollHeight-scroll.clientHeight)));<span class="cstat-no" title="statement not covered" >s</span>etScrollLeft(cm,Math.max(0,Math.min(scroll.scrollLeft+dx*wheelPixelsPerUnit,scroll.scrollWidth-scroll.clientWidth)));<span class="cstat-no" title="statement not covered" >e</span>_preventDefault(e);<span class="cstat-no" title="statement not covered" >d</span>isplay.wheelStartX=null;<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span>
<span class="cstat-no" title="statement not covered" >if(dy&amp;&amp;wheelPixelsPerUnit!=null){<span class="cstat-no" title="statement not covered" >var pixels=dy*wheelPixelsPerUnit;<span class="cstat-no" title="statement not covered" >v</span>ar top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;<span class="cstat-no" title="statement not covered" >i</span>f(pixels&lt;0)<span class="cstat-no" title="statement not covered" >top=Math.max(0,top+pixels-50);e</span>lse <span class="cstat-no" title="statement not covered" >bot=Math.min(cm.doc.height,bot+pixels+50);<span class="cstat-no" title="statement not covered" >u</span></span>pdateDisplaySimple(cm,{top:top,bottom:bot});}</span></span>
<span class="cstat-no" title="statement not covered" >if(wheelSamples&lt;20){<span class="cstat-no" title="statement not covered" >if(display.wheelStartX==null){<span class="cstat-no" title="statement not covered" >display.wheelStartX=scroll.scrollLeft;<span class="cstat-no" title="statement not covered" >d</span>isplay.wheelStartY=scroll.scrollTop;<span class="cstat-no" title="statement not covered" >d</span>isplay.wheelDX=dx;<span class="cstat-no" title="statement not covered" >d</span>isplay.wheelDY=dy;<span class="cstat-no" title="statement not covered" >s</span>etTimeout(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(display.wheelStartX==null)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar movedX=scroll.scrollLeft-display.wheelStartX;<span class="cstat-no" title="statement not covered" >v</span>ar movedY=scroll.scrollTop-display.wheelStartY;<span class="cstat-no" title="statement not covered" >v</span>ar sample=(movedY&amp;&amp;display.wheelDY&amp;&amp;movedY/display.wheelDY)||(movedX&amp;&amp;display.wheelDX&amp;&amp;movedX/display.wheelDX);<span class="cstat-no" title="statement not covered" >d</span>isplay.wheelStartX=display.wheelStartY=null;<span class="cstat-no" title="statement not covered" >i</span>f(!sample)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >w</span></span>heelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);<span class="cstat-no" title="statement not covered" >+</span>+wheelSamples;}</span>,200);}</span>else{<span class="cstat-no" title="statement not covered" >display.wheelDX+=dx;<span class="cstat-no" title="statement not covered" >d</span>isplay.wheelDY+=dy;}</span>}</span>}</span>
<span class="fstat-no" title="function not covered" >function doHandleBinding(cm,bound,dropShift){<span class="cstat-no" title="statement not covered" ></span>if(typeof bound=="string"){<span class="cstat-no" title="statement not covered" >bound=commands[bound];<span class="cstat-no" title="statement not covered" >i</span>f(!bound)<span class="cstat-no" title="statement not covered" >return false;}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(cm.display.pollingFast&amp;&amp;readInput(cm))<span class="cstat-no" title="statement not covered" >cm.display.pollingFast=false;<span class="cstat-no" title="statement not covered" >v</span></span>ar prevShift=cm.display.shift,done=false;<span class="cstat-no" title="statement not covered" >t</span>ry{<span class="cstat-no" title="statement not covered" >if(isReadOnly(cm))<span class="cstat-no" title="statement not covered" >cm.state.suppressEdits=true;<span class="cstat-no" title="statement not covered" >i</span></span>f(dropShift)<span class="cstat-no" title="statement not covered" >cm.display.shift=false;<span class="cstat-no" title="statement not covered" >d</span></span>one=bound(cm)!=Pass;}</span>finally{<span class="cstat-no" title="statement not covered" >cm.display.shift=prevShift;<span class="cstat-no" title="statement not covered" >c</span>m.state.suppressEdits=false;}</span></span>
<span class="cstat-no" title="statement not covered" >return done;}</span>
<span class="fstat-no" title="function not covered" >function lookupKeyForEditor(cm,name,handle){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;cm.state.keyMaps.length;i++){<span class="cstat-no" title="statement not covered" >var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);<span class="cstat-no" title="statement not covered" >i</span>f(result)<span class="cstat-no" title="statement not covered" >return result;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return(cm.options.extraKeys&amp;&amp;lookupKey(name,cm.options.extraKeys,handle,cm))||lookupKey(name,cm.options.keyMap,handle,cm);}</span>
<span class="cstat-no" title="statement not covered" >var stopSeq=new Delayed;<span class="fstat-no" title="function not covered" >f</span>unction dispatchKey(cm,name,e,handle){<span class="cstat-no" title="statement not covered" ></span>var seq=cm.state.keySeq;<span class="cstat-no" title="statement not covered" >i</span>f(seq){<span class="cstat-no" title="statement not covered" >if(isModifierKey(name))<span class="cstat-no" title="statement not covered" >return"handled";<span class="cstat-no" title="statement not covered" >s</span></span>topSeq.set(50,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(cm.state.keySeq==seq){<span class="cstat-no" title="statement not covered" >cm.state.keySeq=null;<span class="cstat-no" title="statement not covered" >r</span>esetInput(cm);}</span>}</span>);<span class="cstat-no" title="statement not covered" >n</span>ame=seq+" "+name;}</span></span>
<span class="cstat-no" title="statement not covered" >var result=lookupKeyForEditor(cm,name,handle);<span class="cstat-no" title="statement not covered" >i</span>f(result=="multi")</span>
<span class="cstat-no" title="statement not covered" >cm.state.keySeq=name;<span class="cstat-no" title="statement not covered" >i</span>f(result=="handled")</span>
<span class="cstat-no" title="statement not covered" >signalLater(cm,"keyHandled",cm,name,e);<span class="cstat-no" title="statement not covered" >i</span>f(result=="handled"||result=="multi"){<span class="cstat-no" title="statement not covered" >e_preventDefault(e);<span class="cstat-no" title="statement not covered" >r</span>estartBlink(cm);}</span></span>
<span class="cstat-no" title="statement not covered" >if(seq&amp;&amp;!result&amp;&amp;/\'$/.test(name)){<span class="cstat-no" title="statement not covered" >e_preventDefault(e);<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span></span>
<span class="cstat-no" title="statement not covered" >return!!result;}</span>
<span class="fstat-no" title="function not covered" >function handleKeyBinding(cm,e){<span class="cstat-no" title="statement not covered" ></span>var name=keyName(e,true);<span class="cstat-no" title="statement not covered" >i</span>f(!name)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >i</span></span>f(e.shiftKey&amp;&amp;!cm.state.keySeq){<span class="cstat-no" title="statement not covered" >return dispatchKey(cm,"Shift-"+name,e,<span class="fstat-no" title="function not covered" >function(b){<span class="cstat-no" title="statement not covered" ></span>return doHandleBinding(cm,b,true);}</span>)||dispatchKey(cm,name,e,<span class="fstat-no" title="function not covered" >function(b){<span class="cstat-no" title="statement not covered" ></span>if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)</span></span></span>
<span class="cstat-no" title="statement not covered" >return doHandleBinding(cm,b);}</span>);}else{<span class="cstat-no" title="statement not covered" >return dispatchKey(cm,name,e,<span class="fstat-no" title="function not covered" >function(b){<span class="cstat-no" title="statement not covered" ></span>return doHandleBinding(cm,b);}</span>);}</span>}
<span class="fstat-no" title="function not covered" >function handleCharBinding(cm,e,ch){<span class="cstat-no" title="statement not covered" ></span>return dispatchKey(cm,"'"+ch+"'",e,<span class="fstat-no" title="function not covered" >function(b){<span class="cstat-no" title="statement not covered" ></span>return doHandleBinding(cm,b,true);}</span>);}</span>
<span class="cstat-no" title="statement not covered" >var lastStoppedKey=null;<span class="fstat-no" title="function not covered" >f</span>unction onKeyDown(e){<span class="cstat-no" title="statement not covered" ></span>var cm=this;<span class="cstat-no" title="statement not covered" >e</span>nsureFocus(cm);<span class="cstat-no" title="statement not covered" >i</span>f(signalDOMEvent(cm,e))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(ie&amp;&amp;ie_version&lt;11&amp;&amp;e.keyCode==27)<span class="cstat-no" title="statement not covered" >e.returnValue=false;<span class="cstat-no" title="statement not covered" >v</span></span>ar code=e.keyCode;<span class="cstat-no" title="statement not covered" >c</span>m.display.shift=code==16||e.shiftKey;<span class="cstat-no" title="statement not covered" >v</span>ar handled=handleKeyBinding(cm,e);<span class="cstat-no" title="statement not covered" >i</span>f(presto){<span class="cstat-no" title="statement not covered" >lastStoppedKey=handled?code:null;<span class="cstat-no" title="statement not covered" >i</span>f(!handled&amp;&amp;code==88&amp;&amp;!hasCopyEvent&amp;&amp;(mac?e.metaKey:e.ctrlKey))</span></span>
<span class="cstat-no" title="statement not covered" >cm.replaceSelection("",null,"cut");}</span>
<span class="cstat-no" title="statement not covered" >if(code==18&amp;&amp;!/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className))</span>
<span class="cstat-no" title="statement not covered" >showCrossHair(cm);}</span>
<span class="fstat-no" title="function not covered" >function showCrossHair(cm){<span class="cstat-no" title="statement not covered" ></span>var lineDiv=cm.display.lineDiv;<span class="cstat-no" title="statement not covered" >a</span>ddClass(lineDiv,"CodeMirror-crosshair");<span class="fstat-no" title="function not covered" >f</span>unction up(e){<span class="cstat-no" title="statement not covered" ></span>if(e.keyCode==18||!e.altKey){<span class="cstat-no" title="statement not covered" >rmClass(lineDiv,"CodeMirror-crosshair");<span class="cstat-no" title="statement not covered" >o</span>ff(document,"keyup",up);<span class="cstat-no" title="statement not covered" >o</span>ff(document,"mouseover",up);}</span>}</span>
<span class="cstat-no" title="statement not covered" >on(document,"keyup",up);<span class="cstat-no" title="statement not covered" >o</span>n(document,"mouseover",up);}</span>
<span class="fstat-no" title="function not covered" >function onKeyUp(e){<span class="cstat-no" title="statement not covered" ></span>if(e.keyCode==16)<span class="cstat-no" title="statement not covered" >this.doc.sel.shift=false;<span class="cstat-no" title="statement not covered" >s</span></span>ignalDOMEvent(this,e);}</span>
<span class="fstat-no" title="function not covered" >function onKeyPress(e){<span class="cstat-no" title="statement not covered" ></span>var cm=this;<span class="cstat-no" title="statement not covered" >i</span>f(signalDOMEvent(cm,e)||e.ctrlKey&amp;&amp;!e.altKey||mac&amp;&amp;e.metaKey)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar keyCode=e.keyCode,charCode=e.charCode;<span class="cstat-no" title="statement not covered" >i</span>f(presto&amp;&amp;keyCode==lastStoppedKey){<span class="cstat-no" title="statement not covered" >lastStoppedKey=null;<span class="cstat-no" title="statement not covered" >e</span>_preventDefault(e);<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >if(((presto&amp;&amp;(!e.which||e.which&lt;10))||khtml)&amp;&amp;handleKeyBinding(cm,e))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar ch=String.fromCharCode(charCode==null?keyCode:charCode);<span class="cstat-no" title="statement not covered" >i</span>f(handleCharBinding(cm,e,ch))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(ie&amp;&amp;ie_version&gt;=9)<span class="cstat-no" title="statement not covered" >cm.display.inputHasSelection=null;<span class="cstat-no" title="statement not covered" >f</span></span>astPoll(cm);}</span>
<span class="fstat-no" title="function not covered" >function onFocus(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.options.readOnly=="nocursor")<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(!cm.state.focused){<span class="cstat-no" title="statement not covered" >signal(cm,"focus",cm);<span class="cstat-no" title="statement not covered" >c</span>m.state.focused=true;<span class="cstat-no" title="statement not covered" >a</span>ddClass(cm.display.wrapper,"CodeMirror-focused");<span class="cstat-no" title="statement not covered" >i</span>f(!cm.curOp&amp;&amp;cm.display.selForContextMenu!=cm.doc.sel){<span class="cstat-no" title="statement not covered" >resetInput(cm);<span class="cstat-no" title="statement not covered" >i</span>f(webkit)<span class="cstat-no" title="statement not covered" >setTimeout(bind(resetInput,cm,true),0);}</span></span>}</span></span>
<span class="cstat-no" title="statement not covered" >slowPoll(cm);<span class="cstat-no" title="statement not covered" >r</span>estartBlink(cm);}</span>
<span class="fstat-no" title="function not covered" >function onBlur(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.state.focused){<span class="cstat-no" title="statement not covered" >signal(cm,"blur",cm);<span class="cstat-no" title="statement not covered" >c</span>m.state.focused=false;<span class="cstat-no" title="statement not covered" >r</span>mClass(cm.display.wrapper,"CodeMirror-focused");}</span></span>
<span class="cstat-no" title="statement not covered" >clearInterval(cm.display.blinker);<span class="cstat-no" title="statement not covered" >s</span>etTimeout(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(!cm.state.focused)<span class="cstat-no" title="statement not covered" >cm.display.shift=false;}</span></span>,150);}</span>
<span class="fstat-no" title="function not covered" >function onContextMenu(cm,e){<span class="cstat-no" title="statement not covered" ></span>if(signalDOMEvent(cm,e,"contextmenu"))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar display=cm.display;<span class="cstat-no" title="statement not covered" >i</span>f(eventInWidget(display,e)||contextMenuInGutter(cm,e))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;<span class="cstat-no" title="statement not covered" >i</span>f(!pos||presto)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar reset=cm.options.resetSelectionOnContextMenu;<span class="cstat-no" title="statement not covered" >i</span>f(reset&amp;&amp;cm.doc.sel.contains(pos)==-1)</span>
<span class="cstat-no" title="statement not covered" >operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);<span class="cstat-no" title="statement not covered" >v</span>ar oldCSS=display.input.style.cssText;<span class="cstat-no" title="statement not covered" >d</span>isplay.inputDiv.style.position="absolute";<span class="cstat-no" title="statement not covered" >d</span>isplay.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+</span>
(ie?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";<span class="cstat-no" title="statement not covered" >if(webkit)<span class="cstat-no" title="statement not covered" >var oldScrollY=window.scrollY;<span class="cstat-no" title="statement not covered" >f</span></span>ocusInput(cm);<span class="cstat-no" title="statement not covered" >i</span>f(webkit)<span class="cstat-no" title="statement not covered" >window.scrollTo(null,oldScrollY);<span class="cstat-no" title="statement not covered" >r</span></span>esetInput(cm);<span class="cstat-no" title="statement not covered" >i</span>f(!cm.somethingSelected())<span class="cstat-no" title="statement not covered" >display.input.value=display.prevInput=" ";<span class="cstat-no" title="statement not covered" >d</span></span>isplay.contextMenuPending=true;<span class="cstat-no" title="statement not covered" >d</span>isplay.selForContextMenu=cm.doc.sel;<span class="cstat-no" title="statement not covered" >c</span>learTimeout(display.detectingSelectAll);<span class="fstat-no" title="function not covered" >f</span>unction prepareSelectAllHack(){<span class="cstat-no" title="statement not covered" ></span>if(display.input.selectionStart!=null){<span class="cstat-no" title="statement not covered" >var selected=cm.somethingSelected();<span class="cstat-no" title="statement not covered" >v</span>ar extval=display.input.value="\u200b"+(selected?display.input.value:"");<span class="cstat-no" title="statement not covered" >d</span>isplay.prevInput=selected?"":"\u200b";<span class="cstat-no" title="statement not covered" >d</span>isplay.input.selectionStart=1;<span class="cstat-no" title="statement not covered" >d</span>isplay.input.selectionEnd=extval.length;<span class="cstat-no" title="statement not covered" >d</span>isplay.selForContextMenu=cm.doc.sel;}</span>}</span>
<span class="fstat-no" title="function not covered" >function rehide(){<span class="cstat-no" title="statement not covered" ></span>display.contextMenuPending=false;<span class="cstat-no" title="statement not covered" >d</span>isplay.inputDiv.style.position="relative";<span class="cstat-no" title="statement not covered" >d</span>isplay.input.style.cssText=oldCSS;<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version&lt;9)<span class="cstat-no" title="statement not covered" >display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos);<span class="cstat-no" title="statement not covered" >s</span></span>lowPoll(cm);<span class="cstat-no" title="statement not covered" >i</span>f(display.input.selectionStart!=null){<span class="cstat-no" title="statement not covered" >if(!ie||(ie&amp;&amp;ie_version&lt;9))<span class="cstat-no" title="statement not covered" >prepareSelectAllHack();<span class="cstat-no" title="statement not covered" >v</span></span>ar i=0,poll=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(display.selForContextMenu==cm.doc.sel&amp;&amp;display.input.selectionStart==0)</span></span></span>
<span class="cstat-no" title="statement not covered" >operation(cm,commands.selectAll)(cm);e</span>lse <span class="cstat-no" title="statement not covered" >if(i++&lt;10)<span class="cstat-no" title="statement not covered" >display.detectingSelectAll=setTimeout(poll,500);e</span>lse <span class="cstat-no" title="statement not covered" >resetInput(cm);}</span></span>;<span class="cstat-no" title="statement not covered" >display.detectingSelectAll=setTimeout(poll,200);}</span>}
<span class="cstat-no" title="statement not covered" >if(ie&amp;&amp;ie_version&gt;=9)<span class="cstat-no" title="statement not covered" >prepareSelectAllHack();<span class="cstat-no" title="statement not covered" >i</span></span>f(captureRightClick){<span class="cstat-no" title="statement not covered" >e_stop(e);<span class="cstat-no" title="statement not covered" >v</span>ar mouseup=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>off(window,"mouseup",mouseup);<span class="cstat-no" title="statement not covered" >s</span>etTimeout(rehide,20);}</span>;<span class="cstat-no" title="statement not covered" >o</span>n(window,"mouseup",mouseup);}</span>else{<span class="cstat-no" title="statement not covered" >setTimeout(rehide,50);}</span>}</span>
<span class="fstat-no" title="function not covered" >function contextMenuInGutter(cm,e){<span class="cstat-no" title="statement not covered" ></span>if(!hasHandler(cm,"gutterContextMenu"))<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >r</span></span>eturn gutterEvent(cm,e,"gutterContextMenu",false,signal);}</span>
<span class="cstat-no" title="statement not covered" >var changeEnd=CodeMirror.changeEnd=<span class="fstat-no" title="function not covered" >function(change){<span class="cstat-no" title="statement not covered" ></span>if(!change.text)<span class="cstat-no" title="statement not covered" >return change.to;<span class="cstat-no" title="statement not covered" >r</span></span>eturn Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0));}</span>;<span class="fstat-no" title="function not covered" >f</span>unction adjustForChange(pos,change){<span class="cstat-no" title="statement not covered" ></span>if(cmp(pos,change.from)&lt;0)<span class="cstat-no" title="statement not covered" >return pos;<span class="cstat-no" title="statement not covered" >i</span></span>f(cmp(pos,change.to)&lt;=0)<span class="cstat-no" title="statement not covered" >return changeEnd(change);<span class="cstat-no" title="statement not covered" >v</span></span>ar line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;<span class="cstat-no" title="statement not covered" >i</span>f(pos.line==change.to.line)<span class="cstat-no" title="statement not covered" >ch+=changeEnd(change).ch-change.to.ch;<span class="cstat-no" title="statement not covered" >r</span></span>eturn Pos(line,ch);}</span>
<span class="fstat-no" title="function not covered" >function computeSelAfterChange(doc,change){<span class="cstat-no" title="statement not covered" ></span>var out=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;doc.sel.ranges.length;i++){<span class="cstat-no" title="statement not covered" >var range=doc.sel.ranges[i];<span class="cstat-no" title="statement not covered" >o</span>ut.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)));}</span></span>
<span class="cstat-no" title="statement not covered" >return normalizeSelection(out,doc.sel.primIndex);}</span>
<span class="fstat-no" title="function not covered" >function offsetPos(pos,old,nw){<span class="cstat-no" title="statement not covered" ></span>if(pos.line==old.line)</span>
<span class="cstat-no" title="statement not covered" >return Pos(nw.line,pos.ch-old.ch+nw.ch);e</span>lse
<span class="cstat-no" title="statement not covered" >return Pos(nw.line+(pos.line-old.line),pos.ch);}</span>
<span class="fstat-no" title="function not covered" >function computeReplacedSel(doc,changes,hint){<span class="cstat-no" title="statement not covered" ></span>var out=[];<span class="cstat-no" title="statement not covered" >v</span>ar oldPrev=Pos(doc.first,0),newPrev=oldPrev;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;changes.length;i++){<span class="cstat-no" title="statement not covered" >var change=changes[i];<span class="cstat-no" title="statement not covered" >v</span>ar from=offsetPos(change.from,oldPrev,newPrev);<span class="cstat-no" title="statement not covered" >v</span>ar to=offsetPos(changeEnd(change),oldPrev,newPrev);<span class="cstat-no" title="statement not covered" >o</span>ldPrev=change.to;<span class="cstat-no" title="statement not covered" >n</span>ewPrev=to;<span class="cstat-no" title="statement not covered" >i</span>f(hint=="around"){<span class="cstat-no" title="statement not covered" >var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)&lt;0;<span class="cstat-no" title="statement not covered" >o</span>ut[i]=new Range(inv?to:from,inv?from:to);}</span>else{<span class="cstat-no" title="statement not covered" >out[i]=new Range(from,from);}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >return new Selection(out,doc.sel.primIndex);}</span>
<span class="fstat-no" title="function not covered" >function filterChange(doc,change,update){<span class="cstat-no" title="statement not covered" ></span>var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>this.canceled=true;}</span>};<span class="cstat-no" title="statement not covered" >i</span>f(update)<span class="cstat-no" title="statement not covered" >obj.update=<span class="fstat-no" title="function not covered" >function(from,to,text,origin){<span class="cstat-no" title="statement not covered" ></span>if(from)<span class="cstat-no" title="statement not covered" >this.from=clipPos(doc,from);<span class="cstat-no" title="statement not covered" >i</span></span>f(to)<span class="cstat-no" title="statement not covered" >this.to=clipPos(doc,to);<span class="cstat-no" title="statement not covered" >i</span></span>f(text)<span class="cstat-no" title="statement not covered" >this.text=text;<span class="cstat-no" title="statement not covered" >i</span></span>f(origin!==undefined)<span class="cstat-no" title="statement not covered" >this.origin=origin;}</span></span>;<span class="cstat-no" title="statement not covered" >s</span></span>ignal(doc,"beforeChange",doc,obj);<span class="cstat-no" title="statement not covered" >i</span>f(doc.cm)<span class="cstat-no" title="statement not covered" >signal(doc.cm,"beforeChange",doc.cm,obj);<span class="cstat-no" title="statement not covered" >i</span></span>f(obj.canceled)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >r</span></span>eturn{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin};}</span>
<span class="fstat-no" title="function not covered" >function makeChange(doc,change,ignoreReadOnly){<span class="cstat-no" title="statement not covered" ></span>if(doc.cm){<span class="cstat-no" title="statement not covered" >if(!doc.cm.curOp)<span class="cstat-no" title="statement not covered" >return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);<span class="cstat-no" title="statement not covered" >i</span></span>f(doc.cm.state.suppressEdits)<span class="cstat-no" title="statement not covered" >return;}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(hasHandler(doc,"beforeChange")||doc.cm&amp;&amp;hasHandler(doc.cm,"beforeChange")){<span class="cstat-no" title="statement not covered" >change=filterChange(doc,change,true);<span class="cstat-no" title="statement not covered" >i</span>f(!change)<span class="cstat-no" title="statement not covered" >return;}</span></span></span>
<span class="cstat-no" title="statement not covered" >var split=sawReadOnlySpans&amp;&amp;!ignoreReadOnly&amp;&amp;removeReadOnlyRanges(doc,change.from,change.to);<span class="cstat-no" title="statement not covered" >i</span>f(split){<span class="cstat-no" title="statement not covered" >for(var i=split.length-1;i&gt;=0;--i)</span></span>
<span class="cstat-no" title="statement not covered" >makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text});}</span>else{<span class="cstat-no" title="statement not covered" >makeChangeInner(doc,change);}</span>}
<span class="fstat-no" title="function not covered" >function makeChangeInner(doc,change){<span class="cstat-no" title="statement not covered" ></span>if(change.text.length==1&amp;&amp;change.text[0]==""&amp;&amp;cmp(change.from,change.to)==0)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar selAfter=computeSelAfterChange(doc,change);<span class="cstat-no" title="statement not covered" >a</span>ddChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);<span class="cstat-no" title="statement not covered" >m</span>akeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));<span class="cstat-no" title="statement not covered" >v</span>ar rebased=[];<span class="cstat-no" title="statement not covered" >l</span>inkedDocs(doc,<span class="fstat-no" title="function not covered" >function(doc,sharedHist){<span class="cstat-no" title="statement not covered" ></span>if(!sharedHist&amp;&amp;indexOf(rebased,doc.history)==-1){<span class="cstat-no" title="statement not covered" >rebaseHist(doc.history,change);<span class="cstat-no" title="statement not covered" >r</span>ebased.push(doc.history);}</span></span></span>
<span class="cstat-no" title="statement not covered" >makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change));}</span>);}
<span class="fstat-no" title="function not covered" >function makeChangeFromHistory(doc,type,allowSelectionOnly){<span class="cstat-no" title="statement not covered" ></span>if(doc.cm&amp;&amp;doc.cm.state.suppressEdits)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar hist=doc.history,event,selAfter=doc.sel;<span class="cstat-no" title="statement not covered" >v</span>ar source=type=="undo"?hist.done:hist.undone,dest=type=="undo"?hist.undone:hist.done;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;source.length;i++){<span class="cstat-no" title="statement not covered" >event=source[i];<span class="cstat-no" title="statement not covered" >i</span>f(allowSelectionOnly?event.ranges&amp;&amp;!event.equals(doc.sel):!event.ranges)</span></span>
<span class="cstat-no" title="statement not covered" >break;}</span>
<span class="cstat-no" title="statement not covered" >if(i==source.length)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >h</span></span>ist.lastOrigin=hist.lastSelOrigin=null;<span class="cstat-no" title="statement not covered" >f</span>or(;;){<span class="cstat-no" title="statement not covered" >event=source.pop();<span class="cstat-no" title="statement not covered" >i</span>f(event.ranges){<span class="cstat-no" title="statement not covered" >pushSelectionToHistory(event,dest);<span class="cstat-no" title="statement not covered" >i</span>f(allowSelectionOnly&amp;&amp;!event.equals(doc.sel)){<span class="cstat-no" title="statement not covered" >setSelection(doc,event,{clearRedo:false});<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >selAfter=event;}</span>
else <span class="cstat-no" title="statement not covered" >break;}</span>
<span class="cstat-no" title="statement not covered" >var antiChanges=[];<span class="cstat-no" title="statement not covered" >p</span>ushSelectionToHistory(selAfter,dest);<span class="cstat-no" title="statement not covered" >d</span>est.push({changes:antiChanges,generation:hist.generation});<span class="cstat-no" title="statement not covered" >h</span>ist.generation=event.generation||++hist.maxGeneration;<span class="cstat-no" title="statement not covered" >v</span>ar filter=hasHandler(doc,"beforeChange")||doc.cm&amp;&amp;hasHandler(doc.cm,"beforeChange");<span class="cstat-no" title="statement not covered" >f</span>or(var i=event.changes.length-1;i&gt;=0;--i){<span class="cstat-no" title="statement not covered" >var change=event.changes[i];<span class="cstat-no" title="statement not covered" >c</span>hange.origin=type;<span class="cstat-no" title="statement not covered" >i</span>f(filter&amp;&amp;!filterChange(doc,change,false)){<span class="cstat-no" title="statement not covered" >source.length=0;<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span></span>
<span class="cstat-no" title="statement not covered" >antiChanges.push(historyChangeFromChange(doc,change));<span class="cstat-no" title="statement not covered" >v</span>ar after=i?computeSelAfterChange(doc,change):lst(source);<span class="cstat-no" title="statement not covered" >m</span>akeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));<span class="cstat-no" title="statement not covered" >i</span>f(!i&amp;&amp;doc.cm)<span class="cstat-no" title="statement not covered" >doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});<span class="cstat-no" title="statement not covered" >v</span></span>ar rebased=[];<span class="cstat-no" title="statement not covered" >l</span>inkedDocs(doc,<span class="fstat-no" title="function not covered" >function(doc,sharedHist){<span class="cstat-no" title="statement not covered" ></span>if(!sharedHist&amp;&amp;indexOf(rebased,doc.history)==-1){<span class="cstat-no" title="statement not covered" >rebaseHist(doc.history,change);<span class="cstat-no" title="statement not covered" >r</span>ebased.push(doc.history);}</span></span></span>
<span class="cstat-no" title="statement not covered" >makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change));}</span>);}}
<span class="fstat-no" title="function not covered" >function shiftDoc(doc,distance){<span class="cstat-no" title="statement not covered" ></span>if(distance==0)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >d</span></span>oc.first+=distance;<span class="cstat-no" title="statement not covered" >d</span>oc.sel=new Selection(map(doc.sel.ranges,<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch));}</span>),doc.sel.primIndex);<span class="cstat-no" title="statement not covered" >i</span>f(doc.cm){<span class="cstat-no" title="statement not covered" >regChange(doc.cm,doc.first,doc.first-distance,distance);<span class="cstat-no" title="statement not covered" >f</span>or(var d=doc.cm.display,l=d.viewFrom;l&lt;d.viewTo;l++)</span></span>
<span class="cstat-no" title="statement not covered" >regLineChange(doc.cm,l,"gutter");}</span>}
<span class="fstat-no" title="function not covered" >function makeChangeSingleDoc(doc,change,selAfter,spans){<span class="cstat-no" title="statement not covered" ></span>if(doc.cm&amp;&amp;!doc.cm.curOp)</span>
<span class="cstat-no" title="statement not covered" >return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);<span class="cstat-no" title="statement not covered" >i</span>f(change.to.line&lt;doc.first){<span class="cstat-no" title="statement not covered" >shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >if(change.from.line&gt;doc.lastLine())<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(change.from.line&lt;doc.first){<span class="cstat-no" title="statement not covered" >var shift=change.text.length-1-(doc.first-change.from.line);<span class="cstat-no" title="statement not covered" >s</span>hiftDoc(doc,shift);<span class="cstat-no" title="statement not covered" >c</span>hange={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin};}</span></span>
<span class="cstat-no" title="statement not covered" >var last=doc.lastLine();<span class="cstat-no" title="statement not covered" >i</span>f(change.to.line&gt;last){<span class="cstat-no" title="statement not covered" >change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin};}</span></span>
<span class="cstat-no" title="statement not covered" >change.removed=getBetween(doc,change.from,change.to);<span class="cstat-no" title="statement not covered" >i</span>f(!selAfter)<span class="cstat-no" title="statement not covered" >selAfter=computeSelAfterChange(doc,change);<span class="cstat-no" title="statement not covered" >i</span></span>f(doc.cm)<span class="cstat-no" title="statement not covered" >makeChangeSingleDocInEditor(doc.cm,change,spans);e</span>lse <span class="cstat-no" title="statement not covered" >updateDoc(doc,change,spans);<span class="cstat-no" title="statement not covered" >s</span></span>etSelectionNoUndo(doc,selAfter,sel_dontScroll);}</span>
<span class="fstat-no" title="function not covered" >function makeChangeSingleDocInEditor(cm,change,spans){<span class="cstat-no" title="statement not covered" ></span>var doc=cm.doc,display=cm.display,from=change.from,to=change.to;<span class="cstat-no" title="statement not covered" >v</span>ar recomputeMaxLength=false,checkWidthStart=from.line;<span class="cstat-no" title="statement not covered" >i</span>f(!cm.options.lineWrapping){<span class="cstat-no" title="statement not covered" >checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));<span class="cstat-no" title="statement not covered" >d</span>oc.iter(checkWidthStart,to.line+1,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(line==display.maxLine){<span class="cstat-no" title="statement not covered" >recomputeMaxLength=true;<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span>}</span>);}</span></span>
<span class="cstat-no" title="statement not covered" >if(doc.sel.contains(change.from,change.to)&gt;-1)</span>
<span class="cstat-no" title="statement not covered" >signalCursorActivity(cm);<span class="cstat-no" title="statement not covered" >u</span>pdateDoc(doc,change,spans,estimateHeight(cm));<span class="cstat-no" title="statement not covered" >i</span>f(!cm.options.lineWrapping){<span class="cstat-no" title="statement not covered" >doc.iter(checkWidthStart,from.line+change.text.length,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var len=lineLength(line);<span class="cstat-no" title="statement not covered" >i</span>f(len&gt;display.maxLineLength){<span class="cstat-no" title="statement not covered" >display.maxLine=line;<span class="cstat-no" title="statement not covered" >d</span>isplay.maxLineLength=len;<span class="cstat-no" title="statement not covered" >d</span>isplay.maxLineChanged=true;<span class="cstat-no" title="statement not covered" >r</span>ecomputeMaxLength=false;}</span>}</span>);<span class="cstat-no" title="statement not covered" >i</span>f(recomputeMaxLength)<span class="cstat-no" title="statement not covered" >cm.curOp.updateMaxLine=true;}</span></span></span>
<span class="cstat-no" title="statement not covered" >doc.frontier=Math.min(doc.frontier,from.line);<span class="cstat-no" title="statement not covered" >s</span>tartWorker(cm,400);<span class="cstat-no" title="statement not covered" >v</span>ar lendiff=change.text.length-(to.line-from.line)-1;<span class="cstat-no" title="statement not covered" >i</span>f(change.full)</span>
<span class="cstat-no" title="statement not covered" >regChange(cm);e</span>lse <span class="cstat-no" title="statement not covered" >if(from.line==to.line&amp;&amp;change.text.length==1&amp;&amp;!isWholeLineUpdate(cm.doc,change))</span>
<span class="cstat-no" title="statement not covered" >regLineChange(cm,from.line,"text");e</span>lse
<span class="cstat-no" title="statement not covered" >regChange(cm,from.line,to.line+1,lendiff);<span class="cstat-no" title="statement not covered" >v</span>ar changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");<span class="cstat-no" title="statement not covered" >i</span>f(changeHandler||changesHandler){<span class="cstat-no" title="statement not covered" >var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};<span class="cstat-no" title="statement not covered" >i</span>f(changeHandler)<span class="cstat-no" title="statement not covered" >signalLater(cm,"change",cm,obj);<span class="cstat-no" title="statement not covered" >i</span></span>f(changesHandler)<span class="cstat-no" title="statement not covered" >(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj);}</span></span></span>
<span class="cstat-no" title="statement not covered" >cm.display.selForContextMenu=null;}</span>
<span class="fstat-no" title="function not covered" >function replaceRange(doc,code,from,to,origin){<span class="cstat-no" title="statement not covered" ></span>if(!to)<span class="cstat-no" title="statement not covered" >to=from;<span class="cstat-no" title="statement not covered" >i</span></span>f(cmp(to,from)&lt;0){<span class="cstat-no" title="statement not covered" >var tmp=to;<span class="cstat-no" title="statement not covered" >t</span>o=from;<span class="cstat-no" title="statement not covered" >f</span>rom=tmp;}</span></span>
<span class="cstat-no" title="statement not covered" >if(typeof code=="string")<span class="cstat-no" title="statement not covered" >code=splitLines(code);<span class="cstat-no" title="statement not covered" >m</span></span>akeChange(doc,{from:from,to:to,text:code,origin:origin});}</span>
<span class="fstat-no" title="function not covered" >function maybeScrollWindow(cm,coords){<span class="cstat-no" title="statement not covered" ></span>if(signalDOMEvent(cm,"scrollCursorIntoView"))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;<span class="cstat-no" title="statement not covered" >i</span>f(coords.top+box.top&lt;0)<span class="cstat-no" title="statement not covered" >doScroll=true;e</span>lse <span class="cstat-no" title="statement not covered" >if(coords.bottom+box.top&gt;(window.innerHeight||document.documentElement.clientHeight))<span class="cstat-no" title="statement not covered" >doScroll=false;<span class="cstat-no" title="statement not covered" >i</span></span></span>f(doScroll!=null&amp;&amp;!phantom){<span class="cstat-no" title="statement not covered" >var scrollNode=elt("div","\u200b",null,"position: absolute; top: "+</span></span>
(coords.top-display.viewOffset-paddingTop(cm.display))+"px; height: "+
(coords.bottom-coords.top+scrollGap(cm)+display.barHeight)+"px; left: "+
coords.left+"px; width: 2px;");<span class="cstat-no" title="statement not covered" >cm.display.lineSpace.appendChild(scrollNode);<span class="cstat-no" title="statement not covered" >s</span>crollNode.scrollIntoView(doScroll);<span class="cstat-no" title="statement not covered" >c</span>m.display.lineSpace.removeChild(scrollNode);}</span>}
<span class="fstat-no" title="function not covered" >function scrollPosIntoView(cm,pos,end,margin){<span class="cstat-no" title="statement not covered" ></span>if(margin==null)<span class="cstat-no" title="statement not covered" >margin=0;<span class="cstat-no" title="statement not covered" >f</span></span>or(var limit=0;limit&lt;5;limit++){<span class="cstat-no" title="statement not covered" >var changed=false,coords=cursorCoords(cm,pos);<span class="cstat-no" title="statement not covered" >v</span>ar endCoords=!end||end==pos?coords:cursorCoords(cm,end);<span class="cstat-no" title="statement not covered" >v</span>ar scrollPos=calculateScrollPos(cm,Math.min(coords.left,endCoords.left),Math.min(coords.top,endCoords.top)-margin,Math.max(coords.left,endCoords.left),Math.max(coords.bottom,endCoords.bottom)+margin);<span class="cstat-no" title="statement not covered" >v</span>ar startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;<span class="cstat-no" title="statement not covered" >i</span>f(scrollPos.scrollTop!=null){<span class="cstat-no" title="statement not covered" >setScrollTop(cm,scrollPos.scrollTop);<span class="cstat-no" title="statement not covered" >i</span>f(Math.abs(cm.doc.scrollTop-startTop)&gt;1)<span class="cstat-no" title="statement not covered" >changed=true;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(scrollPos.scrollLeft!=null){<span class="cstat-no" title="statement not covered" >setScrollLeft(cm,scrollPos.scrollLeft);<span class="cstat-no" title="statement not covered" >i</span>f(Math.abs(cm.doc.scrollLeft-startLeft)&gt;1)<span class="cstat-no" title="statement not covered" >changed=true;}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(!changed)<span class="cstat-no" title="statement not covered" >break;}</span></span>
<span class="cstat-no" title="statement not covered" >return coords;}</span>
<span class="fstat-no" title="function not covered" >function scrollIntoView(cm,x1,y1,x2,y2){<span class="cstat-no" title="statement not covered" ></span>var scrollPos=calculateScrollPos(cm,x1,y1,x2,y2);<span class="cstat-no" title="statement not covered" >i</span>f(scrollPos.scrollTop!=null)<span class="cstat-no" title="statement not covered" >setScrollTop(cm,scrollPos.scrollTop);<span class="cstat-no" title="statement not covered" >i</span></span>f(scrollPos.scrollLeft!=null)<span class="cstat-no" title="statement not covered" >setScrollLeft(cm,scrollPos.scrollLeft);}</span></span>
<span class="fstat-no" title="function not covered" >function calculateScrollPos(cm,x1,y1,x2,y2){<span class="cstat-no" title="statement not covered" ></span>var display=cm.display,snapMargin=textHeight(cm.display);<span class="cstat-no" title="statement not covered" >i</span>f(y1&lt;0)<span class="cstat-no" title="statement not covered" >y1=0;<span class="cstat-no" title="statement not covered" >v</span></span>ar screentop=cm.curOp&amp;&amp;cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;<span class="cstat-no" title="statement not covered" >v</span>ar screen=displayHeight(cm),result={};<span class="cstat-no" title="statement not covered" >i</span>f(y2-y1&gt;screen)<span class="cstat-no" title="statement not covered" >y2=y1+screen;<span class="cstat-no" title="statement not covered" >v</span></span>ar docBottom=cm.doc.height+paddingVert(display);<span class="cstat-no" title="statement not covered" >v</span>ar atTop=y1&lt;snapMargin,atBottom=y2&gt;docBottom-snapMargin;<span class="cstat-no" title="statement not covered" >i</span>f(y1&lt;screentop){<span class="cstat-no" title="statement not covered" >result.scrollTop=atTop?0:y1;}</span>else <span class="cstat-no" title="statement not covered" >if(y2&gt;screentop+screen){<span class="cstat-no" title="statement not covered" >var newTop=Math.min(y1,(atBottom?docBottom:y2)-screen);<span class="cstat-no" title="statement not covered" >i</span>f(newTop!=screentop)<span class="cstat-no" title="statement not covered" >result.scrollTop=newTop;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >var screenleft=cm.curOp&amp;&amp;cm.curOp.scrollLeft!=null?cm.curOp.scrollLeft:display.scroller.scrollLeft;<span class="cstat-no" title="statement not covered" >v</span>ar screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0);<span class="cstat-no" title="statement not covered" >v</span>ar tooWide=x2-x1&gt;screenw;<span class="cstat-no" title="statement not covered" >i</span>f(tooWide)<span class="cstat-no" title="statement not covered" >x2=x1+screenw;<span class="cstat-no" title="statement not covered" >i</span></span>f(x1&lt;10)</span>
<span class="cstat-no" title="statement not covered" >result.scrollLeft=0;e</span>lse <span class="cstat-no" title="statement not covered" >if(x1&lt;screenleft)</span>
<span class="cstat-no" title="statement not covered" >result.scrollLeft=Math.max(0,x1-(tooWide?0:10));e</span>lse <span class="cstat-no" title="statement not covered" >if(x2&gt;screenw+screenleft-3)</span>
<span class="cstat-no" title="statement not covered" >result.scrollLeft=x2+(tooWide?0:10)-screenw;<span class="cstat-no" title="statement not covered" >r</span>eturn result;}</span>
<span class="fstat-no" title="function not covered" >function addToScrollPos(cm,left,top){<span class="cstat-no" title="statement not covered" ></span>if(left!=null||top!=null)<span class="cstat-no" title="statement not covered" >resolveScrollToPos(cm);<span class="cstat-no" title="statement not covered" >i</span></span>f(left!=null)</span>
<span class="cstat-no" title="statement not covered" >cm.curOp.scrollLeft=(cm.curOp.scrollLeft==null?cm.doc.scrollLeft:cm.curOp.scrollLeft)+left;<span class="cstat-no" title="statement not covered" >i</span>f(top!=null)</span>
<span class="cstat-no" title="statement not covered" >cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top;}</span>
<span class="fstat-no" title="function not covered" >function ensureCursorVisible(cm){<span class="cstat-no" title="statement not covered" ></span>resolveScrollToPos(cm);<span class="cstat-no" title="statement not covered" >v</span>ar cur=cm.getCursor(),from=cur,to=cur;<span class="cstat-no" title="statement not covered" >i</span>f(!cm.options.lineWrapping){<span class="cstat-no" title="statement not covered" >from=cur.ch?Pos(cur.line,cur.ch-1):cur;<span class="cstat-no" title="statement not covered" >t</span>o=Pos(cur.line,cur.ch+1);}</span></span>
<span class="cstat-no" title="statement not covered" >cm.curOp.scrollToPos={from:from,to:to,margin:cm.options.cursorScrollMargin,isCursor:true};}</span>
<span class="fstat-no" title="function not covered" >function resolveScrollToPos(cm){<span class="cstat-no" title="statement not covered" ></span>var range=cm.curOp.scrollToPos;<span class="cstat-no" title="statement not covered" >i</span>f(range){<span class="cstat-no" title="statement not covered" >cm.curOp.scrollToPos=null;<span class="cstat-no" title="statement not covered" >v</span>ar from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to);<span class="cstat-no" title="statement not covered" >v</span>ar sPos=calculateScrollPos(cm,Math.min(from.left,to.left),Math.min(from.top,to.top)-range.margin,Math.max(from.right,to.right),Math.max(from.bottom,to.bottom)+range.margin);<span class="cstat-no" title="statement not covered" >c</span>m.scrollTo(sPos.scrollLeft,sPos.scrollTop);}</span>}</span>
<span class="fstat-no" title="function not covered" >function indentLine(cm,n,how,aggressive){<span class="cstat-no" title="statement not covered" ></span>var doc=cm.doc,state;<span class="cstat-no" title="statement not covered" >i</span>f(how==null)<span class="cstat-no" title="statement not covered" >how="add";<span class="cstat-no" title="statement not covered" >i</span></span>f(how=="smart"){<span class="cstat-no" title="statement not covered" >if(!doc.mode.indent)<span class="cstat-no" title="statement not covered" >how="prev";e</span>lse <span class="cstat-no" title="statement not covered" >state=getStateBefore(cm,n);}</span></span></span>
<span class="cstat-no" title="statement not covered" >var tabSize=cm.options.tabSize;<span class="cstat-no" title="statement not covered" >v</span>ar line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);<span class="cstat-no" title="statement not covered" >i</span>f(line.stateAfter)<span class="cstat-no" title="statement not covered" >line.stateAfter=null;<span class="cstat-no" title="statement not covered" >v</span></span>ar curSpaceString=line.text.match(/^\s*/)[0],indentation;<span class="cstat-no" title="statement not covered" >i</span>f(!aggressive&amp;&amp;!/\S/.test(line.text)){<span class="cstat-no" title="statement not covered" >indentation=0;<span class="cstat-no" title="statement not covered" >h</span>ow="not";}</span>else <span class="cstat-no" title="statement not covered" >if(how=="smart"){<span class="cstat-no" title="statement not covered" >indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);<span class="cstat-no" title="statement not covered" >i</span>f(indentation==Pass||indentation&gt;150){<span class="cstat-no" title="statement not covered" >if(!aggressive)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >h</span></span>ow="prev";}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(how=="prev"){<span class="cstat-no" title="statement not covered" >if(n&gt;doc.first)<span class="cstat-no" title="statement not covered" >indentation=countColumn(getLine(doc,n-1).text,null,tabSize);e</span>lse <span class="cstat-no" title="statement not covered" >indentation=0;}</span></span>else <span class="cstat-no" title="statement not covered" >if(how=="add"){<span class="cstat-no" title="statement not covered" >indentation=curSpace+cm.options.indentUnit;}</span>else <span class="cstat-no" title="statement not covered" >if(how=="subtract"){<span class="cstat-no" title="statement not covered" >indentation=curSpace-cm.options.indentUnit;}</span>else <span class="cstat-no" title="statement not covered" >if(typeof how=="number"){<span class="cstat-no" title="statement not covered" >indentation=curSpace+how;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >indentation=Math.max(0,indentation);<span class="cstat-no" title="statement not covered" >v</span>ar indentString="",pos=0;<span class="cstat-no" title="statement not covered" >i</span>f(cm.options.indentWithTabs)</span>
<span class="cstat-no" title="statement not covered" >for(var i=Math.floor(indentation/tabSize);i;--i){<span class="cstat-no" title="statement not covered" >pos+=tabSize;<span class="cstat-no" title="statement not covered" >i</span>ndentString+="\t";}</span></span>
<span class="cstat-no" title="statement not covered" >if(pos&lt;indentation)<span class="cstat-no" title="statement not covered" >indentString+=spaceStr(indentation-pos);<span class="cstat-no" title="statement not covered" >i</span></span>f(indentString!=curSpaceString){<span class="cstat-no" title="statement not covered" >replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input");}</span>else{<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;doc.sel.ranges.length;i++){<span class="cstat-no" title="statement not covered" >var range=doc.sel.ranges[i];<span class="cstat-no" title="statement not covered" >i</span>f(range.head.line==n&amp;&amp;range.head.ch&lt;curSpaceString.length){<span class="cstat-no" title="statement not covered" >var pos=Pos(n,curSpaceString.length);<span class="cstat-no" title="statement not covered" >r</span>eplaceOneSelection(doc,i,new Range(pos,pos));<span class="cstat-no" title="statement not covered" >b</span>reak;}</span>}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >line.stateAfter=null;}</span>
<span class="fstat-no" title="function not covered" >function changeLine(doc,handle,changeType,op){<span class="cstat-no" title="statement not covered" ></span>var no=handle,line=handle;<span class="cstat-no" title="statement not covered" >i</span>f(typeof handle=="number")<span class="cstat-no" title="statement not covered" >line=getLine(doc,clipLine(doc,handle));e</span>lse <span class="cstat-no" title="statement not covered" >no=lineNo(handle);<span class="cstat-no" title="statement not covered" >i</span></span>f(no==null)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >i</span></span>f(op(line,no)&amp;&amp;doc.cm)<span class="cstat-no" title="statement not covered" >regLineChange(doc.cm,no,changeType);<span class="cstat-no" title="statement not covered" >r</span></span>eturn line;}</span>
<span class="fstat-no" title="function not covered" >function deleteNearSelection(cm,compute){<span class="cstat-no" title="statement not covered" ></span>var ranges=cm.doc.sel.ranges,kill=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var toKill=compute(ranges[i]);<span class="cstat-no" title="statement not covered" >w</span>hile(kill.length&amp;&amp;cmp(toKill.from,lst(kill).to)&lt;=0){<span class="cstat-no" title="statement not covered" >var replaced=kill.pop();<span class="cstat-no" title="statement not covered" >i</span>f(cmp(replaced.from,toKill.from)&lt;0){<span class="cstat-no" title="statement not covered" >toKill.from=replaced.from;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >kill.push(toKill);}</span>
<span class="cstat-no" title="statement not covered" >runInOp(cm,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>for(var i=kill.length-1;i&gt;=0;i--)</span></span>
<span class="cstat-no" title="statement not covered" >replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");<span class="cstat-no" title="statement not covered" >e</span>nsureCursorVisible(cm);}</span>);}
<span class="fstat-no" title="function not covered" >function findPosH(doc,pos,dir,unit,visually){<span class="cstat-no" title="statement not covered" ></span>var line=pos.line,ch=pos.ch,origDir=dir;<span class="cstat-no" title="statement not covered" >v</span>ar lineObj=getLine(doc,line);<span class="cstat-no" title="statement not covered" >v</span>ar possible=true;<span class="fstat-no" title="function not covered" >f</span>unction findNextLine(){<span class="cstat-no" title="statement not covered" ></span>var l=line+dir;<span class="cstat-no" title="statement not covered" >i</span>f(l&lt;doc.first||l&gt;=doc.first+doc.size)<span class="cstat-no" title="statement not covered" >return(possible=false);<span class="cstat-no" title="statement not covered" >l</span></span>ine=l;<span class="cstat-no" title="statement not covered" >r</span>eturn lineObj=getLine(doc,l);}</span>
<span class="fstat-no" title="function not covered" >function moveOnce(boundToLine){<span class="cstat-no" title="statement not covered" ></span>var next=(visually?moveVisually:moveLogically)(lineObj,ch,dir,true);<span class="cstat-no" title="statement not covered" >i</span>f(next==null){<span class="cstat-no" title="statement not covered" >if(!boundToLine&amp;&amp;findNextLine()){<span class="cstat-no" title="statement not covered" >if(visually)<span class="cstat-no" title="statement not covered" >ch=(dir&lt;0?lineRight:lineLeft)(lineObj);e</span>lse <span class="cstat-no" title="statement not covered" >ch=dir&lt;0?lineObj.text.length:0;}</span></span>else <span class="cstat-no" title="statement not covered" >return(possible=false);}</span></span>else <span class="cstat-no" title="statement not covered" >ch=next;<span class="cstat-no" title="statement not covered" >r</span></span>eturn true;}</span>
<span class="cstat-no" title="statement not covered" >if(unit=="char")<span class="cstat-no" title="statement not covered" >moveOnce();e</span>lse <span class="cstat-no" title="statement not covered" >if(unit=="column")<span class="cstat-no" title="statement not covered" >moveOnce(true);e</span>lse <span class="cstat-no" title="statement not covered" >if(unit=="word"||unit=="group"){<span class="cstat-no" title="statement not covered" >var sawType=null,group=unit=="group";<span class="cstat-no" title="statement not covered" >v</span>ar helper=doc.cm&amp;&amp;doc.cm.getHelper(pos,"wordChars");<span class="cstat-no" title="statement not covered" >f</span>or(var first=true;;first=false){<span class="cstat-no" title="statement not covered" >if(dir&lt;0&amp;&amp;!moveOnce(!first))<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >v</span></span>ar cur=lineObj.text.charAt(ch)||"\n";<span class="cstat-no" title="statement not covered" >v</span>ar type=isWordChar(cur,helper)?"w":group&amp;&amp;cur=="\n"?"n":!group||/\s/.test(cur)?null:"p";<span class="cstat-no" title="statement not covered" >i</span>f(group&amp;&amp;!first&amp;&amp;!type)<span class="cstat-no" title="statement not covered" >type="s";<span class="cstat-no" title="statement not covered" >i</span></span>f(sawType&amp;&amp;sawType!=type){<span class="cstat-no" title="statement not covered" >if(dir&lt;0){<span class="cstat-no" title="statement not covered" >dir=1;<span class="cstat-no" title="statement not covered" >m</span>oveOnce();}</span></span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >break;}</span>
<span class="cstat-no" title="statement not covered" >if(type)<span class="cstat-no" title="statement not covered" >sawType=type;<span class="cstat-no" title="statement not covered" >i</span></span>f(dir&gt;0&amp;&amp;!moveOnce(!first))<span class="cstat-no" title="statement not covered" >break;}</span></span>}
<span class="cstat-no" title="statement not covered" >var result=skipAtomic(doc,Pos(line,ch),origDir,true);<span class="cstat-no" title="statement not covered" >i</span>f(!possible)<span class="cstat-no" title="statement not covered" >result.hitSide=true;<span class="cstat-no" title="statement not covered" >r</span></span>eturn result;}</span>
<span class="fstat-no" title="function not covered" >function findPosV(cm,pos,dir,unit){<span class="cstat-no" title="statement not covered" ></span>var doc=cm.doc,x=pos.left,y;<span class="cstat-no" title="statement not covered" >i</span>f(unit=="page"){<span class="cstat-no" title="statement not covered" >var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);<span class="cstat-no" title="statement not covered" >y</span>=pos.top+dir*(pageSize-(dir&lt;0?1.5:.5)*textHeight(cm.display));}</span>else <span class="cstat-no" title="statement not covered" >if(unit=="line"){<span class="cstat-no" title="statement not covered" >y=dir&gt;0?pos.bottom+3:pos.top-3;}</span></span></span>
<span class="cstat-no" title="statement not covered" >for(;;){<span class="cstat-no" title="statement not covered" >var target=coordsChar(cm,x,y);<span class="cstat-no" title="statement not covered" >i</span>f(!target.outside)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >i</span></span>f(dir&lt;0?y&lt;=0:y&gt;=doc.height){<span class="cstat-no" title="statement not covered" >target.hitSide=true;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span></span></span>
<span class="cstat-no" title="statement not covered" >y+=dir*5;}</span>
<span class="cstat-no" title="statement not covered" >return target;}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.prototype={constructor:CodeMirror,focus:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>window.focus();<span class="cstat-no" title="statement not covered" >f</span>ocusInput(this);<span class="cstat-no" title="statement not covered" >f</span>astPoll(this);}</span>,setOption:<span class="fstat-no" title="function not covered" >function(option,value){<span class="cstat-no" title="statement not covered" ></span>var options=this.options,old=options[option];<span class="cstat-no" title="statement not covered" >i</span>f(options[option]==value&amp;&amp;option!="mode")<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >o</span></span>ptions[option]=value;<span class="cstat-no" title="statement not covered" >i</span>f(optionHandlers.hasOwnProperty(option))</span></span>
<span class="cstat-no" title="statement not covered" >operation(this,optionHandlers[option])(this,value,old);}</span>,getOption:<span class="fstat-no" title="function not covered" >function(option){<span class="cstat-no" title="statement not covered" ></span>return this.options[option];}</span>,getDoc:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.doc;}</span>,addKeyMap:<span class="fstat-no" title="function not covered" >function(map,bottom){<span class="cstat-no" title="statement not covered" ></span>this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map));}</span>,removeKeyMap:<span class="fstat-no" title="function not covered" >function(map){<span class="cstat-no" title="statement not covered" ></span>var maps=this.state.keyMaps;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;maps.length;++i)</span>
<span class="cstat-no" title="statement not covered" >if(maps[i]==map||maps[i].name==map){<span class="cstat-no" title="statement not covered" >maps.splice(i,1);<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span>}</span>,addOverlay:methodOp(<span class="fstat-no" title="function not covered" >function(spec,options){<span class="cstat-no" title="statement not covered" ></span>var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);<span class="cstat-no" title="statement not covered" >i</span>f(mode.startState)<span class="cstat-no" title="statement not covered" >throw new Error("Overlays may not be stateful.");<span class="cstat-no" title="statement not covered" >t</span></span>his.state.overlays.push({mode:mode,modeSpec:spec,opaque:options&amp;&amp;options.opaque});<span class="cstat-no" title="statement not covered" >t</span>his.state.modeGen++;<span class="cstat-no" title="statement not covered" >r</span>egChange(this);}</span>),removeOverlay:methodOp(<span class="fstat-no" title="function not covered" >function(spec){<span class="cstat-no" title="statement not covered" ></span>var overlays=this.state.overlays;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;overlays.length;++i){<span class="cstat-no" title="statement not covered" >var cur=overlays[i].modeSpec;<span class="cstat-no" title="statement not covered" >i</span>f(cur==spec||typeof spec=="string"&amp;&amp;cur.name==spec){<span class="cstat-no" title="statement not covered" >overlays.splice(i,1);<span class="cstat-no" title="statement not covered" >t</span>his.state.modeGen++;<span class="cstat-no" title="statement not covered" >r</span>egChange(this);<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span>}</span>}</span>),indentLine:methodOp(<span class="fstat-no" title="function not covered" >function(n,dir,aggressive){<span class="cstat-no" title="statement not covered" ></span>if(typeof dir!="string"&amp;&amp;typeof dir!="number"){<span class="cstat-no" title="statement not covered" >if(dir==null)<span class="cstat-no" title="statement not covered" >dir=this.options.smartIndent?"smart":"prev";e</span>lse <span class="cstat-no" title="statement not covered" >dir=dir?"add":"subtract";}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(isLine(this.doc,n))<span class="cstat-no" title="statement not covered" >indentLine(this,n,dir,aggressive);}</span></span>),indentSelection:methodOp(<span class="fstat-no" title="function not covered" >function(how){<span class="cstat-no" title="statement not covered" ></span>var ranges=this.doc.sel.ranges,end=-1;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var range=ranges[i];<span class="cstat-no" title="statement not covered" >i</span>f(!range.empty()){<span class="cstat-no" title="statement not covered" >var from=range.from(),to=range.to();<span class="cstat-no" title="statement not covered" >v</span>ar start=Math.max(end,from.line);<span class="cstat-no" title="statement not covered" >e</span>nd=Math.min(this.lastLine(),to.line-(to.ch?0:1))+1;<span class="cstat-no" title="statement not covered" >f</span>or(var j=start;j&lt;end;++j)</span></span></span>
<span class="cstat-no" title="statement not covered" >indentLine(this,j,how);<span class="cstat-no" title="statement not covered" >v</span>ar newRanges=this.doc.sel.ranges;<span class="cstat-no" title="statement not covered" >i</span>f(from.ch==0&amp;&amp;ranges.length==newRanges.length&amp;&amp;newRanges[i].from().ch&gt;0)</span>
<span class="cstat-no" title="statement not covered" >replaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll);}</span>else <span class="cstat-no" title="statement not covered" >if(range.head.line&gt;end){<span class="cstat-no" title="statement not covered" >indentLine(this,range.head.line,how,true);<span class="cstat-no" title="statement not covered" >e</span>nd=range.head.line;<span class="cstat-no" title="statement not covered" >i</span>f(i==this.doc.sel.primIndex)<span class="cstat-no" title="statement not covered" >ensureCursorVisible(this);}</span></span>}</span>}),getTokenAt:<span class="fstat-no" title="function not covered" >function(pos,precise){<span class="cstat-no" title="statement not covered" ></span>return takeToken(this,pos,precise);}</span>,getLineTokens:<span class="fstat-no" title="function not covered" >function(line,precise){<span class="cstat-no" title="statement not covered" ></span>return takeToken(this,Pos(line),precise,true);}</span>,getTokenTypeAt:<span class="fstat-no" title="function not covered" >function(pos){<span class="cstat-no" title="statement not covered" ></span>pos=clipPos(this.doc,pos);<span class="cstat-no" title="statement not covered" >v</span>ar styles=getLineStyles(this,getLine(this.doc,pos.line));<span class="cstat-no" title="statement not covered" >v</span>ar before=0,after=(styles.length-1)/2,ch=pos.ch;<span class="cstat-no" title="statement not covered" >v</span>ar type;<span class="cstat-no" title="statement not covered" >i</span>f(ch==0)<span class="cstat-no" title="statement not covered" >type=styles[2];e</span>lse <span class="cstat-no" title="statement not covered" >for(;;){<span class="cstat-no" title="statement not covered" >var mid=(before+after)&gt;&gt;1;<span class="cstat-no" title="statement not covered" >i</span>f((mid?styles[mid*2-1]:0)&gt;=ch)<span class="cstat-no" title="statement not covered" >after=mid;e</span>lse <span class="cstat-no" title="statement not covered" >if(styles[mid*2+1]&lt;ch)<span class="cstat-no" title="statement not covered" >before=mid+1;e</span>lse{<span class="cstat-no" title="statement not covered" >type=styles[mid*2+2];<span class="cstat-no" title="statement not covered" >b</span>reak;}</span>}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >var cut=type?type.indexOf("cm-overlay "):-1;<span class="cstat-no" title="statement not covered" >r</span>eturn cut&lt;0?type:cut==0?null:type.slice(0,cut-1);}</span>,getModeAt:<span class="fstat-no" title="function not covered" >function(pos){<span class="cstat-no" title="statement not covered" ></span>var mode=this.doc.mode;<span class="cstat-no" title="statement not covered" >i</span>f(!mode.innerMode)<span class="cstat-no" title="statement not covered" >return mode;<span class="cstat-no" title="statement not covered" >r</span></span>eturn CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode;}</span>,getHelper:<span class="fstat-no" title="function not covered" >function(pos,type){<span class="cstat-no" title="statement not covered" ></span>return this.getHelpers(pos,type)[0];}</span>,getHelpers:<span class="fstat-no" title="function not covered" >function(pos,type){<span class="cstat-no" title="statement not covered" ></span>var found=[];<span class="cstat-no" title="statement not covered" >i</span>f(!helpers.hasOwnProperty(type))<span class="cstat-no" title="statement not covered" >return helpers;<span class="cstat-no" title="statement not covered" >v</span></span>ar help=helpers[type],mode=this.getModeAt(pos);<span class="cstat-no" title="statement not covered" >i</span>f(typeof mode[type]=="string"){<span class="cstat-no" title="statement not covered" >if(help[mode[type]])<span class="cstat-no" title="statement not covered" >found.push(help[mode[type]]);}</span></span>else <span class="cstat-no" title="statement not covered" >if(mode[type]){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;mode[type].length;i++){<span class="cstat-no" title="statement not covered" >var val=help[mode[type][i]];<span class="cstat-no" title="statement not covered" >i</span>f(val)<span class="cstat-no" title="statement not covered" >found.push(val);}</span></span>}</span>else <span class="cstat-no" title="statement not covered" >if(mode.helperType&amp;&amp;help[mode.helperType]){<span class="cstat-no" title="statement not covered" >found.push(help[mode.helperType]);}</span>else <span class="cstat-no" title="statement not covered" >if(help[mode.name]){<span class="cstat-no" title="statement not covered" >found.push(help[mode.name]);}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;help._global.length;i++){<span class="cstat-no" title="statement not covered" >var cur=help._global[i];<span class="cstat-no" title="statement not covered" >i</span>f(cur.pred(mode,this)&amp;&amp;indexOf(found,cur.val)==-1)</span></span>
<span class="cstat-no" title="statement not covered" >found.push(cur.val);}</span>
<span class="cstat-no" title="statement not covered" >return found;}</span>,getStateAfter:<span class="fstat-no" title="function not covered" >function(line,precise){<span class="cstat-no" title="statement not covered" ></span>var doc=this.doc;<span class="cstat-no" title="statement not covered" >l</span>ine=clipLine(doc,line==null?doc.first+doc.size-1:line);<span class="cstat-no" title="statement not covered" >r</span>eturn getStateBefore(this,line+1,precise);}</span>,cursorCoords:<span class="fstat-no" title="function not covered" >function(start,mode){<span class="cstat-no" title="statement not covered" ></span>var pos,range=this.doc.sel.primary();<span class="cstat-no" title="statement not covered" >i</span>f(start==null)<span class="cstat-no" title="statement not covered" >pos=range.head;e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof start=="object")<span class="cstat-no" title="statement not covered" >pos=clipPos(this.doc,start);e</span>lse <span class="cstat-no" title="statement not covered" >pos=start?range.from():range.to();<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn cursorCoords(this,pos,mode||"page");}</span>,charCoords:<span class="fstat-no" title="function not covered" >function(pos,mode){<span class="cstat-no" title="statement not covered" ></span>return charCoords(this,clipPos(this.doc,pos),mode||"page");}</span>,coordsChar:<span class="fstat-no" title="function not covered" >function(coords,mode){<span class="cstat-no" title="statement not covered" ></span>coords=fromCoordSystem(this,coords,mode||"page");<span class="cstat-no" title="statement not covered" >r</span>eturn coordsChar(this,coords.left,coords.top);}</span>,lineAtHeight:<span class="fstat-no" title="function not covered" >function(height,mode){<span class="cstat-no" title="statement not covered" ></span>height=fromCoordSystem(this,{top:height,left:0},mode||"page").top;<span class="cstat-no" title="statement not covered" >r</span>eturn lineAtHeight(this.doc,height+this.display.viewOffset);}</span>,heightAtLine:<span class="fstat-no" title="function not covered" >function(line,mode){<span class="cstat-no" title="statement not covered" ></span>var end=false,last=this.doc.first+this.doc.size-1;<span class="cstat-no" title="statement not covered" >i</span>f(line&lt;this.doc.first)<span class="cstat-no" title="statement not covered" >line=this.doc.first;e</span>lse <span class="cstat-no" title="statement not covered" >if(line&gt;last){<span class="cstat-no" title="statement not covered" >line=last;<span class="cstat-no" title="statement not covered" >e</span>nd=true;}</span></span></span>
<span class="cstat-no" title="statement not covered" >var lineObj=getLine(this.doc,line);<span class="cstat-no" title="statement not covered" >r</span>eturn intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page").top+</span>
(end?this.doc.height-heightAtLine(lineObj):0);},defaultTextHeight:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return textHeight(this.display);}</span>,defaultCharWidth:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return charWidth(this.display);}</span>,setGutterMarker:methodOp(<span class="fstat-no" title="function not covered" >function(line,gutterID,value){<span class="cstat-no" title="statement not covered" ></span>return changeLine(this.doc,line,"gutter",<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var markers=line.gutterMarkers||(line.gutterMarkers={});<span class="cstat-no" title="statement not covered" >m</span>arkers[gutterID]=value;<span class="cstat-no" title="statement not covered" >i</span>f(!value&amp;&amp;isEmpty(markers))<span class="cstat-no" title="statement not covered" >line.gutterMarkers=null;<span class="cstat-no" title="statement not covered" >r</span></span>eturn true;}</span>);}</span>),clearGutter:methodOp(<span class="fstat-no" title="function not covered" >function(gutterID){<span class="cstat-no" title="statement not covered" ></span>var cm=this,doc=cm.doc,i=doc.first;<span class="cstat-no" title="statement not covered" >d</span>oc.iter(<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(line.gutterMarkers&amp;&amp;line.gutterMarkers[gutterID]){<span class="cstat-no" title="statement not covered" >line.gutterMarkers[gutterID]=null;<span class="cstat-no" title="statement not covered" >r</span>egLineChange(cm,i,"gutter");<span class="cstat-no" title="statement not covered" >i</span>f(isEmpty(line.gutterMarkers))<span class="cstat-no" title="statement not covered" >line.gutterMarkers=null;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >++i;}</span>);}),addLineWidget:methodOp(<span class="fstat-no" title="function not covered" >function(handle,node,options){<span class="cstat-no" title="statement not covered" ></span>return addLineWidget(this,handle,node,options);}</span>),removeLineWidget:<span class="fstat-no" title="function not covered" >function(widget){<span class="cstat-no" title="statement not covered" ></span>widget.clear();}</span>,lineInfo:<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(typeof line=="number"){<span class="cstat-no" title="statement not covered" >if(!isLine(this.doc,line))<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar n=line;<span class="cstat-no" title="statement not covered" >l</span>ine=getLine(this.doc,line);<span class="cstat-no" title="statement not covered" >i</span>f(!line)<span class="cstat-no" title="statement not covered" >return null;}</span></span>else{<span class="cstat-no" title="statement not covered" >var n=lineNo(line);<span class="cstat-no" title="statement not covered" >i</span>f(n==null)<span class="cstat-no" title="statement not covered" >return null;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets};}</span>,getViewport:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{from:this.display.viewFrom,to:this.display.viewTo};}</span>,addWidget:<span class="fstat-no" title="function not covered" >function(pos,node,scroll,vert,horiz){<span class="cstat-no" title="statement not covered" ></span>var display=this.display;<span class="cstat-no" title="statement not covered" >p</span>os=cursorCoords(this,clipPos(this.doc,pos));<span class="cstat-no" title="statement not covered" >v</span>ar top=pos.bottom,left=pos.left;<span class="cstat-no" title="statement not covered" >n</span>ode.style.position="absolute";<span class="cstat-no" title="statement not covered" >n</span>ode.setAttribute("cm-ignore-events","true");<span class="cstat-no" title="statement not covered" >d</span>isplay.sizer.appendChild(node);<span class="cstat-no" title="statement not covered" >i</span>f(vert=="over"){<span class="cstat-no" title="statement not covered" >top=pos.top;}</span>else <span class="cstat-no" title="statement not covered" >if(vert=="above"||vert=="near"){<span class="cstat-no" title="statement not covered" >var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);<span class="cstat-no" title="statement not covered" >i</span>f((vert=='above'||pos.bottom+node.offsetHeight&gt;vspace)&amp;&amp;pos.top&gt;node.offsetHeight)</span></span></span>
<span class="cstat-no" title="statement not covered" >top=pos.top-node.offsetHeight;e</span>lse <span class="cstat-no" title="statement not covered" >if(pos.bottom+node.offsetHeight&lt;=vspace)</span>
<span class="cstat-no" title="statement not covered" >top=pos.bottom;<span class="cstat-no" title="statement not covered" >i</span>f(left+node.offsetWidth&gt;hspace)</span>
<span class="cstat-no" title="statement not covered" >left=hspace-node.offsetWidth;}</span>
<span class="cstat-no" title="statement not covered" >node.style.top=top+"px";<span class="cstat-no" title="statement not covered" >n</span>ode.style.left=node.style.right="";<span class="cstat-no" title="statement not covered" >i</span>f(horiz=="right"){<span class="cstat-no" title="statement not covered" >left=display.sizer.clientWidth-node.offsetWidth;<span class="cstat-no" title="statement not covered" >n</span>ode.style.right="0px";}</span>else{<span class="cstat-no" title="statement not covered" >if(horiz=="left")<span class="cstat-no" title="statement not covered" >left=0;e</span>lse <span class="cstat-no" title="statement not covered" >if(horiz=="middle")<span class="cstat-no" title="statement not covered" >left=(display.sizer.clientWidth-node.offsetWidth)/2;<span class="cstat-no" title="statement not covered" >n</span></span></span>ode.style.left=left+"px";}</span></span>
<span class="cstat-no" title="statement not covered" >if(scroll)</span>
<span class="cstat-no" title="statement not covered" >scrollIntoView(this,left,top,left+node.offsetWidth,top+node.offsetHeight);}</span>,triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:<span class="fstat-no" title="function not covered" >function(cmd){<span class="cstat-no" title="statement not covered" ></span>if(commands.hasOwnProperty(cmd))</span>
<span class="cstat-no" title="statement not covered" >return commands[cmd](this);}</span>,findPosH:<span class="fstat-no" title="function not covered" >function(from,amount,unit,visually){<span class="cstat-no" title="statement not covered" ></span>var dir=1;<span class="cstat-no" title="statement not covered" >i</span>f(amount&lt;0){<span class="cstat-no" title="statement not covered" >dir=-1;<span class="cstat-no" title="statement not covered" >a</span>mount=-amount;}</span></span>
<span class="cstat-no" title="statement not covered" >for(var i=0,cur=clipPos(this.doc,from);i&lt;amount;++i){<span class="cstat-no" title="statement not covered" >cur=findPosH(this.doc,cur,dir,unit,visually);<span class="cstat-no" title="statement not covered" >i</span>f(cur.hitSide)<span class="cstat-no" title="statement not covered" >break;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return cur;}</span>,moveH:methodOp(<span class="fstat-no" title="function not covered" >function(dir,unit){<span class="cstat-no" title="statement not covered" ></span>var cm=this;<span class="cstat-no" title="statement not covered" >c</span>m.extendSelectionsBy(<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>if(cm.display.shift||cm.doc.extend||range.empty())</span></span>
<span class="cstat-no" title="statement not covered" >return findPosH(cm.doc,range.head,dir,unit,cm.options.rtlMoveVisually);e</span>lse
<span class="cstat-no" title="statement not covered" >return dir&lt;0?range.from():range.to();}</span>,sel_move);}),deleteH:methodOp(<span class="fstat-no" title="function not covered" >function(dir,unit){<span class="cstat-no" title="statement not covered" ></span>var sel=this.doc.sel,doc=this.doc;<span class="cstat-no" title="statement not covered" >i</span>f(sel.somethingSelected())</span>
<span class="cstat-no" title="statement not covered" >doc.replaceSelection("",null,"+delete");e</span>lse
<span class="cstat-no" title="statement not covered" >deleteNearSelection(this,<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>var other=findPosH(doc,range.head,dir,unit,false);<span class="cstat-no" title="statement not covered" >r</span>eturn dir&lt;0?{from:other,to:range.head}:{from:range.head,to:other};}</span>);}</span>),findPosV:<span class="fstat-no" title="function not covered" >function(from,amount,unit,goalColumn){<span class="cstat-no" title="statement not covered" ></span>var dir=1,x=goalColumn;<span class="cstat-no" title="statement not covered" >i</span>f(amount&lt;0){<span class="cstat-no" title="statement not covered" >dir=-1;<span class="cstat-no" title="statement not covered" >a</span>mount=-amount;}</span></span>
<span class="cstat-no" title="statement not covered" >for(var i=0,cur=clipPos(this.doc,from);i&lt;amount;++i){<span class="cstat-no" title="statement not covered" >var coords=cursorCoords(this,cur,"div");<span class="cstat-no" title="statement not covered" >i</span>f(x==null)<span class="cstat-no" title="statement not covered" >x=coords.left;e</span>lse <span class="cstat-no" title="statement not covered" >coords.left=x;<span class="cstat-no" title="statement not covered" >c</span></span>ur=findPosV(this,coords,dir,unit);<span class="cstat-no" title="statement not covered" >i</span>f(cur.hitSide)<span class="cstat-no" title="statement not covered" >break;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return cur;}</span>,moveV:methodOp(<span class="fstat-no" title="function not covered" >function(dir,unit){<span class="cstat-no" title="statement not covered" ></span>var cm=this,doc=this.doc,goals=[];<span class="cstat-no" title="statement not covered" >v</span>ar collapse=!cm.display.shift&amp;&amp;!doc.extend&amp;&amp;doc.sel.somethingSelected();<span class="cstat-no" title="statement not covered" >d</span>oc.extendSelectionsBy(<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>if(collapse)</span></span>
<span class="cstat-no" title="statement not covered" >return dir&lt;0?range.from():range.to();<span class="cstat-no" title="statement not covered" >v</span>ar headPos=cursorCoords(cm,range.head,"div");<span class="cstat-no" title="statement not covered" >i</span>f(range.goalColumn!=null)<span class="cstat-no" title="statement not covered" >headPos.left=range.goalColumn;<span class="cstat-no" title="statement not covered" >g</span></span>oals.push(headPos.left);<span class="cstat-no" title="statement not covered" >v</span>ar pos=findPosV(cm,headPos,dir,unit);<span class="cstat-no" title="statement not covered" >i</span>f(unit=="page"&amp;&amp;range==doc.sel.primary())</span>
<span class="cstat-no" title="statement not covered" >addToScrollPos(cm,null,charCoords(cm,pos,"div").top-headPos.top);<span class="cstat-no" title="statement not covered" >r</span>eturn pos;}</span>,sel_move);<span class="cstat-no" title="statement not covered" >if(goals.length)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;doc.sel.ranges.length;i++)</span></span>
<span class="cstat-no" title="statement not covered" >doc.sel.ranges[i].goalColumn=goals[i];}</span>),findWordAt:<span class="fstat-no" title="function not covered" >function(pos){<span class="cstat-no" title="statement not covered" ></span>var doc=this.doc,line=getLine(doc,pos.line).text;<span class="cstat-no" title="statement not covered" >v</span>ar start=pos.ch,end=pos.ch;<span class="cstat-no" title="statement not covered" >i</span>f(line){<span class="cstat-no" title="statement not covered" >var helper=this.getHelper(pos,"wordChars");<span class="cstat-no" title="statement not covered" >i</span>f((pos.xRel&lt;0||end==line.length)&amp;&amp;start)<span class="cstat-no" title="statement not covered" >--start;e</span>lse<span class="cstat-no" title="statement not covered" >++end;<span class="cstat-no" title="statement not covered" >v</span></span>ar startChar=line.charAt(start);<span class="cstat-no" title="statement not covered" >v</span>ar check=isWordChar(startChar,helper)?<span class="fstat-no" title="function not covered" >function(ch){<span class="cstat-no" title="statement not covered" ></span>return isWordChar(ch,helper);}</span>:/\s/.test(startChar)?<span class="fstat-no" title="function not covered" >function(ch){<span class="cstat-no" title="statement not covered" ></span>return/\s/.test(ch);}</span>:<span class="fstat-no" title="function not covered" >function(ch){<span class="cstat-no" title="statement not covered" ></span>return!/\s/.test(ch)&amp;&amp;!isWordChar(ch);}</span>;<span class="cstat-no" title="statement not covered" >w</span>hile(start&gt;0&amp;&amp;check(line.charAt(start-1)))<span class="cstat-no" title="statement not covered" >--start;<span class="cstat-no" title="statement not covered" >w</span></span>hile(end&lt;line.length&amp;&amp;check(line.charAt(end)))<span class="cstat-no" title="statement not covered" >++end;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return new Range(Pos(pos.line,start),Pos(pos.line,end));}</span>,toggleOverwrite:<span class="fstat-no" title="function not covered" >function(value){<span class="cstat-no" title="statement not covered" ></span>if(value!=null&amp;&amp;value==this.state.overwrite)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(this.state.overwrite=!this.state.overwrite)</span>
<span class="cstat-no" title="statement not covered" >addClass(this.display.cursorDiv,"CodeMirror-overwrite");e</span>lse
<span class="cstat-no" title="statement not covered" >rmClass(this.display.cursorDiv,"CodeMirror-overwrite");<span class="cstat-no" title="statement not covered" >s</span>ignal(this,"overwriteToggle",this,this.state.overwrite);}</span>,hasFocus:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return activeElt()==this.display.input;}</span>,scrollTo:methodOp(<span class="fstat-no" title="function not covered" >function(x,y){<span class="cstat-no" title="statement not covered" ></span>if(x!=null||y!=null)<span class="cstat-no" title="statement not covered" >resolveScrollToPos(this);<span class="cstat-no" title="statement not covered" >i</span></span>f(x!=null)<span class="cstat-no" title="statement not covered" >this.curOp.scrollLeft=x;<span class="cstat-no" title="statement not covered" >i</span></span>f(y!=null)<span class="cstat-no" title="statement not covered" >this.curOp.scrollTop=y;}</span></span>),getScrollInfo:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var scroller=this.display.scroller;<span class="cstat-no" title="statement not covered" >r</span>eturn{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)};}</span>,scrollIntoView:methodOp(<span class="fstat-no" title="function not covered" >function(range,margin){<span class="cstat-no" title="statement not covered" ></span>if(range==null){<span class="cstat-no" title="statement not covered" >range={from:this.doc.sel.primary().head,to:null};<span class="cstat-no" title="statement not covered" >i</span>f(margin==null)<span class="cstat-no" title="statement not covered" >margin=this.options.cursorScrollMargin;}</span></span>else <span class="cstat-no" title="statement not covered" >if(typeof range=="number"){<span class="cstat-no" title="statement not covered" >range={from:Pos(range,0),to:null};}</span>else <span class="cstat-no" title="statement not covered" >if(range.from==null){<span class="cstat-no" title="statement not covered" >range={from:range,to:null};}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(!range.to)<span class="cstat-no" title="statement not covered" >range.to=range.from;<span class="cstat-no" title="statement not covered" >r</span></span>ange.margin=margin||0;<span class="cstat-no" title="statement not covered" >i</span>f(range.from.line!=null){<span class="cstat-no" title="statement not covered" >resolveScrollToPos(this);<span class="cstat-no" title="statement not covered" >t</span>his.curOp.scrollToPos=range;}</span>else{<span class="cstat-no" title="statement not covered" >var sPos=calculateScrollPos(this,Math.min(range.from.left,range.to.left),Math.min(range.from.top,range.to.top)-range.margin,Math.max(range.from.right,range.to.right),Math.max(range.from.bottom,range.to.bottom)+range.margin);<span class="cstat-no" title="statement not covered" >t</span>his.scrollTo(sPos.scrollLeft,sPos.scrollTop);}</span>}</span>),setSize:methodOp(<span class="fstat-no" title="function not covered" >function(width,height){<span class="cstat-no" title="statement not covered" ></span>var cm=this;<span class="fstat-no" title="function not covered" >f</span>unction interpret(val){<span class="cstat-no" title="statement not covered" ></span>return typeof val=="number"||/^\d+$/.test(String(val))?val+"px":val;}</span>
<span class="cstat-no" title="statement not covered" >if(width!=null)<span class="cstat-no" title="statement not covered" >cm.display.wrapper.style.width=interpret(width);<span class="cstat-no" title="statement not covered" >i</span></span>f(height!=null)<span class="cstat-no" title="statement not covered" >cm.display.wrapper.style.height=interpret(height);<span class="cstat-no" title="statement not covered" >i</span></span>f(cm.options.lineWrapping)<span class="cstat-no" title="statement not covered" >clearLineMeasurementCache(this);<span class="cstat-no" title="statement not covered" >v</span></span>ar lineNo=cm.display.viewFrom;<span class="cstat-no" title="statement not covered" >c</span>m.doc.iter(lineNo,cm.display.viewTo,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(line.widgets)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;line.widgets.length;i++)</span></span></span>
<span class="cstat-no" title="statement not covered" >if(line.widgets[i].noHScroll){<span class="cstat-no" title="statement not covered" >regLineChange(cm,lineNo,"widget");<span class="cstat-no" title="statement not covered" >b</span>reak;}</span></span>
<span class="cstat-no" title="statement not covered" >++lineNo;}</span>);<span class="cstat-no" title="statement not covered" >cm.curOp.forceUpdate=true;<span class="cstat-no" title="statement not covered" >s</span>ignal(cm,"refresh",this);}</span>),operation:<span class="fstat-no" title="function not covered" >function(f){<span class="cstat-no" title="statement not covered" ></span>return runInOp(this,f);}</span>,refresh:methodOp(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var oldHeight=this.display.cachedTextHeight;<span class="cstat-no" title="statement not covered" >r</span>egChange(this);<span class="cstat-no" title="statement not covered" >t</span>his.curOp.forceUpdate=true;<span class="cstat-no" title="statement not covered" >c</span>learCaches(this);<span class="cstat-no" title="statement not covered" >t</span>his.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);<span class="cstat-no" title="statement not covered" >u</span>pdateGutterSpace(this);<span class="cstat-no" title="statement not covered" >i</span>f(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))&gt;.5)</span>
<span class="cstat-no" title="statement not covered" >estimateLineHeights(this);<span class="cstat-no" title="statement not covered" >s</span>ignal(this,"refresh",this);}</span>),swapDoc:methodOp(<span class="fstat-no" title="function not covered" >function(doc){<span class="cstat-no" title="statement not covered" ></span>var old=this.doc;<span class="cstat-no" title="statement not covered" >o</span>ld.cm=null;<span class="cstat-no" title="statement not covered" >a</span>ttachDoc(this,doc);<span class="cstat-no" title="statement not covered" >c</span>learCaches(this);<span class="cstat-no" title="statement not covered" >r</span>esetInput(this);<span class="cstat-no" title="statement not covered" >t</span>his.scrollTo(doc.scrollLeft,doc.scrollTop);<span class="cstat-no" title="statement not covered" >t</span>his.curOp.forceScroll=true;<span class="cstat-no" title="statement not covered" >s</span>ignalLater(this,"swapDoc",this,old);<span class="cstat-no" title="statement not covered" >r</span>eturn old;}</span>),getInputField:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.display.input;}</span>,getWrapperElement:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.display.wrapper;}</span>,getScrollerElement:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.display.scroller;}</span>,getGutterElement:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.display.gutters;}</span>};<span class="cstat-no" title="statement not covered" >eventMixin(CodeMirror);<span class="cstat-no" title="statement not covered" >v</span>ar defaults=CodeMirror.defaults={};<span class="cstat-no" title="statement not covered" >v</span>ar optionHandlers=CodeMirror.optionHandlers={};<span class="fstat-no" title="function not covered" >f</span>unction option(name,deflt,handle,notOnInit){<span class="cstat-no" title="statement not covered" ></span>CodeMirror.defaults[name]=deflt;<span class="cstat-no" title="statement not covered" >i</span>f(handle)<span class="cstat-no" title="statement not covered" >optionHandlers[name]=notOnInit?<span class="fstat-no" title="function not covered" >function(cm,val,old){<span class="cstat-no" title="statement not covered" ></span>if(old!=Init)<span class="cstat-no" title="statement not covered" >handle(cm,val,old);}</span></span>:handle;}</span></span>
<span class="cstat-no" title="statement not covered" >var Init=CodeMirror.Init={toString:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return"CodeMirror.Init";}</span>};<span class="cstat-no" title="statement not covered" >o</span>ption("value","",<span class="fstat-no" title="function not covered" >function(cm,val){<span class="cstat-no" title="statement not covered" ></span>cm.setValue(val);}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("mode",null,<span class="fstat-no" title="function not covered" >function(cm,val){<span class="cstat-no" title="statement not covered" ></span>cm.doc.modeOption=val;<span class="cstat-no" title="statement not covered" >l</span>oadMode(cm);}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("indentUnit",2,loadMode,true);<span class="cstat-no" title="statement not covered" >o</span>ption("indentWithTabs",false);<span class="cstat-no" title="statement not covered" >o</span>ption("smartIndent",true);<span class="cstat-no" title="statement not covered" >o</span>ption("tabSize",4,<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>resetModeState(cm);<span class="cstat-no" title="statement not covered" >c</span>learCaches(cm);<span class="cstat-no" title="statement not covered" >r</span>egChange(cm);}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,<span class="fstat-no" title="function not covered" >function(cm,val){<span class="cstat-no" title="statement not covered" ></span>cm.options.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g");<span class="cstat-no" title="statement not covered" >c</span>m.refresh();}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("specialCharPlaceholder",defaultSpecialCharPlaceholder,<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.refresh();}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("electricChars",true);<span class="cstat-no" title="statement not covered" >o</span>ption("rtlMoveVisually",!windows);<span class="cstat-no" title="statement not covered" >o</span>ption("wholeLineUpdateBefore",true);<span class="cstat-no" title="statement not covered" >o</span>ption("theme","default",<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>themeChanged(cm);<span class="cstat-no" title="statement not covered" >g</span>uttersChanged(cm);}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("keyMap","default",<span class="fstat-no" title="function not covered" >function(cm,val,old){<span class="cstat-no" title="statement not covered" ></span>var next=getKeyMap(val);<span class="cstat-no" title="statement not covered" >v</span>ar prev=old!=CodeMirror.Init&amp;&amp;getKeyMap(old);<span class="cstat-no" title="statement not covered" >i</span>f(prev&amp;&amp;prev.detach)<span class="cstat-no" title="statement not covered" >prev.detach(cm,next);<span class="cstat-no" title="statement not covered" >i</span></span>f(next.attach)<span class="cstat-no" title="statement not covered" >next.attach(cm,prev||null);}</span></span>);<span class="cstat-no" title="statement not covered" >o</span>ption("extraKeys",null);<span class="cstat-no" title="statement not covered" >o</span>ption("lineWrapping",false,wrappingChanged,true);<span class="cstat-no" title="statement not covered" >o</span>ption("gutters",[],<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>setGuttersForLineNumbers(cm.options);<span class="cstat-no" title="statement not covered" >g</span>uttersChanged(cm);}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("fixedGutter",true,<span class="fstat-no" title="function not covered" >function(cm,val){<span class="cstat-no" title="statement not covered" ></span>cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0";<span class="cstat-no" title="statement not covered" >c</span>m.refresh();}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("coverGutterNextToScrollbar",false,<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>updateScrollbars(cm);}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("scrollbarStyle","native",<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>initScrollbars(cm);<span class="cstat-no" title="statement not covered" >u</span>pdateScrollbars(cm);<span class="cstat-no" title="statement not covered" >c</span>m.display.scrollbars.setScrollTop(cm.doc.scrollTop);<span class="cstat-no" title="statement not covered" >c</span>m.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("lineNumbers",false,<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>setGuttersForLineNumbers(cm.options);<span class="cstat-no" title="statement not covered" >g</span>uttersChanged(cm);}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("firstLineNumber",1,guttersChanged,true);<span class="cstat-no" title="statement not covered" >o</span>ption("lineNumberFormatter",<span class="fstat-no" title="function not covered" >function(integer){<span class="cstat-no" title="statement not covered" ></span>return integer;}</span>,guttersChanged,true);<span class="cstat-no" title="statement not covered" >o</span>ption("showCursorWhenSelecting",false,updateSelection,true);<span class="cstat-no" title="statement not covered" >o</span>ption("resetSelectionOnContextMenu",true);<span class="cstat-no" title="statement not covered" >o</span>ption("readOnly",false,<span class="fstat-no" title="function not covered" >function(cm,val){<span class="cstat-no" title="statement not covered" ></span>if(val=="nocursor"){<span class="cstat-no" title="statement not covered" >onBlur(cm);<span class="cstat-no" title="statement not covered" >c</span>m.display.input.blur();<span class="cstat-no" title="statement not covered" >c</span>m.display.disabled=true;}</span>else{<span class="cstat-no" title="statement not covered" >cm.display.disabled=false;<span class="cstat-no" title="statement not covered" >i</span>f(!val)<span class="cstat-no" title="statement not covered" >resetInput(cm);}</span></span>}</span>);<span class="cstat-no" title="statement not covered" >o</span>ption("disableInput",false,<span class="fstat-no" title="function not covered" >function(cm,val){<span class="cstat-no" title="statement not covered" ></span>if(!val)<span class="cstat-no" title="statement not covered" >resetInput(cm);}</span></span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("dragDrop",true);<span class="cstat-no" title="statement not covered" >o</span>ption("cursorBlinkRate",530);<span class="cstat-no" title="statement not covered" >o</span>ption("cursorScrollMargin",0);<span class="cstat-no" title="statement not covered" >o</span>ption("cursorHeight",1,updateSelection,true);<span class="cstat-no" title="statement not covered" >o</span>ption("singleCursorHeightPerLine",true,updateSelection,true);<span class="cstat-no" title="statement not covered" >o</span>ption("workTime",100);<span class="cstat-no" title="statement not covered" >o</span>ption("workDelay",100);<span class="cstat-no" title="statement not covered" >o</span>ption("flattenSpans",true,resetModeState,true);<span class="cstat-no" title="statement not covered" >o</span>ption("addModeClass",false,resetModeState,true);<span class="cstat-no" title="statement not covered" >o</span>ption("pollInterval",100);<span class="cstat-no" title="statement not covered" >o</span>ption("undoDepth",200,<span class="fstat-no" title="function not covered" >function(cm,val){<span class="cstat-no" title="statement not covered" ></span>cm.doc.history.undoDepth=val;}</span>);<span class="cstat-no" title="statement not covered" >o</span>ption("historyEventDelay",1250);<span class="cstat-no" title="statement not covered" >o</span>ption("viewportMargin",10,<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.refresh();}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ption("maxHighlightLength",10000,resetModeState,true);<span class="cstat-no" title="statement not covered" >o</span>ption("moveInputWithCursor",true,<span class="fstat-no" title="function not covered" >function(cm,val){<span class="cstat-no" title="statement not covered" ></span>if(!val)<span class="cstat-no" title="statement not covered" >cm.display.inputDiv.style.top=cm.display.inputDiv.style.left=0;}</span></span>);<span class="cstat-no" title="statement not covered" >o</span>ption("tabindex",null,<span class="fstat-no" title="function not covered" >function(cm,val){<span class="cstat-no" title="statement not covered" ></span>cm.display.input.tabIndex=val||"";}</span>);<span class="cstat-no" title="statement not covered" >o</span>ption("autofocus",null);<span class="cstat-no" title="statement not covered" >v</span>ar modes=CodeMirror.modes={},mimeModes=CodeMirror.mimeModes={};<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMode=<span class="fstat-no" title="function not covered" >function(name,mode){<span class="cstat-no" title="statement not covered" ></span>if(!CodeMirror.defaults.mode&amp;&amp;name!="null")<span class="cstat-no" title="statement not covered" >CodeMirror.defaults.mode=name;<span class="cstat-no" title="statement not covered" >i</span></span>f(arguments.length&gt;2)</span></span>
<span class="cstat-no" title="statement not covered" >mode.dependencies=Array.prototype.slice.call(arguments,2);<span class="cstat-no" title="statement not covered" >m</span>odes[name]=mode;}</span>;<span class="cstat-no" title="statement not covered" >CodeMirror.defineMIME=<span class="fstat-no" title="function not covered" >function(mime,spec){<span class="cstat-no" title="statement not covered" ></span>mimeModes[mime]=spec;}</span>;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.resolveMode=<span class="fstat-no" title="function not covered" >function(spec){<span class="cstat-no" title="statement not covered" ></span>if(typeof spec=="string"&amp;&amp;mimeModes.hasOwnProperty(spec)){<span class="cstat-no" title="statement not covered" >spec=mimeModes[spec];}</span>else <span class="cstat-no" title="statement not covered" >if(spec&amp;&amp;typeof spec.name=="string"&amp;&amp;mimeModes.hasOwnProperty(spec.name)){<span class="cstat-no" title="statement not covered" >var found=mimeModes[spec.name];<span class="cstat-no" title="statement not covered" >i</span>f(typeof found=="string")<span class="cstat-no" title="statement not covered" >found={name:found};<span class="cstat-no" title="statement not covered" >s</span></span>pec=createObj(found,spec);<span class="cstat-no" title="statement not covered" >s</span>pec.name=found.name;}</span>else <span class="cstat-no" title="statement not covered" >if(typeof spec=="string"&amp;&amp;/^[\w\-]+\/[\w\-]+\+xml$/.test(spec)){<span class="cstat-no" title="statement not covered" >return CodeMirror.resolveMode("application/xml");}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(typeof spec=="string")<span class="cstat-no" title="statement not covered" >return{name:spec};e</span>lse <span class="cstat-no" title="statement not covered" >return spec||{name:"null"};}</span></span>;<span class="cstat-no" title="statement not covered" >CodeMirror.getMode=<span class="fstat-no" title="function not covered" >function(options,spec){<span class="cstat-no" title="statement not covered" ></span>var spec=CodeMirror.resolveMode(spec);<span class="cstat-no" title="statement not covered" >v</span>ar mfactory=modes[spec.name];<span class="cstat-no" title="statement not covered" >i</span>f(!mfactory)<span class="cstat-no" title="statement not covered" >return CodeMirror.getMode(options,"text/plain");<span class="cstat-no" title="statement not covered" >v</span></span>ar modeObj=mfactory(options,spec);<span class="cstat-no" title="statement not covered" >i</span>f(modeExtensions.hasOwnProperty(spec.name)){<span class="cstat-no" title="statement not covered" >var exts=modeExtensions[spec.name];<span class="cstat-no" title="statement not covered" >f</span>or(var prop in exts){<span class="cstat-no" title="statement not covered" >if(!exts.hasOwnProperty(prop))<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(modeObj.hasOwnProperty(prop))<span class="cstat-no" title="statement not covered" >modeObj["_"+prop]=modeObj[prop];<span class="cstat-no" title="statement not covered" >m</span></span>odeObj[prop]=exts[prop];}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >modeObj.name=spec.name;<span class="cstat-no" title="statement not covered" >i</span>f(spec.helperType)<span class="cstat-no" title="statement not covered" >modeObj.helperType=spec.helperType;<span class="cstat-no" title="statement not covered" >i</span></span>f(spec.modeProps)<span class="cstat-no" title="statement not covered" >for(var prop in spec.modeProps)</span></span>
<span class="cstat-no" title="statement not covered" >modeObj[prop]=spec.modeProps[prop];<span class="cstat-no" title="statement not covered" >r</span>eturn modeObj;}</span>;<span class="cstat-no" title="statement not covered" >CodeMirror.defineMode("null",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{token:<span class="fstat-no" title="function not covered" >function(stream){<span class="cstat-no" title="statement not covered" ></span>stream.skipToEnd();}</span>};}</span>);<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("text/plain","null");<span class="cstat-no" title="statement not covered" >v</span>ar modeExtensions=CodeMirror.modeExtensions={};<span class="cstat-no" title="statement not covered" >C</span>odeMirror.extendMode=<span class="fstat-no" title="function not covered" >function(mode,properties){<span class="cstat-no" title="statement not covered" ></span>var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:(modeExtensions[mode]={});<span class="cstat-no" title="statement not covered" >c</span>opyObj(properties,exts);}</span>;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineExtension=<span class="fstat-no" title="function not covered" >function(name,func){<span class="cstat-no" title="statement not covered" ></span>CodeMirror.prototype[name]=func;}</span>;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineDocExtension=<span class="fstat-no" title="function not covered" >function(name,func){<span class="cstat-no" title="statement not covered" ></span>Doc.prototype[name]=func;}</span>;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineOption=option;<span class="cstat-no" title="statement not covered" >v</span>ar initHooks=[];<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineInitHook=<span class="fstat-no" title="function not covered" >function(f){<span class="cstat-no" title="statement not covered" ></span>initHooks.push(f);}</span>;<span class="cstat-no" title="statement not covered" >v</span>ar helpers=CodeMirror.helpers={};<span class="cstat-no" title="statement not covered" >C</span>odeMirror.registerHelper=<span class="fstat-no" title="function not covered" >function(type,name,value){<span class="cstat-no" title="statement not covered" ></span>if(!helpers.hasOwnProperty(type))<span class="cstat-no" title="statement not covered" >helpers[type]=CodeMirror[type]={_global:[]};<span class="cstat-no" title="statement not covered" >h</span></span>elpers[type][name]=value;}</span>;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.registerGlobalHelper=<span class="fstat-no" title="function not covered" >function(type,name,predicate,value){<span class="cstat-no" title="statement not covered" ></span>CodeMirror.registerHelper(type,name,value);<span class="cstat-no" title="statement not covered" >h</span>elpers[type]._global.push({pred:predicate,val:value});}</span>;<span class="cstat-no" title="statement not covered" >v</span>ar copyState=CodeMirror.copyState=<span class="fstat-no" title="function not covered" >function(mode,state){<span class="cstat-no" title="statement not covered" ></span>if(state===true)<span class="cstat-no" title="statement not covered" >return state;<span class="cstat-no" title="statement not covered" >i</span></span>f(mode.copyState)<span class="cstat-no" title="statement not covered" >return mode.copyState(state);<span class="cstat-no" title="statement not covered" >v</span></span>ar nstate={};<span class="cstat-no" title="statement not covered" >f</span>or(var n in state){<span class="cstat-no" title="statement not covered" >var val=state[n];<span class="cstat-no" title="statement not covered" >i</span>f(val instanceof Array)<span class="cstat-no" title="statement not covered" >val=val.concat([]);<span class="cstat-no" title="statement not covered" >n</span></span>state[n]=val;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return nstate;}</span>;<span class="cstat-no" title="statement not covered" >var startState=CodeMirror.startState=<span class="fstat-no" title="function not covered" >function(mode,a1,a2){<span class="cstat-no" title="statement not covered" ></span>return mode.startState?mode.startState(a1,a2):true;}</span>;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.innerMode=<span class="fstat-no" title="function not covered" >function(mode,state){<span class="cstat-no" title="statement not covered" ></span>while(mode.innerMode){<span class="cstat-no" title="statement not covered" >var info=mode.innerMode(state);<span class="cstat-no" title="statement not covered" >i</span>f(!info||info.mode==mode)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >s</span></span>tate=info.state;<span class="cstat-no" title="statement not covered" >m</span>ode=info.mode;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return info||{mode:mode,state:state};}</span>;<span class="cstat-no" title="statement not covered" >var commands=CodeMirror.commands={selectAll:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll);}</span>,singleSelection:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll);}</span>,killLine:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>deleteNearSelection(cm,<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>if(range.empty()){<span class="cstat-no" title="statement not covered" >var len=getLine(cm.doc,range.head.line).text.length;<span class="cstat-no" title="statement not covered" >i</span>f(range.head.ch==len&amp;&amp;range.head.line&lt;cm.lastLine())</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return{from:range.head,to:Pos(range.head.line+1,0)};e</span>lse
<span class="cstat-no" title="statement not covered" >return{from:range.head,to:Pos(range.head.line,len)};}</span>else{<span class="cstat-no" title="statement not covered" >return{from:range.from(),to:range.to()};}</span>});},deleteLine:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>deleteNearSelection(cm,<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>return{from:Pos(range.from().line,0),to:clipPos(cm.doc,Pos(range.to().line+1,0))};}</span>);}</span>,delLineLeft:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>deleteNearSelection(cm,<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>return{from:Pos(range.from().line,0),to:range.from()};}</span>);}</span>,delWrappedLineLeft:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>deleteNearSelection(cm,<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>var top=cm.charCoords(range.head,"div").top+5;<span class="cstat-no" title="statement not covered" >v</span>ar leftPos=cm.coordsChar({left:0,top:top},"div");<span class="cstat-no" title="statement not covered" >r</span>eturn{from:leftPos,to:range.from()};}</span>);}</span>,delWrappedLineRight:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>deleteNearSelection(cm,<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>var top=cm.charCoords(range.head,"div").top+5;<span class="cstat-no" title="statement not covered" >v</span>ar rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");<span class="cstat-no" title="statement not covered" >r</span>eturn{from:range.from(),to:rightPos};}</span>);}</span>,undo:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.undo();}</span>,redo:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.redo();}</span>,undoSelection:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.undoSelection();}</span>,redoSelection:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.redoSelection();}</span>,goDocStart:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.extendSelection(Pos(cm.firstLine(),0));}</span>,goDocEnd:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.extendSelection(Pos(cm.lastLine()));}</span>,goLineStart:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.extendSelectionsBy(<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>return lineStart(cm,range.head.line);}</span>,{origin:"+move",bias:1});}</span>,goLineStartSmart:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.extendSelectionsBy(<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>return lineStartSmart(cm,range.head);}</span>,{origin:"+move",bias:1});}</span>,goLineEnd:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.extendSelectionsBy(<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>return lineEnd(cm,range.head.line);}</span>,{origin:"+move",bias:-1});}</span>,goLineRight:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.extendSelectionsBy(<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>var top=cm.charCoords(range.head,"div").top+5;<span class="cstat-no" title="statement not covered" >r</span>eturn cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");}</span>,sel_move);}</span>,goLineLeft:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.extendSelectionsBy(<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>var top=cm.charCoords(range.head,"div").top+5;<span class="cstat-no" title="statement not covered" >r</span>eturn cm.coordsChar({left:0,top:top},"div");}</span>,sel_move);}</span>,goLineLeftSmart:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.extendSelectionsBy(<span class="fstat-no" title="function not covered" >function(range){<span class="cstat-no" title="statement not covered" ></span>var top=cm.charCoords(range.head,"div").top+5;<span class="cstat-no" title="statement not covered" >v</span>ar pos=cm.coordsChar({left:0,top:top},"div");<span class="cstat-no" title="statement not covered" >i</span>f(pos.ch&lt;cm.getLine(pos.line).search(/\S/))<span class="cstat-no" title="statement not covered" >return lineStartSmart(cm,range.head);<span class="cstat-no" title="statement not covered" >r</span></span>eturn pos;}</span>,sel_move);}</span>,goLineUp:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveV(-1,"line");}</span>,goLineDown:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveV(1,"line");}</span>,goPageUp:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveV(-1,"page");}</span>,goPageDown:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveV(1,"page");}</span>,goCharLeft:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveH(-1,"char");}</span>,goCharRight:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveH(1,"char");}</span>,goColumnLeft:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveH(-1,"column");}</span>,goColumnRight:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveH(1,"column");}</span>,goWordLeft:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveH(-1,"word");}</span>,goGroupRight:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveH(1,"group");}</span>,goGroupLeft:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveH(-1,"group");}</span>,goWordRight:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.moveH(1,"word");}</span>,delCharBefore:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.deleteH(-1,"char");}</span>,delCharAfter:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.deleteH(1,"char");}</span>,delWordBefore:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.deleteH(-1,"word");}</span>,delWordAfter:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.deleteH(1,"word");}</span>,delGroupBefore:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.deleteH(-1,"group");}</span>,delGroupAfter:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.deleteH(1,"group");}</span>,indentAuto:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.indentSelection("smart");}</span>,indentMore:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.indentSelection("add");}</span>,indentLess:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.indentSelection("subtract");}</span>,insertTab:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.replaceSelection("\t");}</span>,insertSoftTab:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var pos=ranges[i].from();<span class="cstat-no" title="statement not covered" >v</span>ar col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);<span class="cstat-no" title="statement not covered" >s</span>paces.push(new Array(tabSize-col%tabSize+1).join(" "));}</span></span>
<span class="cstat-no" title="statement not covered" >cm.replaceSelections(spaces);}</span>,defaultTab:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.somethingSelected())<span class="cstat-no" title="statement not covered" >cm.indentSelection("add");e</span>lse <span class="cstat-no" title="statement not covered" >cm.execCommand("insertTab");}</span></span>,transposeChars:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>runInOp(cm,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var ranges=cm.listSelections(),newSel=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;<span class="cstat-no" title="statement not covered" >i</span>f(line){<span class="cstat-no" title="statement not covered" >if(cur.ch==line.length)<span class="cstat-no" title="statement not covered" >cur=new Pos(cur.line,cur.ch-1);<span class="cstat-no" title="statement not covered" >i</span></span>f(cur.ch&gt;0){<span class="cstat-no" title="statement not covered" >cur=new Pos(cur.line,cur.ch+1);<span class="cstat-no" title="statement not covered" >c</span>m.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose");}</span>else <span class="cstat-no" title="statement not covered" >if(cur.line&gt;cm.doc.first){<span class="cstat-no" title="statement not covered" >var prev=getLine(cm.doc,cur.line-1).text;<span class="cstat-no" title="statement not covered" >i</span>f(prev)</span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >cm.replaceRange(line.charAt(0)+"\n"+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),Pos(cur.line,1),"+transpose");}</span>}
<span class="cstat-no" title="statement not covered" >newSel.push(new Range(cur,cur));}</span>
<span class="cstat-no" title="statement not covered" >cm.setSelections(newSel);}</span>);},newlineAndIndent:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>runInOp(cm,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var len=cm.listSelections().length;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;len;i++){<span class="cstat-no" title="statement not covered" >var range=cm.listSelections()[i];<span class="cstat-no" title="statement not covered" >c</span>m.replaceRange("\n",range.anchor,range.head,"+input");<span class="cstat-no" title="statement not covered" >c</span>m.indentLine(range.from().line+1,null,true);<span class="cstat-no" title="statement not covered" >e</span>nsureCursorVisible(cm);}</span>}</span>);}</span>,toggleOverwrite:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.toggleOverwrite();}</span>};<span class="cstat-no" title="statement not covered" >var keyMap=CodeMirror.keyMap={};<span class="cstat-no" title="statement not covered" >k</span>eyMap.basic={"Left":"goCharLeft","Right":"goCharRight","Up":"goLineUp","Down":"goLineDown","End":"goLineEnd","Home":"goLineStartSmart","PageUp":"goPageUp","PageDown":"goPageDown","Delete":"delCharAfter","Backspace":"delCharBefore","Shift-Backspace":"delCharBefore","Tab":"defaultTab","Shift-Tab":"indentAuto","Enter":"newlineAndIndent","Insert":"toggleOverwrite","Esc":"singleSelection"};<span class="cstat-no" title="statement not covered" >k</span>eyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};<span class="cstat-no" title="statement not covered" >k</span>eyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};<span class="cstat-no" title="statement not covered" >k</span>eyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};<span class="cstat-no" title="statement not covered" >k</span>eyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;<span class="fstat-no" title="function not covered" >f</span>unction normalizeKeyName(name){<span class="cstat-no" title="statement not covered" ></span>var parts=name.split(/-(?!$)/),name=parts[parts.length-1];<span class="cstat-no" title="statement not covered" >v</span>ar alt,ctrl,shift,cmd;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;parts.length-1;i++){<span class="cstat-no" title="statement not covered" >var mod=parts[i];<span class="cstat-no" title="statement not covered" >i</span>f(/^(cmd|meta|m)$/i.test(mod))<span class="cstat-no" title="statement not covered" >cmd=true;e</span>lse <span class="cstat-no" title="statement not covered" >if(/^a(lt)?$/i.test(mod))<span class="cstat-no" title="statement not covered" >alt=true;e</span>lse <span class="cstat-no" title="statement not covered" >if(/^(c|ctrl|control)$/i.test(mod))<span class="cstat-no" title="statement not covered" >ctrl=true;e</span>lse <span class="cstat-no" title="statement not covered" >if(/^s(hift)$/i.test(mod))<span class="cstat-no" title="statement not covered" >shift=true;e</span>lse <span class="cstat-no" title="statement not covered" >throw new Error("Unrecognized modifier name: "+mod);}</span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(alt)<span class="cstat-no" title="statement not covered" >name="Alt-"+name;<span class="cstat-no" title="statement not covered" >i</span></span>f(ctrl)<span class="cstat-no" title="statement not covered" >name="Ctrl-"+name;<span class="cstat-no" title="statement not covered" >i</span></span>f(cmd)<span class="cstat-no" title="statement not covered" >name="Cmd-"+name;<span class="cstat-no" title="statement not covered" >i</span></span>f(shift)<span class="cstat-no" title="statement not covered" >name="Shift-"+name;<span class="cstat-no" title="statement not covered" >r</span></span>eturn name;}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.normalizeKeyMap=<span class="fstat-no" title="function not covered" >function(keymap){<span class="cstat-no" title="statement not covered" ></span>var copy={};<span class="cstat-no" title="statement not covered" >f</span>or(var keyname in keymap)<span class="cstat-no" title="statement not covered" >if(keymap.hasOwnProperty(keyname)){<span class="cstat-no" title="statement not covered" >var value=keymap[keyname];<span class="cstat-no" title="statement not covered" >i</span>f(/^(name|fallthrough|(de|at)tach)$/.test(keyname))<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(value=="..."){<span class="cstat-no" title="statement not covered" >delete keymap[keyname];<span class="cstat-no" title="statement not covered" >c</span>ontinue;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >var keys=map(keyname.split(" "),normalizeKeyName);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;keys.length;i++){<span class="cstat-no" title="statement not covered" >var val,name;<span class="cstat-no" title="statement not covered" >i</span>f(i==keys.length-1){<span class="cstat-no" title="statement not covered" >name=keyname;<span class="cstat-no" title="statement not covered" >v</span>al=value;}</span>else{<span class="cstat-no" title="statement not covered" >name=keys.slice(0,i+1).join(" ");<span class="cstat-no" title="statement not covered" >v</span>al="...";}</span></span></span>
<span class="cstat-no" title="statement not covered" >var prev=copy[name];<span class="cstat-no" title="statement not covered" >i</span>f(!prev)<span class="cstat-no" title="statement not covered" >copy[name]=val;e</span>lse <span class="cstat-no" title="statement not covered" >if(prev!=val)<span class="cstat-no" title="statement not covered" >throw new Error("Inconsistent bindings for "+name);}</span></span></span>
<span class="cstat-no" title="statement not covered" >delete keymap[keyname];}</span>
<span class="cstat-no" title="statement not covered" >for(var prop in copy)<span class="cstat-no" title="statement not covered" >keymap[prop]=copy[prop];<span class="cstat-no" title="statement not covered" >r</span></span>eturn keymap;}</span>;<span class="cstat-no" title="statement not covered" >var lookupKey=CodeMirror.lookupKey=<span class="fstat-no" title="function not covered" >function(key,map,handle,context){<span class="cstat-no" title="statement not covered" ></span>map=getKeyMap(map);<span class="cstat-no" title="statement not covered" >v</span>ar found=map.call?map.call(key,context):map[key];<span class="cstat-no" title="statement not covered" >i</span>f(found===false)<span class="cstat-no" title="statement not covered" >return"nothing";<span class="cstat-no" title="statement not covered" >i</span></span>f(found==="...")<span class="cstat-no" title="statement not covered" >return"multi";<span class="cstat-no" title="statement not covered" >i</span></span>f(found!=null&amp;&amp;handle(found))<span class="cstat-no" title="statement not covered" >return"handled";<span class="cstat-no" title="statement not covered" >i</span></span>f(map.fallthrough){<span class="cstat-no" title="statement not covered" >if(Object.prototype.toString.call(map.fallthrough)!="[object Array]")</span></span></span>
<span class="cstat-no" title="statement not covered" >return lookupKey(key,map.fallthrough,handle,context);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;map.fallthrough.length;i++){<span class="cstat-no" title="statement not covered" >var result=lookupKey(key,map.fallthrough[i],handle,context);<span class="cstat-no" title="statement not covered" >i</span>f(result)<span class="cstat-no" title="statement not covered" >return result;}</span></span>}</span>};<span class="cstat-no" title="statement not covered" >var isModifierKey=CodeMirror.isModifierKey=<span class="fstat-no" title="function not covered" >function(value){<span class="cstat-no" title="statement not covered" ></span>var name=typeof value=="string"?value:keyNames[value.keyCode];<span class="cstat-no" title="statement not covered" >r</span>eturn name=="Ctrl"||name=="Alt"||name=="Shift"||name=="Mod";}</span>;<span class="cstat-no" title="statement not covered" >v</span>ar keyName=CodeMirror.keyName=<span class="fstat-no" title="function not covered" >function(event,noShift){<span class="cstat-no" title="statement not covered" ></span>if(presto&amp;&amp;event.keyCode==34&amp;&amp;event["char"])<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span></span>ar base=keyNames[event.keyCode],name=base;<span class="cstat-no" title="statement not covered" >i</span>f(name==null||event.altGraphKey)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >i</span></span>f(event.altKey&amp;&amp;base!="Alt")<span class="cstat-no" title="statement not covered" >name="Alt-"+name;<span class="cstat-no" title="statement not covered" >i</span></span>f((flipCtrlCmd?event.metaKey:event.ctrlKey)&amp;&amp;base!="Ctrl")<span class="cstat-no" title="statement not covered" >name="Ctrl-"+name;<span class="cstat-no" title="statement not covered" >i</span></span>f((flipCtrlCmd?event.ctrlKey:event.metaKey)&amp;&amp;base!="Cmd")<span class="cstat-no" title="statement not covered" >name="Cmd-"+name;<span class="cstat-no" title="statement not covered" >i</span></span>f(!noShift&amp;&amp;event.shiftKey&amp;&amp;base!="Shift")<span class="cstat-no" title="statement not covered" >name="Shift-"+name;<span class="cstat-no" title="statement not covered" >r</span></span>eturn name;}</span>;<span class="fstat-no" title="function not covered" >f</span>unction getKeyMap(val){<span class="cstat-no" title="statement not covered" ></span>return typeof val=="string"?keyMap[val]:val;}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.fromTextArea=<span class="fstat-no" title="function not covered" >function(textarea,options){<span class="cstat-no" title="statement not covered" ></span>if(!options)<span class="cstat-no" title="statement not covered" >options={};<span class="cstat-no" title="statement not covered" >o</span></span>ptions.value=textarea.value;<span class="cstat-no" title="statement not covered" >i</span>f(!options.tabindex&amp;&amp;textarea.tabindex)</span></span>
<span class="cstat-no" title="statement not covered" >options.tabindex=textarea.tabindex;<span class="cstat-no" title="statement not covered" >i</span>f(!options.placeholder&amp;&amp;textarea.placeholder)</span>
<span class="cstat-no" title="statement not covered" >options.placeholder=textarea.placeholder;<span class="cstat-no" title="statement not covered" >i</span>f(options.autofocus==null){<span class="cstat-no" title="statement not covered" >var hasFocus=activeElt();<span class="cstat-no" title="statement not covered" >o</span>ptions.autofocus=hasFocus==textarea||textarea.getAttribute("autofocus")!=null&amp;&amp;hasFocus==document.body;}</span></span>
<span class="fstat-no" title="function not covered" >function save(){<span class="cstat-no" title="statement not covered" ></span>textarea.value=cm.getValue();}</span>
<span class="cstat-no" title="statement not covered" >if(textarea.form){<span class="cstat-no" title="statement not covered" >on(textarea.form,"submit",save);<span class="cstat-no" title="statement not covered" >i</span>f(!options.leaveSubmitMethodAlone){<span class="cstat-no" title="statement not covered" >var form=textarea.form,realSubmit=form.submit;<span class="cstat-no" title="statement not covered" >t</span>ry{<span class="cstat-no" title="statement not covered" >var wrappedSubmit=form.submit=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>save();<span class="cstat-no" title="statement not covered" >f</span>orm.submit=realSubmit;<span class="cstat-no" title="statement not covered" >f</span>orm.submit();<span class="cstat-no" title="statement not covered" >f</span>orm.submit=wrappedSubmit;}</span>;}</span>catch(e){}}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >textarea.style.display="none";<span class="cstat-no" title="statement not covered" >v</span>ar cm=CodeMirror(<span class="fstat-no" title="function not covered" >function(node){<span class="cstat-no" title="statement not covered" ></span>textarea.parentNode.insertBefore(node,textarea.nextSibling);}</span>,options);<span class="cstat-no" title="statement not covered" >c</span>m.save=save;<span class="cstat-no" title="statement not covered" >c</span>m.getTextArea=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return textarea;}</span>;<span class="cstat-no" title="statement not covered" >c</span>m.toTextArea=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>cm.toTextArea=isNaN;<span class="cstat-no" title="statement not covered" >s</span>ave();<span class="cstat-no" title="statement not covered" >t</span>extarea.parentNode.removeChild(cm.getWrapperElement());<span class="cstat-no" title="statement not covered" >t</span>extarea.style.display="";<span class="cstat-no" title="statement not covered" >i</span>f(textarea.form){<span class="cstat-no" title="statement not covered" >off(textarea.form,"submit",save);<span class="cstat-no" title="statement not covered" >i</span>f(typeof textarea.form.submit=="function")</span></span></span>
<span class="cstat-no" title="statement not covered" >textarea.form.submit=realSubmit;}</span>};<span class="cstat-no" title="statement not covered" >return cm;}</span>;<span class="cstat-no" title="statement not covered" >var StringStream=CodeMirror.StringStream=<span class="fstat-no" title="function not covered" >function(string,tabSize){<span class="cstat-no" title="statement not covered" ></span>this.pos=this.start=0;<span class="cstat-no" title="statement not covered" >t</span>his.string=string;<span class="cstat-no" title="statement not covered" >t</span>his.tabSize=tabSize||8;<span class="cstat-no" title="statement not covered" >t</span>his.lastColumnPos=this.lastColumnValue=0;<span class="cstat-no" title="statement not covered" >t</span>his.lineStart=0;}</span>;<span class="cstat-no" title="statement not covered" >S</span>tringStream.prototype={eol:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.pos&gt;=this.string.length;}</span>,sol:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.pos==this.lineStart;}</span>,peek:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.string.charAt(this.pos)||undefined;}</span>,next:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(this.pos&lt;this.string.length)</span></span>
<span class="cstat-no" title="statement not covered" >return this.string.charAt(this.pos++);}</span>,eat:<span class="fstat-no" title="function not covered" >function(match){<span class="cstat-no" title="statement not covered" ></span>var ch=this.string.charAt(this.pos);<span class="cstat-no" title="statement not covered" >i</span>f(typeof match=="string")<span class="cstat-no" title="statement not covered" >var ok=ch==match;e</span>lse <span class="cstat-no" title="statement not covered" >var ok=ch&amp;&amp;(match.test?match.test(ch):match(ch));<span class="cstat-no" title="statement not covered" >i</span></span>f(ok){<span class="cstat-no" title="statement not covered" >++this.pos;<span class="cstat-no" title="statement not covered" >r</span>eturn ch;}</span>}</span>,eatWhile:<span class="fstat-no" title="function not covered" >function(match){<span class="cstat-no" title="statement not covered" ></span>var start=this.pos;<span class="cstat-no" title="statement not covered" >w</span>hile(this.eat(match)){}</span>
<span class="cstat-no" title="statement not covered" >return this.pos&gt;start;}</span>,eatSpace:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var start=this.pos;<span class="cstat-no" title="statement not covered" >w</span>hile(/[\s\u00a0]/.test(this.string.charAt(this.pos)))<span class="cstat-no" title="statement not covered" >++this.pos;<span class="cstat-no" title="statement not covered" >r</span></span>eturn this.pos&gt;start;}</span>,skipToEnd:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>this.pos=this.string.length;}</span>,skipTo:<span class="fstat-no" title="function not covered" >function(ch){<span class="cstat-no" title="statement not covered" ></span>var found=this.string.indexOf(ch,this.pos);<span class="cstat-no" title="statement not covered" >i</span>f(found&gt;-1){<span class="cstat-no" title="statement not covered" >this.pos=found;<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span>}</span>,backUp:<span class="fstat-no" title="function not covered" >function(n){<span class="cstat-no" title="statement not covered" ></span>this.pos-=n;}</span>,column:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(this.lastColumnPos&lt;this.start){<span class="cstat-no" title="statement not covered" >this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);<span class="cstat-no" title="statement not covered" >t</span>his.lastColumnPos=this.start;}</span></span>
<span class="cstat-no" title="statement not covered" >return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0);}</span>,indentation:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return countColumn(this.string,null,this.tabSize)-</span>
(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0);},match:<span class="fstat-no" title="function not covered" >function(pattern,consume,caseInsensitive){<span class="cstat-no" title="statement not covered" ></span>if(typeof pattern=="string"){<span class="cstat-no" title="statement not covered" >var cased=<span class="fstat-no" title="function not covered" >function(str){<span class="cstat-no" title="statement not covered" ></span>return caseInsensitive?str.toLowerCase():str;}</span>;<span class="cstat-no" title="statement not covered" >v</span>ar substr=this.string.substr(this.pos,pattern.length);<span class="cstat-no" title="statement not covered" >i</span>f(cased(substr)==cased(pattern)){<span class="cstat-no" title="statement not covered" >if(consume!==false)<span class="cstat-no" title="statement not covered" >this.pos+=pattern.length;<span class="cstat-no" title="statement not covered" >r</span></span>eturn true;}</span>}</span>else{<span class="cstat-no" title="statement not covered" >var match=this.string.slice(this.pos).match(pattern);<span class="cstat-no" title="statement not covered" >i</span>f(match&amp;&amp;match.index&gt;0)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >i</span></span>f(match&amp;&amp;consume!==false)<span class="cstat-no" title="statement not covered" >this.pos+=match[0].length;<span class="cstat-no" title="statement not covered" >r</span></span>eturn match;}</span>}</span>,current:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.string.slice(this.start,this.pos);}</span>,hideFirstChars:<span class="fstat-no" title="function not covered" >function(n,inner){<span class="cstat-no" title="statement not covered" ></span>this.lineStart+=n;<span class="cstat-no" title="statement not covered" >t</span>ry{<span class="cstat-no" title="statement not covered" >return inner();}</span></span>
finally{<span class="cstat-no" title="statement not covered" >this.lineStart-=n;}</span>}};<span class="cstat-no" title="statement not covered" >var TextMarker=CodeMirror.TextMarker=<span class="fstat-no" title="function not covered" >function(doc,type){<span class="cstat-no" title="statement not covered" ></span>this.lines=[];<span class="cstat-no" title="statement not covered" >t</span>his.type=type;<span class="cstat-no" title="statement not covered" >t</span>his.doc=doc;}</span>;<span class="cstat-no" title="statement not covered" >e</span>ventMixin(TextMarker);<span class="cstat-no" title="statement not covered" >T</span>extMarker.prototype.clear=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(this.explicitlyCleared)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar cm=this.doc.cm,withOp=cm&amp;&amp;!cm.curOp;<span class="cstat-no" title="statement not covered" >i</span>f(withOp)<span class="cstat-no" title="statement not covered" >startOperation(cm);<span class="cstat-no" title="statement not covered" >i</span></span>f(hasHandler(this,"clear")){<span class="cstat-no" title="statement not covered" >var found=this.find();<span class="cstat-no" title="statement not covered" >i</span>f(found)<span class="cstat-no" title="statement not covered" >signalLater(this,"clear",found.from,found.to);}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >var min=null,max=null;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;this.lines.length;++i){<span class="cstat-no" title="statement not covered" >var line=this.lines[i];<span class="cstat-no" title="statement not covered" >v</span>ar span=getMarkedSpanFor(line.markedSpans,this);<span class="cstat-no" title="statement not covered" >i</span>f(cm&amp;&amp;!this.collapsed)<span class="cstat-no" title="statement not covered" >regLineChange(cm,lineNo(line),"text");e</span>lse <span class="cstat-no" title="statement not covered" >if(cm){<span class="cstat-no" title="statement not covered" >if(span.to!=null)<span class="cstat-no" title="statement not covered" >max=lineNo(line);<span class="cstat-no" title="statement not covered" >i</span></span>f(span.from!=null)<span class="cstat-no" title="statement not covered" >min=lineNo(line);}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >line.markedSpans=removeMarkedSpan(line.markedSpans,span);<span class="cstat-no" title="statement not covered" >i</span>f(span.from==null&amp;&amp;this.collapsed&amp;&amp;!lineIsHidden(this.doc,line)&amp;&amp;cm)</span>
<span class="cstat-no" title="statement not covered" >updateLineHeight(line,textHeight(cm.display));}</span>
<span class="cstat-no" title="statement not covered" >if(cm&amp;&amp;this.collapsed&amp;&amp;!cm.options.lineWrapping)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;this.lines.length;++i){<span class="cstat-no" title="statement not covered" >var visual=visualLine(this.lines[i]),len=lineLength(visual);<span class="cstat-no" title="statement not covered" >i</span>f(len&gt;cm.display.maxLineLength){<span class="cstat-no" title="statement not covered" >cm.display.maxLine=visual;<span class="cstat-no" title="statement not covered" >c</span>m.display.maxLineLength=len;<span class="cstat-no" title="statement not covered" >c</span>m.display.maxLineChanged=true;}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(min!=null&amp;&amp;cm&amp;&amp;this.collapsed)<span class="cstat-no" title="statement not covered" >regChange(cm,min,max+1);<span class="cstat-no" title="statement not covered" >t</span></span>his.lines.length=0;<span class="cstat-no" title="statement not covered" >t</span>his.explicitlyCleared=true;<span class="cstat-no" title="statement not covered" >i</span>f(this.atomic&amp;&amp;this.doc.cantEdit){<span class="cstat-no" title="statement not covered" >this.doc.cantEdit=false;<span class="cstat-no" title="statement not covered" >i</span>f(cm)<span class="cstat-no" title="statement not covered" >reCheckSelection(cm.doc);}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(cm)<span class="cstat-no" title="statement not covered" >signalLater(cm,"markerCleared",cm,this);<span class="cstat-no" title="statement not covered" >i</span></span>f(withOp)<span class="cstat-no" title="statement not covered" >endOperation(cm);<span class="cstat-no" title="statement not covered" >i</span></span>f(this.parent)<span class="cstat-no" title="statement not covered" >this.parent.clear();}</span></span>;<span class="cstat-no" title="statement not covered" >TextMarker.prototype.find=<span class="fstat-no" title="function not covered" >function(side,lineObj){<span class="cstat-no" title="statement not covered" ></span>if(side==null&amp;&amp;this.type=="bookmark")<span class="cstat-no" title="statement not covered" >side=1;<span class="cstat-no" title="statement not covered" >v</span></span>ar from,to;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;this.lines.length;++i){<span class="cstat-no" title="statement not covered" >var line=this.lines[i];<span class="cstat-no" title="statement not covered" >v</span>ar span=getMarkedSpanFor(line.markedSpans,this);<span class="cstat-no" title="statement not covered" >i</span>f(span.from!=null){<span class="cstat-no" title="statement not covered" >from=Pos(lineObj?line:lineNo(line),span.from);<span class="cstat-no" title="statement not covered" >i</span>f(side==-1)<span class="cstat-no" title="statement not covered" >return from;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(span.to!=null){<span class="cstat-no" title="statement not covered" >to=Pos(lineObj?line:lineNo(line),span.to);<span class="cstat-no" title="statement not covered" >i</span>f(side==1)<span class="cstat-no" title="statement not covered" >return to;}</span></span>}</span>
<span class="cstat-no" title="statement not covered" >return from&amp;&amp;{from:from,to:to};}</span>;<span class="cstat-no" title="statement not covered" >TextMarker.prototype.changed=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var pos=this.find(-1,true),widget=this,cm=this.doc.cm;<span class="cstat-no" title="statement not covered" >i</span>f(!pos||!cm)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >r</span></span>unInOp(cm,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var line=pos.line,lineN=lineNo(pos.line);<span class="cstat-no" title="statement not covered" >v</span>ar view=findViewForLine(cm,lineN);<span class="cstat-no" title="statement not covered" >i</span>f(view){<span class="cstat-no" title="statement not covered" >clearLineMeasurementCacheFor(view);<span class="cstat-no" title="statement not covered" >c</span>m.curOp.selectionChanged=cm.curOp.forceUpdate=true;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >cm.curOp.updateMaxLine=true;<span class="cstat-no" title="statement not covered" >i</span>f(!lineIsHidden(widget.doc,line)&amp;&amp;widget.height!=null){<span class="cstat-no" title="statement not covered" >var oldHeight=widget.height;<span class="cstat-no" title="statement not covered" >w</span>idget.height=null;<span class="cstat-no" title="statement not covered" >v</span>ar dHeight=widgetHeight(widget)-oldHeight;<span class="cstat-no" title="statement not covered" >i</span>f(dHeight)</span></span>
<span class="cstat-no" title="statement not covered" >updateLineHeight(line,line.height+dHeight);}</span>});};<span class="cstat-no" title="statement not covered" >TextMarker.prototype.attachLine=<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(!this.lines.length&amp;&amp;this.doc.cm){<span class="cstat-no" title="statement not covered" >var op=this.doc.cm.curOp;<span class="cstat-no" title="statement not covered" >i</span>f(!op.maybeHiddenMarkers||indexOf(op.maybeHiddenMarkers,this)==-1)</span></span></span>
<span class="cstat-no" title="statement not covered" >(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this);}</span>
<span class="cstat-no" title="statement not covered" >this.lines.push(line);}</span>;<span class="cstat-no" title="statement not covered" >TextMarker.prototype.detachLine=<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>this.lines.splice(indexOf(this.lines,line),1);<span class="cstat-no" title="statement not covered" >i</span>f(!this.lines.length&amp;&amp;this.doc.cm){<span class="cstat-no" title="statement not covered" >var op=this.doc.cm.curOp;<span class="cstat-no" title="statement not covered" >(</span>op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this);}</span>}</span>;<span class="cstat-no" title="statement not covered" >v</span>ar nextMarkerId=0;<span class="fstat-no" title="function not covered" >f</span>unction markText(doc,from,to,options,type){<span class="cstat-no" title="statement not covered" ></span>if(options&amp;&amp;options.shared)<span class="cstat-no" title="statement not covered" >return markTextShared(doc,from,to,options,type);<span class="cstat-no" title="statement not covered" >i</span></span>f(doc.cm&amp;&amp;!doc.cm.curOp)<span class="cstat-no" title="statement not covered" >return operation(doc.cm,markText)(doc,from,to,options,type);<span class="cstat-no" title="statement not covered" >v</span></span>ar marker=new TextMarker(doc,type),diff=cmp(from,to);<span class="cstat-no" title="statement not covered" >i</span>f(options)<span class="cstat-no" title="statement not covered" >copyObj(options,marker,false);<span class="cstat-no" title="statement not covered" >i</span></span>f(diff&gt;0||diff==0&amp;&amp;marker.clearWhenEmpty!==false)</span>
<span class="cstat-no" title="statement not covered" >return marker;<span class="cstat-no" title="statement not covered" >i</span>f(marker.replacedWith){<span class="cstat-no" title="statement not covered" >marker.collapsed=true;<span class="cstat-no" title="statement not covered" >m</span>arker.widgetNode=elt("span",[marker.replacedWith],"CodeMirror-widget");<span class="cstat-no" title="statement not covered" >i</span>f(!options.handleMouseEvents)<span class="cstat-no" title="statement not covered" >marker.widgetNode.setAttribute("cm-ignore-events","true");<span class="cstat-no" title="statement not covered" >i</span></span>f(options.insertLeft)<span class="cstat-no" title="statement not covered" >marker.widgetNode.insertLeft=true;}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(marker.collapsed){<span class="cstat-no" title="statement not covered" >if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&amp;&amp;conflictingCollapsedRange(doc,to.line,from,to,marker))</span></span>
<span class="cstat-no" title="statement not covered" >throw new Error("Inserting collapsed marker partially overlapping an existing one");<span class="cstat-no" title="statement not covered" >s</span>awCollapsedSpans=true;}</span>
<span class="cstat-no" title="statement not covered" >if(marker.addToHistory)</span>
<span class="cstat-no" title="statement not covered" >addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);<span class="cstat-no" title="statement not covered" >v</span>ar curLine=from.line,cm=doc.cm,updateMaxLine;<span class="cstat-no" title="statement not covered" >d</span>oc.iter(curLine,to.line+1,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(cm&amp;&amp;marker.collapsed&amp;&amp;!cm.options.lineWrapping&amp;&amp;visualLine(line)==cm.display.maxLine)</span></span>
<span class="cstat-no" title="statement not covered" >updateMaxLine=true;<span class="cstat-no" title="statement not covered" >i</span>f(marker.collapsed&amp;&amp;curLine!=from.line)<span class="cstat-no" title="statement not covered" >updateLineHeight(line,0);<span class="cstat-no" title="statement not covered" >a</span></span>ddMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));<span class="cstat-no" title="statement not covered" >+</span>+curLine;}</span>);<span class="cstat-no" title="statement not covered" >if(marker.collapsed)<span class="cstat-no" title="statement not covered" >doc.iter(from.line,to.line+1,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(lineIsHidden(doc,line))<span class="cstat-no" title="statement not covered" >updateLineHeight(line,0);}</span></span>);<span class="cstat-no" title="statement not covered" >i</span></span>f(marker.clearOnEnter)<span class="cstat-no" title="statement not covered" >on(marker,"beforeCursorEnter",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>marker.clear();}</span>);<span class="cstat-no" title="statement not covered" >i</span></span>f(marker.readOnly){<span class="cstat-no" title="statement not covered" >sawReadOnlySpans=true;<span class="cstat-no" title="statement not covered" >i</span>f(doc.history.done.length||doc.history.undone.length)</span></span>
<span class="cstat-no" title="statement not covered" >doc.clearHistory();}</span>
<span class="cstat-no" title="statement not covered" >if(marker.collapsed){<span class="cstat-no" title="statement not covered" >marker.id=++nextMarkerId;<span class="cstat-no" title="statement not covered" >m</span>arker.atomic=true;}</span></span>
<span class="cstat-no" title="statement not covered" >if(cm){<span class="cstat-no" title="statement not covered" >if(updateMaxLine)<span class="cstat-no" title="statement not covered" >cm.curOp.updateMaxLine=true;<span class="cstat-no" title="statement not covered" >i</span></span>f(marker.collapsed)</span></span>
<span class="cstat-no" title="statement not covered" >regChange(cm,from.line,to.line+1);e</span>lse <span class="cstat-no" title="statement not covered" >if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css)</span>
<span class="cstat-no" title="statement not covered" >for(var i=from.line;i&lt;=to.line;i++)<span class="cstat-no" title="statement not covered" >regLineChange(cm,i,"text");<span class="cstat-no" title="statement not covered" >i</span></span>f(marker.atomic)<span class="cstat-no" title="statement not covered" >reCheckSelection(cm.doc);<span class="cstat-no" title="statement not covered" >s</span></span>ignalLater(cm,"markerAdded",cm,marker);}</span>
<span class="cstat-no" title="statement not covered" >return marker;}</span>
<span class="cstat-no" title="statement not covered" >var SharedTextMarker=CodeMirror.SharedTextMarker=<span class="fstat-no" title="function not covered" >function(markers,primary){<span class="cstat-no" title="statement not covered" ></span>this.markers=markers;<span class="cstat-no" title="statement not covered" >t</span>his.primary=primary;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;markers.length;++i)</span></span>
<span class="cstat-no" title="statement not covered" >markers[i].parent=this;}</span>;<span class="cstat-no" title="statement not covered" >eventMixin(SharedTextMarker);<span class="cstat-no" title="statement not covered" >S</span>haredTextMarker.prototype.clear=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(this.explicitlyCleared)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span></span>his.explicitlyCleared=true;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;this.markers.length;++i)</span></span>
<span class="cstat-no" title="statement not covered" >this.markers[i].clear();<span class="cstat-no" title="statement not covered" >s</span>ignalLater(this,"clear");}</span>;<span class="cstat-no" title="statement not covered" >SharedTextMarker.prototype.find=<span class="fstat-no" title="function not covered" >function(side,lineObj){<span class="cstat-no" title="statement not covered" ></span>return this.primary.find(side,lineObj);}</span>;<span class="fstat-no" title="function not covered" >f</span>unction markTextShared(doc,from,to,options,type){<span class="cstat-no" title="statement not covered" ></span>options=copyObj(options);<span class="cstat-no" title="statement not covered" >o</span>ptions.shared=false;<span class="cstat-no" title="statement not covered" >v</span>ar markers=[markText(doc,from,to,options,type)],primary=markers[0];<span class="cstat-no" title="statement not covered" >v</span>ar widget=options.widgetNode;<span class="cstat-no" title="statement not covered" >l</span>inkedDocs(doc,<span class="fstat-no" title="function not covered" >function(doc){<span class="cstat-no" title="statement not covered" ></span>if(widget)<span class="cstat-no" title="statement not covered" >options.widgetNode=widget.cloneNode(true);<span class="cstat-no" title="statement not covered" >m</span></span>arkers.push(markText(doc,clipPos(doc,from),clipPos(doc,to),options,type));<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;doc.linked.length;++i)</span></span>
<span class="cstat-no" title="statement not covered" >if(doc.linked[i].isParent)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >p</span></span>rimary=lst(markers);}</span>);<span class="cstat-no" title="statement not covered" >return new SharedTextMarker(markers,primary);}</span>
<span class="fstat-no" title="function not covered" >function findSharedMarkers(doc){<span class="cstat-no" title="statement not covered" ></span>return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),<span class="fstat-no" title="function not covered" >function(m){<span class="cstat-no" title="statement not covered" ></span>return m.parent;}</span>);}</span>
<span class="fstat-no" title="function not covered" >function copySharedMarkers(doc,markers){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;markers.length;i++){<span class="cstat-no" title="statement not covered" >var marker=markers[i],pos=marker.find();<span class="cstat-no" title="statement not covered" >v</span>ar mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);<span class="cstat-no" title="statement not covered" >i</span>f(cmp(mFrom,mTo)){<span class="cstat-no" title="statement not covered" >var subMark=markText(doc,mFrom,mTo,marker.primary,marker.primary.type);<span class="cstat-no" title="statement not covered" >m</span>arker.markers.push(subMark);<span class="cstat-no" title="statement not covered" >s</span>ubMark.parent=marker;}</span>}</span>}</span>
<span class="fstat-no" title="function not covered" >function detachSharedMarkers(markers){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;markers.length;i++){<span class="cstat-no" title="statement not covered" >var marker=markers[i],linked=[marker.primary.doc];;<span class="cstat-no" title="statement not covered" ></span>linkedDocs(marker.primary.doc,<span class="fstat-no" title="function not covered" >function(d){<span class="cstat-no" title="statement not covered" ></span>linked.push(d);}</span>);<span class="cstat-no" title="statement not covered" >f</span>or(var j=0;j&lt;marker.markers.length;j++){<span class="cstat-no" title="statement not covered" >var subMarker=marker.markers[j];<span class="cstat-no" title="statement not covered" >i</span>f(indexOf(linked,subMarker.doc)==-1){<span class="cstat-no" title="statement not covered" >subMarker.parent=null;<span class="cstat-no" title="statement not covered" >m</span>arker.markers.splice(j--,1);}</span>}</span>}</span>}</span>
<span class="fstat-no" title="function not covered" >function MarkedSpan(marker,from,to){<span class="cstat-no" title="statement not covered" ></span>this.marker=marker;<span class="cstat-no" title="statement not covered" >t</span>his.from=from;<span class="cstat-no" title="statement not covered" >t</span>his.to=to;}</span>
<span class="fstat-no" title="function not covered" >function getMarkedSpanFor(spans,marker){<span class="cstat-no" title="statement not covered" ></span>if(spans)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;spans.length;++i){<span class="cstat-no" title="statement not covered" >var span=spans[i];<span class="cstat-no" title="statement not covered" >i</span>f(span.marker==marker)<span class="cstat-no" title="statement not covered" >return span;}</span></span>}</span></span>
<span class="fstat-no" title="function not covered" >function removeMarkedSpan(spans,span){<span class="cstat-no" title="statement not covered" ></span>for(var r,i=0;i&lt;spans.length;++i)</span>
<span class="cstat-no" title="statement not covered" >if(spans[i]!=span)<span class="cstat-no" title="statement not covered" >(r||(r=[])).push(spans[i]);<span class="cstat-no" title="statement not covered" >r</span></span>eturn r;}</span>
<span class="fstat-no" title="function not covered" >function addMarkedSpan(line,span){<span class="cstat-no" title="statement not covered" ></span>line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];<span class="cstat-no" title="statement not covered" >s</span>pan.marker.attachLine(line);}</span>
<span class="fstat-no" title="function not covered" >function markedSpansBefore(old,startCh,isInsert){<span class="cstat-no" title="statement not covered" ></span>if(old)<span class="cstat-no" title="statement not covered" >for(var i=0,nw;i&lt;old.length;++i){<span class="cstat-no" title="statement not covered" >var span=old[i],marker=span.marker;<span class="cstat-no" title="statement not covered" >v</span>ar startsBefore=span.from==null||(marker.inclusiveLeft?span.from&lt;=startCh:span.from&lt;startCh);<span class="cstat-no" title="statement not covered" >i</span>f(startsBefore||span.from==startCh&amp;&amp;marker.type=="bookmark"&amp;&amp;(!isInsert||!span.marker.insertLeft)){<span class="cstat-no" title="statement not covered" >var endsAfter=span.to==null||(marker.inclusiveRight?span.to&gt;=startCh:span.to&gt;startCh);<span class="cstat-no" title="statement not covered" >(</span>nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to));}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >return nw;}</span>
<span class="fstat-no" title="function not covered" >function markedSpansAfter(old,endCh,isInsert){<span class="cstat-no" title="statement not covered" ></span>if(old)<span class="cstat-no" title="statement not covered" >for(var i=0,nw;i&lt;old.length;++i){<span class="cstat-no" title="statement not covered" >var span=old[i],marker=span.marker;<span class="cstat-no" title="statement not covered" >v</span>ar endsAfter=span.to==null||(marker.inclusiveRight?span.to&gt;=endCh:span.to&gt;endCh);<span class="cstat-no" title="statement not covered" >i</span>f(endsAfter||span.from==endCh&amp;&amp;marker.type=="bookmark"&amp;&amp;(!isInsert||span.marker.insertLeft)){<span class="cstat-no" title="statement not covered" >var startsBefore=span.from==null||(marker.inclusiveLeft?span.from&lt;=endCh:span.from&lt;endCh);<span class="cstat-no" title="statement not covered" >(</span>nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh));}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >return nw;}</span>
<span class="fstat-no" title="function not covered" >function stretchSpansOverChange(doc,change){<span class="cstat-no" title="statement not covered" ></span>if(change.full)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar oldFirst=isLine(doc,change.from.line)&amp;&amp;getLine(doc,change.from.line).markedSpans;<span class="cstat-no" title="statement not covered" >v</span>ar oldLast=isLine(doc,change.to.line)&amp;&amp;getLine(doc,change.to.line).markedSpans;<span class="cstat-no" title="statement not covered" >i</span>f(!oldFirst&amp;&amp;!oldLast)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar startCh=change.from.ch,endCh=change.to.ch,isInsert=cmp(change.from,change.to)==0;<span class="cstat-no" title="statement not covered" >v</span>ar first=markedSpansBefore(oldFirst,startCh,isInsert);<span class="cstat-no" title="statement not covered" >v</span>ar last=markedSpansAfter(oldLast,endCh,isInsert);<span class="cstat-no" title="statement not covered" >v</span>ar sameLine=change.text.length==1,offset=lst(change.text).length+(sameLine?startCh:0);<span class="cstat-no" title="statement not covered" >i</span>f(first){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;first.length;++i){<span class="cstat-no" title="statement not covered" >var span=first[i];<span class="cstat-no" title="statement not covered" >i</span>f(span.to==null){<span class="cstat-no" title="statement not covered" >var found=getMarkedSpanFor(last,span.marker);<span class="cstat-no" title="statement not covered" >i</span>f(!found)<span class="cstat-no" title="statement not covered" >span.to=startCh;e</span>lse <span class="cstat-no" title="statement not covered" >if(sameLine)<span class="cstat-no" title="statement not covered" >span.to=found.to==null?null:found.to+offset;}</span></span></span>}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >if(last){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;last.length;++i){<span class="cstat-no" title="statement not covered" >var span=last[i];<span class="cstat-no" title="statement not covered" >i</span>f(span.to!=null)<span class="cstat-no" title="statement not covered" >span.to+=offset;<span class="cstat-no" title="statement not covered" >i</span></span>f(span.from==null){<span class="cstat-no" title="statement not covered" >var found=getMarkedSpanFor(first,span.marker);<span class="cstat-no" title="statement not covered" >i</span>f(!found){<span class="cstat-no" title="statement not covered" >span.from=offset;<span class="cstat-no" title="statement not covered" >i</span>f(sameLine)<span class="cstat-no" title="statement not covered" >(first||(first=[])).push(span);}</span></span>}</span>else{<span class="cstat-no" title="statement not covered" >span.from+=offset;<span class="cstat-no" title="statement not covered" >i</span>f(sameLine)<span class="cstat-no" title="statement not covered" >(first||(first=[])).push(span);}</span></span>}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >if(first)<span class="cstat-no" title="statement not covered" >first=clearEmptySpans(first);<span class="cstat-no" title="statement not covered" >i</span></span>f(last&amp;&amp;last!=first)<span class="cstat-no" title="statement not covered" >last=clearEmptySpans(last);<span class="cstat-no" title="statement not covered" >v</span></span>ar newMarkers=[first];<span class="cstat-no" title="statement not covered" >i</span>f(!sameLine){<span class="cstat-no" title="statement not covered" >var gap=change.text.length-2,gapMarkers;<span class="cstat-no" title="statement not covered" >i</span>f(gap&gt;0&amp;&amp;first)</span></span>
<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;first.length;++i)</span>
<span class="cstat-no" title="statement not covered" >if(first[i].to==null)</span>
<span class="cstat-no" title="statement not covered" >(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i].marker,null,null));<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;gap;++i)</span>
<span class="cstat-no" title="statement not covered" >newMarkers.push(gapMarkers);<span class="cstat-no" title="statement not covered" >n</span>ewMarkers.push(last);}</span>
<span class="cstat-no" title="statement not covered" >return newMarkers;}</span>
<span class="fstat-no" title="function not covered" >function clearEmptySpans(spans){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;spans.length;++i){<span class="cstat-no" title="statement not covered" >var span=spans[i];<span class="cstat-no" title="statement not covered" >i</span>f(span.from!=null&amp;&amp;span.from==span.to&amp;&amp;span.marker.clearWhenEmpty!==false)</span></span>
<span class="cstat-no" title="statement not covered" >spans.splice(i--,1);}</span>
<span class="cstat-no" title="statement not covered" >if(!spans.length)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >r</span></span>eturn spans;}</span>
<span class="fstat-no" title="function not covered" >function mergeOldSpans(doc,change){<span class="cstat-no" title="statement not covered" ></span>var old=getOldSpans(doc,change);<span class="cstat-no" title="statement not covered" >v</span>ar stretched=stretchSpansOverChange(doc,change);<span class="cstat-no" title="statement not covered" >i</span>f(!old)<span class="cstat-no" title="statement not covered" >return stretched;<span class="cstat-no" title="statement not covered" >i</span></span>f(!stretched)<span class="cstat-no" title="statement not covered" >return old;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0;i&lt;old.length;++i){<span class="cstat-no" title="statement not covered" >var oldCur=old[i],stretchCur=stretched[i];<span class="cstat-no" title="statement not covered" >i</span>f(oldCur&amp;&amp;stretchCur){<span class="cstat-no" title="statement not covered" >spans:<span class="cstat-no" title="statement not covered" >for(var j=0;j&lt;stretchCur.length;++j){<span class="cstat-no" title="statement not covered" >var span=stretchCur[j];<span class="cstat-no" title="statement not covered" >f</span>or(var k=0;k&lt;oldCur.length;++k)</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(oldCur[k].marker==span.marker)<span class="cstat-no" title="statement not covered" >continue spans;<span class="cstat-no" title="statement not covered" >o</span></span>ldCur.push(span);}</span>}else <span class="cstat-no" title="statement not covered" >if(stretchCur){<span class="cstat-no" title="statement not covered" >old[i]=stretchCur;}</span>}</span>
<span class="cstat-no" title="statement not covered" >return old;}</span>
<span class="fstat-no" title="function not covered" >function removeReadOnlyRanges(doc,from,to){<span class="cstat-no" title="statement not covered" ></span>var markers=null;<span class="cstat-no" title="statement not covered" >d</span>oc.iter(from.line,to.line+1,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(line.markedSpans)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;line.markedSpans.length;++i){<span class="cstat-no" title="statement not covered" >var mark=line.markedSpans[i].marker;<span class="cstat-no" title="statement not covered" >i</span>f(mark.readOnly&amp;&amp;(!markers||indexOf(markers,mark)==-1))</span></span></span></span>
<span class="cstat-no" title="statement not covered" >(markers||(markers=[])).push(mark);}</span>});<span class="cstat-no" title="statement not covered" >if(!markers)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar parts=[{from:from,to:to}];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;markers.length;++i){<span class="cstat-no" title="statement not covered" >var mk=markers[i],m=mk.find(0);<span class="cstat-no" title="statement not covered" >f</span>or(var j=0;j&lt;parts.length;++j){<span class="cstat-no" title="statement not covered" >var p=parts[j];<span class="cstat-no" title="statement not covered" >i</span>f(cmp(p.to,m.from)&lt;0||cmp(p.from,m.to)&gt;0)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >v</span></span>ar newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);<span class="cstat-no" title="statement not covered" >i</span>f(dfrom&lt;0||!mk.inclusiveLeft&amp;&amp;!dfrom)</span></span></span>
<span class="cstat-no" title="statement not covered" >newParts.push({from:p.from,to:m.from});<span class="cstat-no" title="statement not covered" >i</span>f(dto&gt;0||!mk.inclusiveRight&amp;&amp;!dto)</span>
<span class="cstat-no" title="statement not covered" >newParts.push({from:m.to,to:p.to});<span class="cstat-no" title="statement not covered" >p</span>arts.splice.apply(parts,newParts);<span class="cstat-no" title="statement not covered" >j</span>+=newParts.length-1;}</span>}
<span class="cstat-no" title="statement not covered" >return parts;}</span>
<span class="fstat-no" title="function not covered" >function detachMarkedSpans(line){<span class="cstat-no" title="statement not covered" ></span>var spans=line.markedSpans;<span class="cstat-no" title="statement not covered" >i</span>f(!spans)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0;i&lt;spans.length;++i)</span>
<span class="cstat-no" title="statement not covered" >spans[i].marker.detachLine(line);<span class="cstat-no" title="statement not covered" >l</span>ine.markedSpans=null;}</span>
<span class="fstat-no" title="function not covered" >function attachMarkedSpans(line,spans){<span class="cstat-no" title="statement not covered" ></span>if(!spans)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0;i&lt;spans.length;++i)</span>
<span class="cstat-no" title="statement not covered" >spans[i].marker.attachLine(line);<span class="cstat-no" title="statement not covered" >l</span>ine.markedSpans=spans;}</span>
<span class="fstat-no" title="function not covered" >function extraLeft(marker){<span class="cstat-no" title="statement not covered" ></span>return marker.inclusiveLeft?-1:0;}</span>
<span class="fstat-no" title="function not covered" >function extraRight(marker){<span class="cstat-no" title="statement not covered" ></span>return marker.inclusiveRight?1:0;}</span>
<span class="fstat-no" title="function not covered" >function compareCollapsedMarkers(a,b){<span class="cstat-no" title="statement not covered" ></span>var lenDiff=a.lines.length-b.lines.length;<span class="cstat-no" title="statement not covered" >i</span>f(lenDiff!=0)<span class="cstat-no" title="statement not covered" >return lenDiff;<span class="cstat-no" title="statement not covered" >v</span></span>ar aPos=a.find(),bPos=b.find();<span class="cstat-no" title="statement not covered" >v</span>ar fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);<span class="cstat-no" title="statement not covered" >i</span>f(fromCmp)<span class="cstat-no" title="statement not covered" >return-fromCmp;<span class="cstat-no" title="statement not covered" >v</span></span>ar toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);<span class="cstat-no" title="statement not covered" >i</span>f(toCmp)<span class="cstat-no" title="statement not covered" >return toCmp;<span class="cstat-no" title="statement not covered" >r</span></span>eturn b.id-a.id;}</span>
<span class="fstat-no" title="function not covered" >function collapsedSpanAtSide(line,start){<span class="cstat-no" title="statement not covered" ></span>var sps=sawCollapsedSpans&amp;&amp;line.markedSpans,found;<span class="cstat-no" title="statement not covered" >i</span>f(sps)<span class="cstat-no" title="statement not covered" >for(var sp,i=0;i&lt;sps.length;++i){<span class="cstat-no" title="statement not covered" >sp=sps[i];<span class="cstat-no" title="statement not covered" >i</span>f(sp.marker.collapsed&amp;&amp;(start?sp.from:sp.to)==null&amp;&amp;(!found||compareCollapsedMarkers(found,sp.marker)&lt;0))</span></span></span>
<span class="cstat-no" title="statement not covered" >found=sp.marker;}</span>
<span class="cstat-no" title="statement not covered" >return found;}</span>
<span class="fstat-no" title="function not covered" >function collapsedSpanAtStart(line){<span class="cstat-no" title="statement not covered" ></span>return collapsedSpanAtSide(line,true);}</span>
<span class="fstat-no" title="function not covered" >function collapsedSpanAtEnd(line){<span class="cstat-no" title="statement not covered" ></span>return collapsedSpanAtSide(line,false);}</span>
<span class="fstat-no" title="function not covered" >function conflictingCollapsedRange(doc,lineNo,from,to,marker){<span class="cstat-no" title="statement not covered" ></span>var line=getLine(doc,lineNo);<span class="cstat-no" title="statement not covered" >v</span>ar sps=sawCollapsedSpans&amp;&amp;line.markedSpans;<span class="cstat-no" title="statement not covered" >i</span>f(sps)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;sps.length;++i){<span class="cstat-no" title="statement not covered" >var sp=sps[i];<span class="cstat-no" title="statement not covered" >i</span>f(!sp.marker.collapsed)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >v</span></span>ar found=sp.marker.find(0);<span class="cstat-no" title="statement not covered" >v</span>ar fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);<span class="cstat-no" title="statement not covered" >v</span>ar toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);<span class="cstat-no" title="statement not covered" >i</span>f(fromCmp&gt;=0&amp;&amp;toCmp&lt;=0||fromCmp&lt;=0&amp;&amp;toCmp&gt;=0)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(fromCmp&lt;=0&amp;&amp;(cmp(found.to,from)&gt;0||(sp.marker.inclusiveRight&amp;&amp;marker.inclusiveLeft))||fromCmp&gt;=0&amp;&amp;(cmp(found.from,to)&lt;0||(sp.marker.inclusiveLeft&amp;&amp;marker.inclusiveRight)))</span></span></span>
<span class="cstat-no" title="statement not covered" >return true;}</span>}
<span class="fstat-no" title="function not covered" >function visualLine(line){<span class="cstat-no" title="statement not covered" ></span>var merged;<span class="cstat-no" title="statement not covered" >w</span>hile(merged=collapsedSpanAtStart(line))</span>
<span class="cstat-no" title="statement not covered" >line=merged.find(-1,true).line;<span class="cstat-no" title="statement not covered" >r</span>eturn line;}</span>
<span class="fstat-no" title="function not covered" >function visualLineContinued(line){<span class="cstat-no" title="statement not covered" ></span>var merged,lines;<span class="cstat-no" title="statement not covered" >w</span>hile(merged=collapsedSpanAtEnd(line)){<span class="cstat-no" title="statement not covered" >line=merged.find(1,true).line;<span class="cstat-no" title="statement not covered" >(</span>lines||(lines=[])).push(line);}</span></span>
<span class="cstat-no" title="statement not covered" >return lines;}</span>
<span class="fstat-no" title="function not covered" >function visualLineNo(doc,lineN){<span class="cstat-no" title="statement not covered" ></span>var line=getLine(doc,lineN),vis=visualLine(line);<span class="cstat-no" title="statement not covered" >i</span>f(line==vis)<span class="cstat-no" title="statement not covered" >return lineN;<span class="cstat-no" title="statement not covered" >r</span></span>eturn lineNo(vis);}</span>
<span class="fstat-no" title="function not covered" >function visualLineEndNo(doc,lineN){<span class="cstat-no" title="statement not covered" ></span>if(lineN&gt;doc.lastLine())<span class="cstat-no" title="statement not covered" >return lineN;<span class="cstat-no" title="statement not covered" >v</span></span>ar line=getLine(doc,lineN),merged;<span class="cstat-no" title="statement not covered" >i</span>f(!lineIsHidden(doc,line))<span class="cstat-no" title="statement not covered" >return lineN;<span class="cstat-no" title="statement not covered" >w</span></span>hile(merged=collapsedSpanAtEnd(line))</span>
<span class="cstat-no" title="statement not covered" >line=merged.find(1,true).line;<span class="cstat-no" title="statement not covered" >r</span>eturn lineNo(line)+1;}</span>
<span class="fstat-no" title="function not covered" >function lineIsHidden(doc,line){<span class="cstat-no" title="statement not covered" ></span>var sps=sawCollapsedSpans&amp;&amp;line.markedSpans;<span class="cstat-no" title="statement not covered" >i</span>f(sps)<span class="cstat-no" title="statement not covered" >for(var sp,i=0;i&lt;sps.length;++i){<span class="cstat-no" title="statement not covered" >sp=sps[i];<span class="cstat-no" title="statement not covered" >i</span>f(!sp.marker.collapsed)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(sp.from==null)<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >i</span></span>f(sp.marker.widgetNode)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(sp.from==0&amp;&amp;sp.marker.inclusiveLeft&amp;&amp;lineIsHiddenInner(doc,line,sp))</span></span></span>
<span class="cstat-no" title="statement not covered" >return true;}</span>}
<span class="fstat-no" title="function not covered" >function lineIsHiddenInner(doc,line,span){<span class="cstat-no" title="statement not covered" ></span>if(span.to==null){<span class="cstat-no" title="statement not covered" >var end=span.marker.find(1,true);<span class="cstat-no" title="statement not covered" >r</span>eturn lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker));}</span></span>
<span class="cstat-no" title="statement not covered" >if(span.marker.inclusiveRight&amp;&amp;span.to==line.text.length)</span>
<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >f</span>or(var sp,i=0;i&lt;line.markedSpans.length;++i){<span class="cstat-no" title="statement not covered" >sp=line.markedSpans[i];<span class="cstat-no" title="statement not covered" >i</span>f(sp.marker.collapsed&amp;&amp;!sp.marker.widgetNode&amp;&amp;sp.from==span.to&amp;&amp;(sp.to==null||sp.to!=span.from)&amp;&amp;(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&amp;&amp;lineIsHiddenInner(doc,line,sp))<span class="cstat-no" title="statement not covered" >return true;}</span></span>}</span>
<span class="cstat-no" title="statement not covered" >var LineWidget=CodeMirror.LineWidget=<span class="fstat-no" title="function not covered" >function(cm,node,options){<span class="cstat-no" title="statement not covered" ></span>if(options)<span class="cstat-no" title="statement not covered" >for(var opt in options)<span class="cstat-no" title="statement not covered" >if(options.hasOwnProperty(opt))</span></span></span></span>
<span class="cstat-no" title="statement not covered" >this[opt]=options[opt];<span class="cstat-no" title="statement not covered" >t</span>his.cm=cm;<span class="cstat-no" title="statement not covered" >t</span>his.node=node;}</span>;<span class="cstat-no" title="statement not covered" >eventMixin(LineWidget);<span class="fstat-no" title="function not covered" >f</span>unction adjustScrollWhenAboveVisible(cm,line,diff){<span class="cstat-no" title="statement not covered" ></span>if(heightAtLine(line)&lt;((cm.curOp&amp;&amp;cm.curOp.scrollTop)||cm.doc.scrollTop))</span>
<span class="cstat-no" title="statement not covered" >addToScrollPos(cm,null,diff);}</span>
<span class="cstat-no" title="statement not covered" >LineWidget.prototype.clear=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var cm=this.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);<span class="cstat-no" title="statement not covered" >i</span>f(no==null||!ws)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0;i&lt;ws.length;++i)<span class="cstat-no" title="statement not covered" >if(ws[i]==this)<span class="cstat-no" title="statement not covered" >ws.splice(i--,1);<span class="cstat-no" title="statement not covered" >i</span></span></span>f(!ws.length)<span class="cstat-no" title="statement not covered" >line.widgets=null;<span class="cstat-no" title="statement not covered" >v</span></span>ar height=widgetHeight(this);<span class="cstat-no" title="statement not covered" >r</span>unInOp(cm,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>adjustScrollWhenAboveVisible(cm,line,-height);<span class="cstat-no" title="statement not covered" >r</span>egLineChange(cm,no,"widget");<span class="cstat-no" title="statement not covered" >u</span>pdateLineHeight(line,Math.max(0,line.height-height));}</span>);}</span>;<span class="cstat-no" title="statement not covered" >L</span>ineWidget.prototype.changed=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var oldH=this.height,cm=this.cm,line=this.line;<span class="cstat-no" title="statement not covered" >t</span>his.height=null;<span class="cstat-no" title="statement not covered" >v</span>ar diff=widgetHeight(this)-oldH;<span class="cstat-no" title="statement not covered" >i</span>f(!diff)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >r</span></span>unInOp(cm,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>cm.curOp.forceUpdate=true;<span class="cstat-no" title="statement not covered" >a</span>djustScrollWhenAboveVisible(cm,line,diff);<span class="cstat-no" title="statement not covered" >u</span>pdateLineHeight(line,line.height+diff);}</span>);}</span>;<span class="fstat-no" title="function not covered" >f</span>unction widgetHeight(widget){<span class="cstat-no" title="statement not covered" ></span>if(widget.height!=null)<span class="cstat-no" title="statement not covered" >return widget.height;<span class="cstat-no" title="statement not covered" >i</span></span>f(!contains(document.body,widget.node)){<span class="cstat-no" title="statement not covered" >var parentStyle="position: relative;";<span class="cstat-no" title="statement not covered" >i</span>f(widget.coverGutter)</span></span>
<span class="cstat-no" title="statement not covered" >parentStyle+="margin-left: -"+widget.cm.display.gutters.offsetWidth+"px;";<span class="cstat-no" title="statement not covered" >i</span>f(widget.noHScroll)</span>
<span class="cstat-no" title="statement not covered" >parentStyle+="width: "+widget.cm.display.wrapper.clientWidth+"px;";<span class="cstat-no" title="statement not covered" >r</span>emoveChildrenAndAdd(widget.cm.display.measure,elt("div",[widget.node],null,parentStyle));}</span>
<span class="cstat-no" title="statement not covered" >return widget.height=widget.node.offsetHeight;}</span>
<span class="fstat-no" title="function not covered" >function addLineWidget(cm,handle,node,options){<span class="cstat-no" title="statement not covered" ></span>var widget=new LineWidget(cm,node,options);<span class="cstat-no" title="statement not covered" >i</span>f(widget.noHScroll)<span class="cstat-no" title="statement not covered" >cm.display.alignWidgets=true;<span class="cstat-no" title="statement not covered" >c</span></span>hangeLine(cm.doc,handle,"widget",<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var widgets=line.widgets||(line.widgets=[]);<span class="cstat-no" title="statement not covered" >i</span>f(widget.insertAt==null)<span class="cstat-no" title="statement not covered" >widgets.push(widget);e</span>lse <span class="cstat-no" title="statement not covered" >widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget);<span class="cstat-no" title="statement not covered" >w</span></span>idget.line=line;<span class="cstat-no" title="statement not covered" >i</span>f(!lineIsHidden(cm.doc,line)){<span class="cstat-no" title="statement not covered" >var aboveVisible=heightAtLine(line)&lt;cm.doc.scrollTop;<span class="cstat-no" title="statement not covered" >u</span>pdateLineHeight(line,line.height+widgetHeight(widget));<span class="cstat-no" title="statement not covered" >i</span>f(aboveVisible)<span class="cstat-no" title="statement not covered" >addToScrollPos(cm,null,widget.height);<span class="cstat-no" title="statement not covered" >c</span></span>m.curOp.forceUpdate=true;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return true;}</span>);<span class="cstat-no" title="statement not covered" >return widget;}</span>
<span class="cstat-no" title="statement not covered" >var Line=CodeMirror.Line=<span class="fstat-no" title="function not covered" >function(text,markedSpans,estimateHeight){<span class="cstat-no" title="statement not covered" ></span>this.text=text;<span class="cstat-no" title="statement not covered" >a</span>ttachMarkedSpans(this,markedSpans);<span class="cstat-no" title="statement not covered" >t</span>his.height=estimateHeight?estimateHeight(this):1;}</span>;<span class="cstat-no" title="statement not covered" >e</span>ventMixin(Line);<span class="cstat-no" title="statement not covered" >L</span>ine.prototype.lineNo=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return lineNo(this);}</span>;<span class="fstat-no" title="function not covered" >f</span>unction updateLine(line,text,markedSpans,estimateHeight){<span class="cstat-no" title="statement not covered" ></span>line.text=text;<span class="cstat-no" title="statement not covered" >i</span>f(line.stateAfter)<span class="cstat-no" title="statement not covered" >line.stateAfter=null;<span class="cstat-no" title="statement not covered" >i</span></span>f(line.styles)<span class="cstat-no" title="statement not covered" >line.styles=null;<span class="cstat-no" title="statement not covered" >i</span></span>f(line.order!=null)<span class="cstat-no" title="statement not covered" >line.order=null;<span class="cstat-no" title="statement not covered" >d</span></span>etachMarkedSpans(line);<span class="cstat-no" title="statement not covered" >a</span>ttachMarkedSpans(line,markedSpans);<span class="cstat-no" title="statement not covered" >v</span>ar estHeight=estimateHeight?estimateHeight(line):1;<span class="cstat-no" title="statement not covered" >i</span>f(estHeight!=line.height)<span class="cstat-no" title="statement not covered" >updateLineHeight(line,estHeight);}</span></span>
<span class="fstat-no" title="function not covered" >function cleanUpLine(line){<span class="cstat-no" title="statement not covered" ></span>line.parent=null;<span class="cstat-no" title="statement not covered" >d</span>etachMarkedSpans(line);}</span>
<span class="fstat-no" title="function not covered" >function extractLineClasses(type,output){<span class="cstat-no" title="statement not covered" ></span>if(type)<span class="cstat-no" title="statement not covered" >for(;;){<span class="cstat-no" title="statement not covered" >var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);<span class="cstat-no" title="statement not covered" >i</span>f(!lineClass)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >t</span></span>ype=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);<span class="cstat-no" title="statement not covered" >v</span>ar prop=lineClass[1]?"bgClass":"textClass";<span class="cstat-no" title="statement not covered" >i</span>f(output[prop]==null)</span></span></span>
<span class="cstat-no" title="statement not covered" >output[prop]=lineClass[2];e</span>lse <span class="cstat-no" title="statement not covered" >if(!(new RegExp("(?:^|\s)"+lineClass[2]+"(?:$|\s)")).test(output[prop]))</span>
<span class="cstat-no" title="statement not covered" >output[prop]+=" "+lineClass[2];}</span>
<span class="cstat-no" title="statement not covered" >return type;}</span>
<span class="fstat-no" title="function not covered" >function callBlankLine(mode,state){<span class="cstat-no" title="statement not covered" ></span>if(mode.blankLine)<span class="cstat-no" title="statement not covered" >return mode.blankLine(state);<span class="cstat-no" title="statement not covered" >i</span></span>f(!mode.innerMode)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar inner=CodeMirror.innerMode(mode,state);<span class="cstat-no" title="statement not covered" >i</span>f(inner.mode.blankLine)<span class="cstat-no" title="statement not covered" >return inner.mode.blankLine(inner.state);}</span></span>
<span class="fstat-no" title="function not covered" >function readToken(mode,stream,state,inner){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;10;i++){<span class="cstat-no" title="statement not covered" >if(inner)<span class="cstat-no" title="statement not covered" >inner[0]=CodeMirror.innerMode(mode,state).mode;<span class="cstat-no" title="statement not covered" >v</span></span>ar style=mode.token(stream,state);<span class="cstat-no" title="statement not covered" >i</span>f(stream.pos&gt;stream.start)<span class="cstat-no" title="statement not covered" >return style;}</span></span></span>
<span class="cstat-no" title="statement not covered" >throw new Error("Mode "+mode.name+" failed to advance stream.");}</span>
<span class="fstat-no" title="function not covered" >function takeToken(cm,pos,precise,asArray){<span class="fstat-no" title="function not covered" ></span>function getObj(copy){<span class="cstat-no" title="statement not covered" ></span>return{start:stream.start,end:stream.pos,string:stream.current(),type:style||null,state:copy?copyState(doc.mode,state):state};}</span>
<span class="cstat-no" title="statement not covered" >var doc=cm.doc,mode=doc.mode,style;<span class="cstat-no" title="statement not covered" >p</span>os=clipPos(doc,pos);<span class="cstat-no" title="statement not covered" >v</span>ar line=getLine(doc,pos.line),state=getStateBefore(cm,pos.line,precise);<span class="cstat-no" title="statement not covered" >v</span>ar stream=new StringStream(line.text,cm.options.tabSize),tokens;<span class="cstat-no" title="statement not covered" >i</span>f(asArray)<span class="cstat-no" title="statement not covered" >tokens=[];<span class="cstat-no" title="statement not covered" >w</span></span>hile((asArray||stream.pos&lt;pos.ch)&amp;&amp;!stream.eol()){<span class="cstat-no" title="statement not covered" >stream.start=stream.pos;<span class="cstat-no" title="statement not covered" >s</span>tyle=readToken(mode,stream,state);<span class="cstat-no" title="statement not covered" >i</span>f(asArray)<span class="cstat-no" title="statement not covered" >tokens.push(getObj(true));}</span></span></span>
<span class="cstat-no" title="statement not covered" >return asArray?tokens:getObj();}</span>
<span class="fstat-no" title="function not covered" >function runMode(cm,text,mode,state,f,lineClasses,forceToEnd){<span class="cstat-no" title="statement not covered" ></span>var flattenSpans=mode.flattenSpans;<span class="cstat-no" title="statement not covered" >i</span>f(flattenSpans==null)<span class="cstat-no" title="statement not covered" >flattenSpans=cm.options.flattenSpans;<span class="cstat-no" title="statement not covered" >v</span></span>ar curStart=0,curStyle=null;<span class="cstat-no" title="statement not covered" >v</span>ar stream=new StringStream(text,cm.options.tabSize),style;<span class="cstat-no" title="statement not covered" >v</span>ar inner=cm.options.addModeClass&amp;&amp;[null];<span class="cstat-no" title="statement not covered" >i</span>f(text=="")<span class="cstat-no" title="statement not covered" >extractLineClasses(callBlankLine(mode,state),lineClasses);<span class="cstat-no" title="statement not covered" >w</span></span>hile(!stream.eol()){<span class="cstat-no" title="statement not covered" >if(stream.pos&gt;cm.options.maxHighlightLength){<span class="cstat-no" title="statement not covered" >flattenSpans=false;<span class="cstat-no" title="statement not covered" >i</span>f(forceToEnd)<span class="cstat-no" title="statement not covered" >processLine(cm,text,state,stream.pos);<span class="cstat-no" title="statement not covered" >s</span></span>tream.pos=text.length;<span class="cstat-no" title="statement not covered" >s</span>tyle=null;}</span>else{<span class="cstat-no" title="statement not covered" >style=extractLineClasses(readToken(mode,stream,state,inner),lineClasses);}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(inner){<span class="cstat-no" title="statement not covered" >var mName=inner[0].name;<span class="cstat-no" title="statement not covered" >i</span>f(mName)<span class="cstat-no" title="statement not covered" >style="m-"+(style?mName+" "+style:mName);}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(!flattenSpans||curStyle!=style){<span class="cstat-no" title="statement not covered" >while(curStart&lt;stream.start){<span class="cstat-no" title="statement not covered" >curStart=Math.min(stream.start,curStart+50000);<span class="cstat-no" title="statement not covered" >f</span>(curStart,curStyle);}</span></span></span>
<span class="cstat-no" title="statement not covered" >curStyle=style;}</span>
<span class="cstat-no" title="statement not covered" >stream.start=stream.pos;}</span>
<span class="cstat-no" title="statement not covered" >while(curStart&lt;stream.pos){<span class="cstat-no" title="statement not covered" >var pos=Math.min(stream.pos,curStart+50000);<span class="cstat-no" title="statement not covered" >f</span>(pos,curStyle);<span class="cstat-no" title="statement not covered" >c</span>urStart=pos;}</span>}</span>
<span class="fstat-no" title="function not covered" >function highlightLine(cm,line,state,forceToEnd){<span class="cstat-no" title="statement not covered" ></span>var st=[cm.state.modeGen],lineClasses={};<span class="cstat-no" title="statement not covered" >r</span>unMode(cm,line.text,cm.doc.mode,state,<span class="fstat-no" title="function not covered" >function(end,style){<span class="cstat-no" title="statement not covered" ></span>st.push(end,style);}</span>,lineClasses,forceToEnd);<span class="cstat-no" title="statement not covered" >f</span>or(var o=0;o&lt;cm.state.overlays.length;++o){<span class="cstat-no" title="statement not covered" >var overlay=cm.state.overlays[o],i=1,at=0;<span class="cstat-no" title="statement not covered" >r</span>unMode(cm,line.text,overlay.mode,true,<span class="fstat-no" title="function not covered" >function(end,style){<span class="cstat-no" title="statement not covered" ></span>var start=i;<span class="cstat-no" title="statement not covered" >w</span>hile(at&lt;end){<span class="cstat-no" title="statement not covered" >var i_end=st[i];<span class="cstat-no" title="statement not covered" >i</span>f(i_end&gt;end)</span></span></span></span>
<span class="cstat-no" title="statement not covered" >st.splice(i,1,end,st[i+1],i_end);<span class="cstat-no" title="statement not covered" >i</span>+=2;<span class="cstat-no" title="statement not covered" >a</span>t=Math.min(end,i_end);}</span>
<span class="cstat-no" title="statement not covered" >if(!style)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(overlay.opaque){<span class="cstat-no" title="statement not covered" >st.splice(start,i-start,end,"cm-overlay "+style);<span class="cstat-no" title="statement not covered" >i</span>=start+2;}</span>else{<span class="cstat-no" title="statement not covered" >for(;start&lt;i;start+=2){<span class="cstat-no" title="statement not covered" >var cur=st[start+1];<span class="cstat-no" title="statement not covered" >s</span>t[start+1]=(cur?cur+" ":"")+"cm-overlay "+style;}</span>}</span>}</span>,lineClasses);}
<span class="cstat-no" title="statement not covered" >return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null};}</span>
<span class="fstat-no" title="function not covered" >function getLineStyles(cm,line,updateFrontier){<span class="cstat-no" title="statement not covered" ></span>if(!line.styles||line.styles[0]!=cm.state.modeGen){<span class="cstat-no" title="statement not covered" >var result=highlightLine(cm,line,line.stateAfter=getStateBefore(cm,lineNo(line)));<span class="cstat-no" title="statement not covered" >l</span>ine.styles=result.styles;<span class="cstat-no" title="statement not covered" >i</span>f(result.classes)<span class="cstat-no" title="statement not covered" >line.styleClasses=result.classes;e</span>lse <span class="cstat-no" title="statement not covered" >if(line.styleClasses)<span class="cstat-no" title="statement not covered" >line.styleClasses=null;<span class="cstat-no" title="statement not covered" >i</span></span></span>f(updateFrontier===cm.doc.frontier)<span class="cstat-no" title="statement not covered" >cm.doc.frontier++;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return line.styles;}</span>
<span class="fstat-no" title="function not covered" >function processLine(cm,text,state,startAt){<span class="cstat-no" title="statement not covered" ></span>var mode=cm.doc.mode;<span class="cstat-no" title="statement not covered" >v</span>ar stream=new StringStream(text,cm.options.tabSize);<span class="cstat-no" title="statement not covered" >s</span>tream.start=stream.pos=startAt||0;<span class="cstat-no" title="statement not covered" >i</span>f(text=="")<span class="cstat-no" title="statement not covered" >callBlankLine(mode,state);<span class="cstat-no" title="statement not covered" >w</span></span>hile(!stream.eol()&amp;&amp;stream.pos&lt;=cm.options.maxHighlightLength){<span class="cstat-no" title="statement not covered" >readToken(mode,stream,state);<span class="cstat-no" title="statement not covered" >s</span>tream.start=stream.pos;}</span>}</span>
<span class="cstat-no" title="statement not covered" >var styleToClassCache={},styleToClassCacheWithMode={};<span class="fstat-no" title="function not covered" >f</span>unction interpretTokenStyle(style,options){<span class="cstat-no" title="statement not covered" ></span>if(!style||/^\s*$/.test(style))<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;<span class="cstat-no" title="statement not covered" >r</span>eturn cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&amp;"));}</span>
<span class="fstat-no" title="function not covered" >function buildLineContent(cm,lineView){<span class="cstat-no" title="statement not covered" ></span>var content=elt("span",null,null,webkit?"padding-right: .1px":null);<span class="cstat-no" title="statement not covered" >v</span>ar builder={pre:elt("pre",[content]),content:content,col:0,pos:0,cm:cm};<span class="cstat-no" title="statement not covered" >l</span>ineView.measure={};<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;=(lineView.rest?lineView.rest.length:0);i++){<span class="cstat-no" title="statement not covered" >var line=i?lineView.rest[i-1]:lineView.line,order;<span class="cstat-no" title="statement not covered" >b</span>uilder.pos=0;<span class="cstat-no" title="statement not covered" >b</span>uilder.addToken=buildToken;<span class="cstat-no" title="statement not covered" >i</span>f((ie||webkit)&amp;&amp;cm.getOption("lineWrapping"))</span></span>
<span class="cstat-no" title="statement not covered" >builder.addToken=buildTokenSplitSpaces(builder.addToken);<span class="cstat-no" title="statement not covered" >i</span>f(hasBadBidiRects(cm.display.measure)&amp;&amp;(order=getOrder(line)))</span>
<span class="cstat-no" title="statement not covered" >builder.addToken=buildTokenBadBidi(builder.addToken,order);<span class="cstat-no" title="statement not covered" >b</span>uilder.map=[];<span class="cstat-no" title="statement not covered" >v</span>ar allowFrontierUpdate=lineView!=cm.display.externalMeasured&amp;&amp;lineNo(line);<span class="cstat-no" title="statement not covered" >i</span>nsertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));<span class="cstat-no" title="statement not covered" >i</span>f(line.styleClasses){<span class="cstat-no" title="statement not covered" >if(line.styleClasses.bgClass)</span></span>
<span class="cstat-no" title="statement not covered" >builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"");<span class="cstat-no" title="statement not covered" >i</span>f(line.styleClasses.textClass)</span>
<span class="cstat-no" title="statement not covered" >builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||"");}</span>
<span class="cstat-no" title="statement not covered" >if(builder.map.length==0)</span>
<span class="cstat-no" title="statement not covered" >builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)));<span class="cstat-no" title="statement not covered" >i</span>f(i==0){<span class="cstat-no" title="statement not covered" >lineView.measure.map=builder.map;<span class="cstat-no" title="statement not covered" >l</span>ineView.measure.cache={};}</span>else{<span class="cstat-no" title="statement not covered" >(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);<span class="cstat-no" title="statement not covered" >(</span>lineView.measure.caches||(lineView.measure.caches=[])).push({});}</span>}</span>
<span class="cstat-no" title="statement not covered" >if(webkit&amp;&amp;/\bcm-tab\b/.test(builder.content.lastChild.className))</span>
<span class="cstat-no" title="statement not covered" >builder.content.className="cm-tab-wrap-hack";<span class="cstat-no" title="statement not covered" >s</span>ignal(cm,"renderLine",cm,lineView.line,builder.pre);<span class="cstat-no" title="statement not covered" >i</span>f(builder.pre.className)</span>
<span class="cstat-no" title="statement not covered" >builder.textClass=joinClasses(builder.pre.className,builder.textClass||"");<span class="cstat-no" title="statement not covered" >r</span>eturn builder;}</span>
<span class="fstat-no" title="function not covered" >function defaultSpecialCharPlaceholder(ch){<span class="cstat-no" title="statement not covered" ></span>var token=elt("span","\u2022","cm-invalidchar");<span class="cstat-no" title="statement not covered" >t</span>oken.title="\\u"+ch.charCodeAt(0).toString(16);<span class="cstat-no" title="statement not covered" >r</span>eturn token;}</span>
<span class="fstat-no" title="function not covered" >function buildToken(builder,text,style,startStyle,endStyle,title,css){<span class="cstat-no" title="statement not covered" ></span>if(!text)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar special=builder.cm.options.specialChars,mustWrap=false;<span class="cstat-no" title="statement not covered" >i</span>f(!special.test(text)){<span class="cstat-no" title="statement not covered" >builder.col+=text.length;<span class="cstat-no" title="statement not covered" >v</span>ar content=document.createTextNode(text);<span class="cstat-no" title="statement not covered" >b</span>uilder.map.push(builder.pos,builder.pos+text.length,content);<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version&lt;9)<span class="cstat-no" title="statement not covered" >mustWrap=true;<span class="cstat-no" title="statement not covered" >b</span></span>uilder.pos+=text.length;}</span>else{<span class="cstat-no" title="statement not covered" >var content=document.createDocumentFragment(),pos=0;<span class="cstat-no" title="statement not covered" >w</span>hile(true){<span class="cstat-no" title="statement not covered" >special.lastIndex=pos;<span class="cstat-no" title="statement not covered" >v</span>ar m=special.exec(text);<span class="cstat-no" title="statement not covered" >v</span>ar skipped=m?m.index-pos:text.length-pos;<span class="cstat-no" title="statement not covered" >i</span>f(skipped){<span class="cstat-no" title="statement not covered" >var txt=document.createTextNode(text.slice(pos,pos+skipped));<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version&lt;9)<span class="cstat-no" title="statement not covered" >content.appendChild(elt("span",[txt]));e</span>lse <span class="cstat-no" title="statement not covered" >content.appendChild(txt);<span class="cstat-no" title="statement not covered" >b</span></span>uilder.map.push(builder.pos,builder.pos+skipped,txt);<span class="cstat-no" title="statement not covered" >b</span>uilder.col+=skipped;<span class="cstat-no" title="statement not covered" >b</span>uilder.pos+=skipped;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(!m)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >p</span></span>os+=skipped+1;<span class="cstat-no" title="statement not covered" >i</span>f(m[0]=="\t"){<span class="cstat-no" title="statement not covered" >var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;<span class="cstat-no" title="statement not covered" >v</span>ar txt=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab"));<span class="cstat-no" title="statement not covered" >b</span>uilder.col+=tabWidth;}</span>else{<span class="cstat-no" title="statement not covered" >var txt=builder.cm.options.specialCharPlaceholder(m[0]);<span class="cstat-no" title="statement not covered" >i</span>f(ie&amp;&amp;ie_version&lt;9)<span class="cstat-no" title="statement not covered" >content.appendChild(elt("span",[txt]));e</span>lse <span class="cstat-no" title="statement not covered" >content.appendChild(txt);<span class="cstat-no" title="statement not covered" >b</span></span>uilder.col+=1;}</span></span>
<span class="cstat-no" title="statement not covered" >builder.map.push(builder.pos,builder.pos+1,txt);<span class="cstat-no" title="statement not covered" >b</span>uilder.pos++;}</span>}
<span class="cstat-no" title="statement not covered" >if(style||startStyle||endStyle||mustWrap||css){<span class="cstat-no" title="statement not covered" >var fullStyle=style||"";<span class="cstat-no" title="statement not covered" >i</span>f(startStyle)<span class="cstat-no" title="statement not covered" >fullStyle+=startStyle;<span class="cstat-no" title="statement not covered" >i</span></span>f(endStyle)<span class="cstat-no" title="statement not covered" >fullStyle+=endStyle;<span class="cstat-no" title="statement not covered" >v</span></span>ar token=elt("span",[content],fullStyle,css);<span class="cstat-no" title="statement not covered" >i</span>f(title)<span class="cstat-no" title="statement not covered" >token.title=title;<span class="cstat-no" title="statement not covered" >r</span></span>eturn builder.content.appendChild(token);}</span></span>
<span class="cstat-no" title="statement not covered" >builder.content.appendChild(content);}</span>
<span class="fstat-no" title="function not covered" >function buildTokenSplitSpaces(inner){<span class="fstat-no" title="function not covered" ></span>function split(old){<span class="cstat-no" title="statement not covered" ></span>var out=" ";<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;old.length-2;++i)<span class="cstat-no" title="statement not covered" >out+=i%2?" ":"\u00a0";<span class="cstat-no" title="statement not covered" >o</span></span>ut+=" ";<span class="cstat-no" title="statement not covered" >r</span>eturn out;}</span>
<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function(builder,text,style,startStyle,endStyle,title){<span class="cstat-no" title="statement not covered" ></span>inner(builder,text.replace(/ {3,}/g,split),style,startStyle,endStyle,title);}</span>;}</span>
<span class="fstat-no" title="function not covered" >function buildTokenBadBidi(inner,order){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(builder,text,style,startStyle,endStyle,title){<span class="cstat-no" title="statement not covered" ></span>style=style?style+" cm-force-border":"cm-force-border";<span class="cstat-no" title="statement not covered" >v</span>ar start=builder.pos,end=start+text.length;<span class="cstat-no" title="statement not covered" >f</span>or(;;){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;order.length;i++){<span class="cstat-no" title="statement not covered" >var part=order[i];<span class="cstat-no" title="statement not covered" >i</span>f(part.to&gt;start&amp;&amp;part.from&lt;=start)<span class="cstat-no" title="statement not covered" >break;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(part.to&gt;=end)<span class="cstat-no" title="statement not covered" >return inner(builder,text,style,startStyle,endStyle,title);<span class="cstat-no" title="statement not covered" >i</span></span>nner(builder,text.slice(0,part.to-start),style,startStyle,null,title);<span class="cstat-no" title="statement not covered" >s</span>tartStyle=null;<span class="cstat-no" title="statement not covered" >t</span>ext=text.slice(part.to-start);<span class="cstat-no" title="statement not covered" >s</span>tart=part.to;}</span>};}
<span class="fstat-no" title="function not covered" >function buildCollapsedSpan(builder,size,marker,ignoreWidget){<span class="cstat-no" title="statement not covered" ></span>var widget=!ignoreWidget&amp;&amp;marker.widgetNode;<span class="cstat-no" title="statement not covered" >i</span>f(widget){<span class="cstat-no" title="statement not covered" >builder.map.push(builder.pos,builder.pos+size,widget);<span class="cstat-no" title="statement not covered" >b</span>uilder.content.appendChild(widget);}</span></span>
<span class="cstat-no" title="statement not covered" >builder.pos+=size;}</span>
<span class="fstat-no" title="function not covered" >function insertLineContent(line,builder,styles){<span class="cstat-no" title="statement not covered" ></span>var spans=line.markedSpans,allText=line.text,at=0;<span class="cstat-no" title="statement not covered" >i</span>f(!spans){<span class="cstat-no" title="statement not covered" >for(var i=1;i&lt;styles.length;i+=2)</span></span>
<span class="cstat-no" title="statement not covered" >builder.addToken(builder,allText.slice(at,at=styles[i]),interpretTokenStyle(styles[i+1],builder.cm.options));<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span>
<span class="cstat-no" title="statement not covered" >var len=allText.length,pos=0,i=1,text="",style,css;<span class="cstat-no" title="statement not covered" >v</span>ar nextChange=0,spanStyle,spanEndStyle,spanStartStyle,title,collapsed;<span class="cstat-no" title="statement not covered" >f</span>or(;;){<span class="cstat-no" title="statement not covered" >if(nextChange==pos){<span class="cstat-no" title="statement not covered" >spanStyle=spanEndStyle=spanStartStyle=title=css="";<span class="cstat-no" title="statement not covered" >c</span>ollapsed=null;<span class="cstat-no" title="statement not covered" >n</span>extChange=Infinity;<span class="cstat-no" title="statement not covered" >v</span>ar foundBookmarks=[];<span class="cstat-no" title="statement not covered" >f</span>or(var j=0;j&lt;spans.length;++j){<span class="cstat-no" title="statement not covered" >var sp=spans[j],m=sp.marker;<span class="cstat-no" title="statement not covered" >i</span>f(sp.from&lt;=pos&amp;&amp;(sp.to==null||sp.to&gt;pos)){<span class="cstat-no" title="statement not covered" >if(sp.to!=null&amp;&amp;nextChange&gt;sp.to){<span class="cstat-no" title="statement not covered" >nextChange=sp.to;<span class="cstat-no" title="statement not covered" >s</span>panEndStyle="";}</span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(m.className)<span class="cstat-no" title="statement not covered" >spanStyle+=" "+m.className;<span class="cstat-no" title="statement not covered" >i</span></span>f(m.css)<span class="cstat-no" title="statement not covered" >css=m.css;<span class="cstat-no" title="statement not covered" >i</span></span>f(m.startStyle&amp;&amp;sp.from==pos)<span class="cstat-no" title="statement not covered" >spanStartStyle+=" "+m.startStyle;<span class="cstat-no" title="statement not covered" >i</span></span>f(m.endStyle&amp;&amp;sp.to==nextChange)<span class="cstat-no" title="statement not covered" >spanEndStyle+=" "+m.endStyle;<span class="cstat-no" title="statement not covered" >i</span></span>f(m.title&amp;&amp;!title)<span class="cstat-no" title="statement not covered" >title=m.title;<span class="cstat-no" title="statement not covered" >i</span></span>f(m.collapsed&amp;&amp;(!collapsed||compareCollapsedMarkers(collapsed.marker,m)&lt;0))</span>
<span class="cstat-no" title="statement not covered" >collapsed=sp;}</span>else <span class="cstat-no" title="statement not covered" >if(sp.from&gt;pos&amp;&amp;nextChange&gt;sp.from){<span class="cstat-no" title="statement not covered" >nextChange=sp.from;}</span></span>
<span class="cstat-no" title="statement not covered" >if(m.type=="bookmark"&amp;&amp;sp.from==pos&amp;&amp;m.widgetNode)<span class="cstat-no" title="statement not covered" >foundBookmarks.push(m);}</span></span>
<span class="cstat-no" title="statement not covered" >if(collapsed&amp;&amp;(collapsed.from||0)==pos){<span class="cstat-no" title="statement not covered" >buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);<span class="cstat-no" title="statement not covered" >i</span>f(collapsed.to==null)<span class="cstat-no" title="statement not covered" >return;}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(!collapsed&amp;&amp;foundBookmarks.length)<span class="cstat-no" title="statement not covered" >for(var j=0;j&lt;foundBookmarks.length;++j)</span></span>
<span class="cstat-no" title="statement not covered" >buildCollapsedSpan(builder,0,foundBookmarks[j]);}</span>
<span class="cstat-no" title="statement not covered" >if(pos&gt;=len)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >v</span></span>ar upto=Math.min(len,nextChange);<span class="cstat-no" title="statement not covered" >w</span>hile(true){<span class="cstat-no" title="statement not covered" >if(text){<span class="cstat-no" title="statement not covered" >var end=pos+text.length;<span class="cstat-no" title="statement not covered" >i</span>f(!collapsed){<span class="cstat-no" title="statement not covered" >var tokenText=end&gt;upto?text.slice(0,upto-pos):text;<span class="cstat-no" title="statement not covered" >b</span>uilder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",title,css);}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(end&gt;=upto){<span class="cstat-no" title="statement not covered" >text=text.slice(upto-pos);<span class="cstat-no" title="statement not covered" >p</span>os=upto;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span></span>
<span class="cstat-no" title="statement not covered" >pos=end;<span class="cstat-no" title="statement not covered" >s</span>panStartStyle="";}</span>
<span class="cstat-no" title="statement not covered" >text=allText.slice(at,at=styles[i++]);<span class="cstat-no" title="statement not covered" >s</span>tyle=interpretTokenStyle(styles[i++],builder.cm.options);}</span>}}
<span class="fstat-no" title="function not covered" >function isWholeLineUpdate(doc,change){<span class="cstat-no" title="statement not covered" ></span>return change.from.ch==0&amp;&amp;change.to.ch==0&amp;&amp;lst(change.text)==""&amp;&amp;(!doc.cm||doc.cm.options.wholeLineUpdateBefore);}</span>
<span class="fstat-no" title="function not covered" >function updateDoc(doc,change,markedSpans,estimateHeight){<span class="fstat-no" title="function not covered" ></span>function spansFor(n){<span class="cstat-no" title="statement not covered" ></span>return markedSpans?markedSpans[n]:null;}</span>
<span class="fstat-no" title="function not covered" >function update(line,text,spans){<span class="cstat-no" title="statement not covered" ></span>updateLine(line,text,spans,estimateHeight);<span class="cstat-no" title="statement not covered" >s</span>ignalLater(line,"change",line,change);}</span>
<span class="fstat-no" title="function not covered" >function linesFor(start,end){<span class="cstat-no" title="statement not covered" ></span>for(var i=start,result=[];i&lt;end;++i)</span>
<span class="cstat-no" title="statement not covered" >result.push(new Line(text[i],spansFor(i),estimateHeight));<span class="cstat-no" title="statement not covered" >r</span>eturn result;}</span>
<span class="cstat-no" title="statement not covered" >var from=change.from,to=change.to,text=change.text;<span class="cstat-no" title="statement not covered" >v</span>ar firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line);<span class="cstat-no" title="statement not covered" >v</span>ar lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;<span class="cstat-no" title="statement not covered" >i</span>f(change.full){<span class="cstat-no" title="statement not covered" >doc.insert(0,linesFor(0,text.length));<span class="cstat-no" title="statement not covered" >d</span>oc.remove(text.length,doc.size-text.length);}</span>else <span class="cstat-no" title="statement not covered" >if(isWholeLineUpdate(doc,change)){<span class="cstat-no" title="statement not covered" >var added=linesFor(0,text.length-1);<span class="cstat-no" title="statement not covered" >u</span>pdate(lastLine,lastLine.text,lastSpans);<span class="cstat-no" title="statement not covered" >i</span>f(nlines)<span class="cstat-no" title="statement not covered" >doc.remove(from.line,nlines);<span class="cstat-no" title="statement not covered" >i</span></span>f(added.length)<span class="cstat-no" title="statement not covered" >doc.insert(from.line,added);}</span></span>else <span class="cstat-no" title="statement not covered" >if(firstLine==lastLine){<span class="cstat-no" title="statement not covered" >if(text.length==1){<span class="cstat-no" title="statement not covered" >update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);}</span>else{<span class="cstat-no" title="statement not covered" >var added=linesFor(1,text.length-1);<span class="cstat-no" title="statement not covered" >a</span>dded.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight));<span class="cstat-no" title="statement not covered" >u</span>pdate(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));<span class="cstat-no" title="statement not covered" >d</span>oc.insert(from.line+1,added);}</span>}</span>else <span class="cstat-no" title="statement not covered" >if(text.length==1){<span class="cstat-no" title="statement not covered" >update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));<span class="cstat-no" title="statement not covered" >d</span>oc.remove(from.line+1,nlines);}</span>else{<span class="cstat-no" title="statement not covered" >update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));<span class="cstat-no" title="statement not covered" >u</span>pdate(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);<span class="cstat-no" title="statement not covered" >v</span>ar added=linesFor(1,text.length-1);<span class="cstat-no" title="statement not covered" >i</span>f(nlines&gt;1)<span class="cstat-no" title="statement not covered" >doc.remove(from.line+1,nlines-1);<span class="cstat-no" title="statement not covered" >d</span></span>oc.insert(from.line+1,added);}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >signalLater(doc,"change",doc,change);}</span>
<span class="fstat-no" title="function not covered" >function LeafChunk(lines){<span class="cstat-no" title="statement not covered" ></span>this.lines=lines;<span class="cstat-no" title="statement not covered" >t</span>his.parent=null;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0,height=0;i&lt;lines.length;++i){<span class="cstat-no" title="statement not covered" >lines[i].parent=this;<span class="cstat-no" title="statement not covered" >h</span>eight+=lines[i].height;}</span></span>
<span class="cstat-no" title="statement not covered" >this.height=height;}</span>
<span class="cstat-no" title="statement not covered" >LeafChunk.prototype={chunkSize:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.lines.length;}</span>,removeInner:<span class="fstat-no" title="function not covered" >function(at,n){<span class="cstat-no" title="statement not covered" ></span>for(var i=at,e=at+n;i&lt;e;++i){<span class="cstat-no" title="statement not covered" >var line=this.lines[i];<span class="cstat-no" title="statement not covered" >t</span>his.height-=line.height;<span class="cstat-no" title="statement not covered" >c</span>leanUpLine(line);<span class="cstat-no" title="statement not covered" >s</span>ignalLater(line,"delete");}</span></span></span>
<span class="cstat-no" title="statement not covered" >this.lines.splice(at,n);}</span>,collapse:<span class="fstat-no" title="function not covered" >function(lines){<span class="cstat-no" title="statement not covered" ></span>lines.push.apply(lines,this.lines);}</span>,insertInner:<span class="fstat-no" title="function not covered" >function(at,lines,height){<span class="cstat-no" title="statement not covered" ></span>this.height+=height;<span class="cstat-no" title="statement not covered" >t</span>his.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;lines.length;++i)<span class="cstat-no" title="statement not covered" >lines[i].parent=this;}</span></span>,iterN:<span class="fstat-no" title="function not covered" >function(at,n,op){<span class="cstat-no" title="statement not covered" ></span>for(var e=at+n;at&lt;e;++at)</span>
<span class="cstat-no" title="statement not covered" >if(op(this.lines[at]))<span class="cstat-no" title="statement not covered" >return true;}</span></span>};<span class="fstat-no" title="function not covered" >function BranchChunk(children){<span class="cstat-no" title="statement not covered" ></span>this.children=children;<span class="cstat-no" title="statement not covered" >v</span>ar size=0,height=0;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;children.length;++i){<span class="cstat-no" title="statement not covered" >var ch=children[i];<span class="cstat-no" title="statement not covered" >s</span>ize+=ch.chunkSize();<span class="cstat-no" title="statement not covered" >h</span>eight+=ch.height;<span class="cstat-no" title="statement not covered" >c</span>h.parent=this;}</span></span>
<span class="cstat-no" title="statement not covered" >this.size=size;<span class="cstat-no" title="statement not covered" >t</span>his.height=height;<span class="cstat-no" title="statement not covered" >t</span>his.parent=null;}</span>
<span class="cstat-no" title="statement not covered" >BranchChunk.prototype={chunkSize:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.size;}</span>,removeInner:<span class="fstat-no" title="function not covered" >function(at,n){<span class="cstat-no" title="statement not covered" ></span>this.size-=n;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;this.children.length;++i){<span class="cstat-no" title="statement not covered" >var child=this.children[i],sz=child.chunkSize();<span class="cstat-no" title="statement not covered" >i</span>f(at&lt;sz){<span class="cstat-no" title="statement not covered" >var rm=Math.min(n,sz-at),oldHeight=child.height;<span class="cstat-no" title="statement not covered" >c</span>hild.removeInner(at,rm);<span class="cstat-no" title="statement not covered" >t</span>his.height-=oldHeight-child.height;<span class="cstat-no" title="statement not covered" >i</span>f(sz==rm){<span class="cstat-no" title="statement not covered" >this.children.splice(i--,1);<span class="cstat-no" title="statement not covered" >c</span>hild.parent=null;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if((n-=rm)==0)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >a</span></span>t=0;}</span>else <span class="cstat-no" title="statement not covered" >at-=sz;}</span>
<span class="cstat-no" title="statement not covered" >if(this.size-n&lt;25&amp;&amp;(this.children.length&gt;1||!(this.children[0]instanceof LeafChunk))){<span class="cstat-no" title="statement not covered" >var lines=[];<span class="cstat-no" title="statement not covered" >t</span>his.collapse(lines);<span class="cstat-no" title="statement not covered" >t</span>his.children=[new LeafChunk(lines)];<span class="cstat-no" title="statement not covered" >t</span>his.children[0].parent=this;}</span>}</span>,collapse:<span class="fstat-no" title="function not covered" >function(lines){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;this.children.length;++i)<span class="cstat-no" title="statement not covered" >this.children[i].collapse(lines);}</span></span>,insertInner:<span class="fstat-no" title="function not covered" >function(at,lines,height){<span class="cstat-no" title="statement not covered" ></span>this.size+=lines.length;<span class="cstat-no" title="statement not covered" >t</span>his.height+=height;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;this.children.length;++i){<span class="cstat-no" title="statement not covered" >var child=this.children[i],sz=child.chunkSize();<span class="cstat-no" title="statement not covered" >i</span>f(at&lt;=sz){<span class="cstat-no" title="statement not covered" >child.insertInner(at,lines,height);<span class="cstat-no" title="statement not covered" >i</span>f(child.lines&amp;&amp;child.lines.length&gt;50){<span class="cstat-no" title="statement not covered" >while(child.lines.length&gt;50){<span class="cstat-no" title="statement not covered" >var spilled=child.lines.splice(child.lines.length-25,25);<span class="cstat-no" title="statement not covered" >v</span>ar newleaf=new LeafChunk(spilled);<span class="cstat-no" title="statement not covered" >c</span>hild.height-=newleaf.height;<span class="cstat-no" title="statement not covered" >t</span>his.children.splice(i+1,0,newleaf);<span class="cstat-no" title="statement not covered" >n</span>ewleaf.parent=this;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >this.maybeSpill();}</span>
<span class="cstat-no" title="statement not covered" >break;}</span>
<span class="cstat-no" title="statement not covered" >at-=sz;}</span>},maybeSpill:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(this.children.length&lt;=10)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar me=this;<span class="cstat-no" title="statement not covered" >d</span>o{<span class="cstat-no" title="statement not covered" >var spilled=me.children.splice(me.children.length-5,5);<span class="cstat-no" title="statement not covered" >v</span>ar sibling=new BranchChunk(spilled);<span class="cstat-no" title="statement not covered" >i</span>f(!me.parent){<span class="cstat-no" title="statement not covered" >var copy=new BranchChunk(me.children);<span class="cstat-no" title="statement not covered" >c</span>opy.parent=me;<span class="cstat-no" title="statement not covered" >m</span>e.children=[copy,sibling];<span class="cstat-no" title="statement not covered" >m</span>e=copy;}</span>else{<span class="cstat-no" title="statement not covered" >me.size-=sibling.size;<span class="cstat-no" title="statement not covered" >m</span>e.height-=sibling.height;<span class="cstat-no" title="statement not covered" >v</span>ar myIndex=indexOf(me.parent.children,me);<span class="cstat-no" title="statement not covered" >m</span>e.parent.children.splice(myIndex+1,0,sibling);}</span></span></span>
<span class="cstat-no" title="statement not covered" >sibling.parent=me.parent;}</span>while(me.children.length&gt;10);<span class="cstat-no" title="statement not covered" >me.parent.maybeSpill();}</span>,iterN:<span class="fstat-no" title="function not covered" >function(at,n,op){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;this.children.length;++i){<span class="cstat-no" title="statement not covered" >var child=this.children[i],sz=child.chunkSize();<span class="cstat-no" title="statement not covered" >i</span>f(at&lt;sz){<span class="cstat-no" title="statement not covered" >var used=Math.min(n,sz-at);<span class="cstat-no" title="statement not covered" >i</span>f(child.iterN(at,used,op))<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >i</span></span>f((n-=used)==0)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >a</span></span>t=0;}</span>else <span class="cstat-no" title="statement not covered" >at-=sz;}</span></span>}</span>};<span class="cstat-no" title="statement not covered" >var nextDocId=0;<span class="cstat-no" title="statement not covered" >v</span>ar Doc=CodeMirror.Doc=<span class="fstat-no" title="function not covered" >function(text,mode,firstLine){<span class="cstat-no" title="statement not covered" ></span>if(!(this instanceof Doc))<span class="cstat-no" title="statement not covered" >return new Doc(text,mode,firstLine);<span class="cstat-no" title="statement not covered" >i</span></span>f(firstLine==null)<span class="cstat-no" title="statement not covered" >firstLine=0;<span class="cstat-no" title="statement not covered" >B</span></span>ranchChunk.call(this,[new LeafChunk([new Line("",null)])]);<span class="cstat-no" title="statement not covered" >t</span>his.first=firstLine;<span class="cstat-no" title="statement not covered" >t</span>his.scrollTop=this.scrollLeft=0;<span class="cstat-no" title="statement not covered" >t</span>his.cantEdit=false;<span class="cstat-no" title="statement not covered" >t</span>his.cleanGeneration=1;<span class="cstat-no" title="statement not covered" >t</span>his.frontier=firstLine;<span class="cstat-no" title="statement not covered" >v</span>ar start=Pos(firstLine,0);<span class="cstat-no" title="statement not covered" >t</span>his.sel=simpleSelection(start);<span class="cstat-no" title="statement not covered" >t</span>his.history=new History(null);<span class="cstat-no" title="statement not covered" >t</span>his.id=++nextDocId;<span class="cstat-no" title="statement not covered" >t</span>his.modeOption=mode;<span class="cstat-no" title="statement not covered" >i</span>f(typeof text=="string")<span class="cstat-no" title="statement not covered" >text=splitLines(text);<span class="cstat-no" title="statement not covered" >u</span></span>pdateDoc(this,{from:start,to:start,text:text});<span class="cstat-no" title="statement not covered" >s</span>etSelection(this,simpleSelection(start),sel_dontScroll);}</span>;<span class="cstat-no" title="statement not covered" >D</span>oc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:<span class="fstat-no" title="function not covered" >function(from,to,op){<span class="cstat-no" title="statement not covered" ></span>if(op)<span class="cstat-no" title="statement not covered" >this.iterN(from-this.first,to-from,op);e</span>lse <span class="cstat-no" title="statement not covered" >this.iterN(this.first,this.first+this.size,from);}</span></span>,insert:<span class="fstat-no" title="function not covered" >function(at,lines){<span class="cstat-no" title="statement not covered" ></span>var height=0;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;lines.length;++i)<span class="cstat-no" title="statement not covered" >height+=lines[i].height;<span class="cstat-no" title="statement not covered" >t</span></span>his.insertInner(at-this.first,lines,height);}</span>,remove:<span class="fstat-no" title="function not covered" >function(at,n){<span class="cstat-no" title="statement not covered" ></span>this.removeInner(at-this.first,n);}</span>,getValue:<span class="fstat-no" title="function not covered" >function(lineSep){<span class="cstat-no" title="statement not covered" ></span>var lines=getLines(this,this.first,this.first+this.size);<span class="cstat-no" title="statement not covered" >i</span>f(lineSep===false)<span class="cstat-no" title="statement not covered" >return lines;<span class="cstat-no" title="statement not covered" >r</span></span>eturn lines.join(lineSep||"\n");}</span>,setValue:docMethodOp(<span class="fstat-no" title="function not covered" >function(code){<span class="cstat-no" title="statement not covered" ></span>var top=Pos(this.first,0),last=this.first+this.size-1;<span class="cstat-no" title="statement not covered" >m</span>akeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:splitLines(code),origin:"setValue",full:true},true);<span class="cstat-no" title="statement not covered" >s</span>etSelection(this,simpleSelection(top));}</span>),replaceRange:<span class="fstat-no" title="function not covered" >function(code,from,to,origin){<span class="cstat-no" title="statement not covered" ></span>from=clipPos(this,from);<span class="cstat-no" title="statement not covered" >t</span>o=to?clipPos(this,to):from;<span class="cstat-no" title="statement not covered" >r</span>eplaceRange(this,code,from,to,origin);}</span>,getRange:<span class="fstat-no" title="function not covered" >function(from,to,lineSep){<span class="cstat-no" title="statement not covered" ></span>var lines=getBetween(this,clipPos(this,from),clipPos(this,to));<span class="cstat-no" title="statement not covered" >i</span>f(lineSep===false)<span class="cstat-no" title="statement not covered" >return lines;<span class="cstat-no" title="statement not covered" >r</span></span>eturn lines.join(lineSep||"\n");}</span>,getLine:<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var l=this.getLineHandle(line);<span class="cstat-no" title="statement not covered" >r</span>eturn l&amp;&amp;l.text;}</span>,getLineHandle:<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(isLine(this,line))<span class="cstat-no" title="statement not covered" >return getLine(this,line);}</span></span>,getLineNumber:<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>return lineNo(line);}</span>,getLineHandleVisualStart:<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(typeof line=="number")<span class="cstat-no" title="statement not covered" >line=getLine(this,line);<span class="cstat-no" title="statement not covered" >r</span></span>eturn visualLine(line);}</span>,lineCount:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.size;}</span>,firstLine:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.first;}</span>,lastLine:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.first+this.size-1;}</span>,clipPos:<span class="fstat-no" title="function not covered" >function(pos){<span class="cstat-no" title="statement not covered" ></span>return clipPos(this,pos);}</span>,getCursor:<span class="fstat-no" title="function not covered" >function(start){<span class="cstat-no" title="statement not covered" ></span>var range=this.sel.primary(),pos;<span class="cstat-no" title="statement not covered" >i</span>f(start==null||start=="head")<span class="cstat-no" title="statement not covered" >pos=range.head;e</span>lse <span class="cstat-no" title="statement not covered" >if(start=="anchor")<span class="cstat-no" title="statement not covered" >pos=range.anchor;e</span>lse <span class="cstat-no" title="statement not covered" >if(start=="end"||start=="to"||start===false)<span class="cstat-no" title="statement not covered" >pos=range.to();e</span>lse <span class="cstat-no" title="statement not covered" >pos=range.from();<span class="cstat-no" title="statement not covered" >r</span></span></span></span>eturn pos;}</span>,listSelections:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.sel.ranges;}</span>,somethingSelected:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.sel.somethingSelected();}</span>,setCursor:docMethodOp(<span class="fstat-no" title="function not covered" >function(line,ch,options){<span class="cstat-no" title="statement not covered" ></span>setSimpleSelection(this,clipPos(this,typeof line=="number"?Pos(line,ch||0):line),null,options);}</span>),setSelection:docMethodOp(<span class="fstat-no" title="function not covered" >function(anchor,head,options){<span class="cstat-no" title="statement not covered" ></span>setSimpleSelection(this,clipPos(this,anchor),clipPos(this,head||anchor),options);}</span>),extendSelection:docMethodOp(<span class="fstat-no" title="function not covered" >function(head,other,options){<span class="cstat-no" title="statement not covered" ></span>extendSelection(this,clipPos(this,head),other&amp;&amp;clipPos(this,other),options);}</span>),extendSelections:docMethodOp(<span class="fstat-no" title="function not covered" >function(heads,options){<span class="cstat-no" title="statement not covered" ></span>extendSelections(this,clipPosArray(this,heads,options));}</span>),extendSelectionsBy:docMethodOp(<span class="fstat-no" title="function not covered" >function(f,options){<span class="cstat-no" title="statement not covered" ></span>extendSelections(this,map(this.sel.ranges,f),options);}</span>),setSelections:docMethodOp(<span class="fstat-no" title="function not covered" >function(ranges,primary,options){<span class="cstat-no" title="statement not covered" ></span>if(!ranges.length)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0,out=[];i&lt;ranges.length;i++)</span></span>
<span class="cstat-no" title="statement not covered" >out[i]=new Range(clipPos(this,ranges[i].anchor),clipPos(this,ranges[i].head));<span class="cstat-no" title="statement not covered" >i</span>f(primary==null)<span class="cstat-no" title="statement not covered" >primary=Math.min(ranges.length-1,this.sel.primIndex);<span class="cstat-no" title="statement not covered" >s</span></span>etSelection(this,normalizeSelection(out,primary),options);}</span>),addSelection:docMethodOp(<span class="fstat-no" title="function not covered" >function(anchor,head,options){<span class="cstat-no" title="statement not covered" ></span>var ranges=this.sel.ranges.slice(0);<span class="cstat-no" title="statement not covered" >r</span>anges.push(new Range(clipPos(this,anchor),clipPos(this,head||anchor)));<span class="cstat-no" title="statement not covered" >s</span>etSelection(this,normalizeSelection(ranges,ranges.length-1),options);}</span>),getSelection:<span class="fstat-no" title="function not covered" >function(lineSep){<span class="cstat-no" title="statement not covered" ></span>var ranges=this.sel.ranges,lines;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var sel=getBetween(this,ranges[i].from(),ranges[i].to());<span class="cstat-no" title="statement not covered" >l</span>ines=lines?lines.concat(sel):sel;}</span></span>
<span class="cstat-no" title="statement not covered" >if(lineSep===false)<span class="cstat-no" title="statement not covered" >return lines;e</span>lse <span class="cstat-no" title="statement not covered" >return lines.join(lineSep||"\n");}</span></span>,getSelections:<span class="fstat-no" title="function not covered" >function(lineSep){<span class="cstat-no" title="statement not covered" ></span>var parts=[],ranges=this.sel.ranges;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var sel=getBetween(this,ranges[i].from(),ranges[i].to());<span class="cstat-no" title="statement not covered" >i</span>f(lineSep!==false)<span class="cstat-no" title="statement not covered" >sel=sel.join(lineSep||"\n");<span class="cstat-no" title="statement not covered" >p</span></span>arts[i]=sel;}</span></span>
<span class="cstat-no" title="statement not covered" >return parts;}</span>,replaceSelection:<span class="fstat-no" title="function not covered" >function(code,collapse,origin){<span class="cstat-no" title="statement not covered" ></span>var dup=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;this.sel.ranges.length;i++)</span>
<span class="cstat-no" title="statement not covered" >dup[i]=code;<span class="cstat-no" title="statement not covered" >t</span>his.replaceSelections(dup,collapse,origin||"+input");}</span>,replaceSelections:docMethodOp(<span class="fstat-no" title="function not covered" >function(code,collapse,origin){<span class="cstat-no" title="statement not covered" ></span>var changes=[],sel=this.sel;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;sel.ranges.length;i++){<span class="cstat-no" title="statement not covered" >var range=sel.ranges[i];<span class="cstat-no" title="statement not covered" >c</span>hanges[i]={from:range.from(),to:range.to(),text:splitLines(code[i]),origin:origin};}</span></span>
<span class="cstat-no" title="statement not covered" >var newSel=collapse&amp;&amp;collapse!="end"&amp;&amp;computeReplacedSel(this,changes,collapse);<span class="cstat-no" title="statement not covered" >f</span>or(var i=changes.length-1;i&gt;=0;i--)</span>
<span class="cstat-no" title="statement not covered" >makeChange(this,changes[i]);<span class="cstat-no" title="statement not covered" >i</span>f(newSel)<span class="cstat-no" title="statement not covered" >setSelectionReplaceHistory(this,newSel);e</span>lse <span class="cstat-no" title="statement not covered" >if(this.cm)<span class="cstat-no" title="statement not covered" >ensureCursorVisible(this.cm);}</span></span></span>),undo:docMethodOp(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>makeChangeFromHistory(this,"undo");}</span>),redo:docMethodOp(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>makeChangeFromHistory(this,"redo");}</span>),undoSelection:docMethodOp(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>makeChangeFromHistory(this,"undo",true);}</span>),redoSelection:docMethodOp(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>makeChangeFromHistory(this,"redo",true);}</span>),setExtending:<span class="fstat-no" title="function not covered" >function(val){<span class="cstat-no" title="statement not covered" ></span>this.extend=val;}</span>,getExtending:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.extend;}</span>,historySize:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var hist=this.history,done=0,undone=0;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;hist.done.length;i++)<span class="cstat-no" title="statement not covered" >if(!hist.done[i].ranges)<span class="cstat-no" title="statement not covered" >++done;<span class="cstat-no" title="statement not covered" >f</span></span></span>or(var i=0;i&lt;hist.undone.length;i++)<span class="cstat-no" title="statement not covered" >if(!hist.undone[i].ranges)<span class="cstat-no" title="statement not covered" >++undone;<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn{undo:done,redo:undone};}</span>,clearHistory:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>this.history=new History(this.history.maxGeneration);}</span>,markClean:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>this.cleanGeneration=this.changeGeneration(true);}</span>,changeGeneration:<span class="fstat-no" title="function not covered" >function(forceSplit){<span class="cstat-no" title="statement not covered" ></span>if(forceSplit)</span>
<span class="cstat-no" title="statement not covered" >this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;<span class="cstat-no" title="statement not covered" >r</span>eturn this.history.generation;}</span>,isClean:<span class="fstat-no" title="function not covered" >function(gen){<span class="cstat-no" title="statement not covered" ></span>return this.history.generation==(gen||this.cleanGeneration);}</span>,getHistory:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)};}</span>,setHistory:<span class="fstat-no" title="function not covered" >function(histData){<span class="cstat-no" title="statement not covered" ></span>var hist=this.history=new History(this.history.maxGeneration);<span class="cstat-no" title="statement not covered" >h</span>ist.done=copyHistoryArray(histData.done.slice(0),null,true);<span class="cstat-no" title="statement not covered" >h</span>ist.undone=copyHistoryArray(histData.undone.slice(0),null,true);}</span>,addLineClass:docMethodOp(<span class="fstat-no" title="function not covered" >function(handle,where,cls){<span class="cstat-no" title="statement not covered" ></span>return changeLine(this,handle,where=="gutter"?"gutter":"class",<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";<span class="cstat-no" title="statement not covered" >i</span>f(!line[prop])<span class="cstat-no" title="statement not covered" >line[prop]=cls;e</span>lse <span class="cstat-no" title="statement not covered" >if(classTest(cls).test(line[prop]))<span class="cstat-no" title="statement not covered" >return false;e</span>lse <span class="cstat-no" title="statement not covered" >line[prop]+=" "+cls;<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn true;}</span>);}</span>),removeLineClass:docMethodOp(<span class="fstat-no" title="function not covered" >function(handle,where,cls){<span class="cstat-no" title="statement not covered" ></span>return changeLine(this,handle,where=="gutter"?"gutter":"class",<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var prop=where=="text"?"textClass":where=="background"?"bgClass":where=="gutter"?"gutterClass":"wrapClass";<span class="cstat-no" title="statement not covered" >v</span>ar cur=line[prop];<span class="cstat-no" title="statement not covered" >i</span>f(!cur)<span class="cstat-no" title="statement not covered" >return false;e</span>lse <span class="cstat-no" title="statement not covered" >if(cls==null)<span class="cstat-no" title="statement not covered" >line[prop]=null;e</span>lse{<span class="cstat-no" title="statement not covered" >var found=cur.match(classTest(cls));<span class="cstat-no" title="statement not covered" >i</span>f(!found)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span></span>ar end=found.index+found[0].length;<span class="cstat-no" title="statement not covered" >l</span>ine[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?"":" ")+cur.slice(end)||null;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return true;}</span>);}),markText:<span class="fstat-no" title="function not covered" >function(from,to,options){<span class="cstat-no" title="statement not covered" ></span>return markText(this,clipPos(this,from),clipPos(this,to),options,"range");}</span>,setBookmark:<span class="fstat-no" title="function not covered" >function(pos,options){<span class="cstat-no" title="statement not covered" ></span>var realOpts={replacedWith:options&amp;&amp;(options.nodeType==null?options.widget:options),insertLeft:options&amp;&amp;options.insertLeft,clearWhenEmpty:false,shared:options&amp;&amp;options.shared};<span class="cstat-no" title="statement not covered" >p</span>os=clipPos(this,pos);<span class="cstat-no" title="statement not covered" >r</span>eturn markText(this,pos,pos,realOpts,"bookmark");}</span>,findMarksAt:<span class="fstat-no" title="function not covered" >function(pos){<span class="cstat-no" title="statement not covered" ></span>pos=clipPos(this,pos);<span class="cstat-no" title="statement not covered" >v</span>ar markers=[],spans=getLine(this,pos.line).markedSpans;<span class="cstat-no" title="statement not covered" >i</span>f(spans)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;spans.length;++i){<span class="cstat-no" title="statement not covered" >var span=spans[i];<span class="cstat-no" title="statement not covered" >i</span>f((span.from==null||span.from&lt;=pos.ch)&amp;&amp;(span.to==null||span.to&gt;=pos.ch))</span></span></span>
<span class="cstat-no" title="statement not covered" >markers.push(span.marker.parent||span.marker);}</span>
<span class="cstat-no" title="statement not covered" >return markers;}</span>,findMarks:<span class="fstat-no" title="function not covered" >function(from,to,filter){<span class="cstat-no" title="statement not covered" ></span>from=clipPos(this,from);<span class="cstat-no" title="statement not covered" >t</span>o=clipPos(this,to);<span class="cstat-no" title="statement not covered" >v</span>ar found=[],lineNo=from.line;<span class="cstat-no" title="statement not covered" >t</span>his.iter(from.line,to.line+1,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var spans=line.markedSpans;<span class="cstat-no" title="statement not covered" >i</span>f(spans)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;spans.length;i++){<span class="cstat-no" title="statement not covered" >var span=spans[i];<span class="cstat-no" title="statement not covered" >i</span>f(!(lineNo==from.line&amp;&amp;from.ch&gt;span.to||span.from==null&amp;&amp;lineNo!=from.line||lineNo==to.line&amp;&amp;span.from&gt;to.ch)&amp;&amp;(!filter||filter(span.marker)))</span></span></span></span>
<span class="cstat-no" title="statement not covered" >found.push(span.marker.parent||span.marker);}</span>
<span class="cstat-no" title="statement not covered" >++lineNo;}</span>);<span class="cstat-no" title="statement not covered" >return found;}</span>,getAllMarks:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var markers=[];<span class="cstat-no" title="statement not covered" >t</span>his.iter(<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var sps=line.markedSpans;<span class="cstat-no" title="statement not covered" >i</span>f(sps)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;sps.length;++i)</span></span></span>
<span class="cstat-no" title="statement not covered" >if(sps[i].from!=null)<span class="cstat-no" title="statement not covered" >markers.push(sps[i].marker);}</span></span>);<span class="cstat-no" title="statement not covered" >return markers;}</span>,posFromIndex:<span class="fstat-no" title="function not covered" >function(off){<span class="cstat-no" title="statement not covered" ></span>var ch,lineNo=this.first;<span class="cstat-no" title="statement not covered" >t</span>his.iter(<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var sz=line.text.length+1;<span class="cstat-no" title="statement not covered" >i</span>f(sz&gt;off){<span class="cstat-no" title="statement not covered" >ch=off;<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span></span></span>
<span class="cstat-no" title="statement not covered" >off-=sz;<span class="cstat-no" title="statement not covered" >+</span>+lineNo;}</span>);<span class="cstat-no" title="statement not covered" >return clipPos(this,Pos(lineNo,ch));}</span>,indexFromPos:<span class="fstat-no" title="function not covered" >function(coords){<span class="cstat-no" title="statement not covered" ></span>coords=clipPos(this,coords);<span class="cstat-no" title="statement not covered" >v</span>ar index=coords.ch;<span class="cstat-no" title="statement not covered" >i</span>f(coords.line&lt;this.first||coords.ch&lt;0)<span class="cstat-no" title="statement not covered" >return 0;<span class="cstat-no" title="statement not covered" >t</span></span>his.iter(this.first,coords.line,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>index+=line.text.length+1;}</span>);<span class="cstat-no" title="statement not covered" >r</span>eturn index;}</span>,copy:<span class="fstat-no" title="function not covered" >function(copyHistory){<span class="cstat-no" title="statement not covered" ></span>var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first);<span class="cstat-no" title="statement not covered" >d</span>oc.scrollTop=this.scrollTop;<span class="cstat-no" title="statement not covered" >d</span>oc.scrollLeft=this.scrollLeft;<span class="cstat-no" title="statement not covered" >d</span>oc.sel=this.sel;<span class="cstat-no" title="statement not covered" >d</span>oc.extend=false;<span class="cstat-no" title="statement not covered" >i</span>f(copyHistory){<span class="cstat-no" title="statement not covered" >doc.history.undoDepth=this.history.undoDepth;<span class="cstat-no" title="statement not covered" >d</span>oc.setHistory(this.getHistory());}</span></span>
<span class="cstat-no" title="statement not covered" >return doc;}</span>,linkedDoc:<span class="fstat-no" title="function not covered" >function(options){<span class="cstat-no" title="statement not covered" ></span>if(!options)<span class="cstat-no" title="statement not covered" >options={};<span class="cstat-no" title="statement not covered" >v</span></span>ar from=this.first,to=this.first+this.size;<span class="cstat-no" title="statement not covered" >i</span>f(options.from!=null&amp;&amp;options.from&gt;from)<span class="cstat-no" title="statement not covered" >from=options.from;<span class="cstat-no" title="statement not covered" >i</span></span>f(options.to!=null&amp;&amp;options.to&lt;to)<span class="cstat-no" title="statement not covered" >to=options.to;<span class="cstat-no" title="statement not covered" >v</span></span>ar copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from);<span class="cstat-no" title="statement not covered" >i</span>f(options.sharedHist)<span class="cstat-no" title="statement not covered" >copy.history=this.history;<span class="cstat-no" title="statement not covered" >(</span></span>this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});<span class="cstat-no" title="statement not covered" >c</span>opy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];<span class="cstat-no" title="statement not covered" >c</span>opySharedMarkers(copy,findSharedMarkers(this));<span class="cstat-no" title="statement not covered" >r</span>eturn copy;}</span>,unlinkDoc:<span class="fstat-no" title="function not covered" >function(other){<span class="cstat-no" title="statement not covered" ></span>if(other instanceof CodeMirror)<span class="cstat-no" title="statement not covered" >other=other.doc;<span class="cstat-no" title="statement not covered" >i</span></span>f(this.linked)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;this.linked.length;++i){<span class="cstat-no" title="statement not covered" >var link=this.linked[i];<span class="cstat-no" title="statement not covered" >i</span>f(link.doc!=other)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >t</span></span>his.linked.splice(i,1);<span class="cstat-no" title="statement not covered" >o</span>ther.unlinkDoc(this);<span class="cstat-no" title="statement not covered" >d</span>etachSharedMarkers(findSharedMarkers(this));<span class="cstat-no" title="statement not covered" >b</span>reak;}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(other.history==this.history){<span class="cstat-no" title="statement not covered" >var splitIds=[other.id];<span class="cstat-no" title="statement not covered" >l</span>inkedDocs(other,<span class="fstat-no" title="function not covered" >function(doc){<span class="cstat-no" title="statement not covered" ></span>splitIds.push(doc.id);}</span>,true);<span class="cstat-no" title="statement not covered" >o</span>ther.history=new History(null);<span class="cstat-no" title="statement not covered" >o</span>ther.history.done=copyHistoryArray(this.history.done,splitIds);<span class="cstat-no" title="statement not covered" >o</span>ther.history.undone=copyHistoryArray(this.history.undone,splitIds);}</span>}</span>,iterLinkedDocs:<span class="fstat-no" title="function not covered" >function(f){<span class="cstat-no" title="statement not covered" ></span>linkedDocs(this,f);}</span>,getMode:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.mode;}</span>,getEditor:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return this.cm;}</span>});<span class="cstat-no" title="statement not covered" >Doc.prototype.eachLine=Doc.prototype.iter;<span class="cstat-no" title="statement not covered" >v</span>ar dontDelegate="iter insert remove copy getEditor".split(" ");<span class="cstat-no" title="statement not covered" >f</span>or(var prop in Doc.prototype)<span class="cstat-no" title="statement not covered" >if(Doc.prototype.hasOwnProperty(prop)&amp;&amp;indexOf(dontDelegate,prop)&lt;0)</span></span>
<span class="cstat-no" title="statement not covered" >CodeMirror.prototype[prop]=(<span class="fstat-no" title="function not covered" >function(method){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return method.apply(this.doc,arguments);}</span>;}</span>)(Doc.prototype[prop]);<span class="cstat-no" title="statement not covered" >e</span>ventMixin(Doc);<span class="fstat-no" title="function not covered" >f</span>unction linkedDocs(doc,f,sharedHistOnly){<span class="fstat-no" title="function not covered" ></span>function propagate(doc,skip,sharedHist){<span class="cstat-no" title="statement not covered" ></span>if(doc.linked)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;doc.linked.length;++i){<span class="cstat-no" title="statement not covered" >var rel=doc.linked[i];<span class="cstat-no" title="statement not covered" >i</span>f(rel.doc==skip)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >v</span></span>ar shared=sharedHist&amp;&amp;rel.sharedHist;<span class="cstat-no" title="statement not covered" >i</span>f(sharedHistOnly&amp;&amp;!shared)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >f</span></span>(rel.doc,shared);<span class="cstat-no" title="statement not covered" >p</span>ropagate(rel.doc,doc,shared);}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >propagate(doc,null,true);}</span>
<span class="fstat-no" title="function not covered" >function attachDoc(cm,doc){<span class="cstat-no" title="statement not covered" ></span>if(doc.cm)<span class="cstat-no" title="statement not covered" >throw new Error("This document is already in use.");<span class="cstat-no" title="statement not covered" >c</span></span>m.doc=doc;<span class="cstat-no" title="statement not covered" >d</span>oc.cm=cm;<span class="cstat-no" title="statement not covered" >e</span>stimateLineHeights(cm);<span class="cstat-no" title="statement not covered" >l</span>oadMode(cm);<span class="cstat-no" title="statement not covered" >i</span>f(!cm.options.lineWrapping)<span class="cstat-no" title="statement not covered" >findMaxLine(cm);<span class="cstat-no" title="statement not covered" >c</span></span>m.options.mode=doc.modeOption;<span class="cstat-no" title="statement not covered" >r</span>egChange(cm);}</span>
<span class="fstat-no" title="function not covered" >function getLine(doc,n){<span class="cstat-no" title="statement not covered" ></span>n-=doc.first;<span class="cstat-no" title="statement not covered" >i</span>f(n&lt;0||n&gt;=doc.size)<span class="cstat-no" title="statement not covered" >throw new Error("There is no line "+(n+doc.first)+" in the document.");<span class="cstat-no" title="statement not covered" >f</span></span>or(var chunk=doc;!chunk.lines;){<span class="cstat-no" title="statement not covered" >for(var i=0;;++i){<span class="cstat-no" title="statement not covered" >var child=chunk.children[i],sz=child.chunkSize();<span class="cstat-no" title="statement not covered" >i</span>f(n&lt;sz){<span class="cstat-no" title="statement not covered" >chunk=child;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >n-=sz;}</span>}
<span class="cstat-no" title="statement not covered" >return chunk.lines[n];}</span>
<span class="fstat-no" title="function not covered" >function getBetween(doc,start,end){<span class="cstat-no" title="statement not covered" ></span>var out=[],n=start.line;<span class="cstat-no" title="statement not covered" >d</span>oc.iter(start.line,end.line+1,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>var text=line.text;<span class="cstat-no" title="statement not covered" >i</span>f(n==end.line)<span class="cstat-no" title="statement not covered" >text=text.slice(0,end.ch);<span class="cstat-no" title="statement not covered" >i</span></span>f(n==start.line)<span class="cstat-no" title="statement not covered" >text=text.slice(start.ch);<span class="cstat-no" title="statement not covered" >o</span></span>ut.push(text);<span class="cstat-no" title="statement not covered" >+</span>+n;}</span>);<span class="cstat-no" title="statement not covered" >r</span>eturn out;}</span>
<span class="fstat-no" title="function not covered" >function getLines(doc,from,to){<span class="cstat-no" title="statement not covered" ></span>var out=[];<span class="cstat-no" title="statement not covered" >d</span>oc.iter(from,to,<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>out.push(line.text);}</span>);<span class="cstat-no" title="statement not covered" >r</span>eturn out;}</span>
<span class="fstat-no" title="function not covered" >function updateLineHeight(line,height){<span class="cstat-no" title="statement not covered" ></span>var diff=height-line.height;<span class="cstat-no" title="statement not covered" >i</span>f(diff)<span class="cstat-no" title="statement not covered" >for(var n=line;n;n=n.parent)<span class="cstat-no" title="statement not covered" >n.height+=diff;}</span></span></span>
<span class="fstat-no" title="function not covered" >function lineNo(line){<span class="cstat-no" title="statement not covered" ></span>if(line.parent==null)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar cur=line.parent,no=indexOf(cur.lines,line);<span class="cstat-no" title="statement not covered" >f</span>or(var chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){<span class="cstat-no" title="statement not covered" >for(var i=0;;++i){<span class="cstat-no" title="statement not covered" >if(chunk.children[i]==cur)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >n</span></span>o+=chunk.children[i].chunkSize();}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >return no+cur.first;}</span>
<span class="fstat-no" title="function not covered" >function lineAtHeight(chunk,h){<span class="cstat-no" title="statement not covered" ></span>var n=chunk.first;<span class="cstat-no" title="statement not covered" >o</span>uter:<span class="cstat-no" title="statement not covered" >do{<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;chunk.children.length;++i){<span class="cstat-no" title="statement not covered" >var child=chunk.children[i],ch=child.height;<span class="cstat-no" title="statement not covered" >i</span>f(h&lt;ch){<span class="cstat-no" title="statement not covered" >chunk=child;<span class="cstat-no" title="statement not covered" >c</span>ontinue outer;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >h-=ch;<span class="cstat-no" title="statement not covered" >n</span>+=child.chunkSize();}</span>
<span class="cstat-no" title="statement not covered" >return n;}</span>while(!chunk.lines);<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;chunk.lines.length;++i){<span class="cstat-no" title="statement not covered" >var line=chunk.lines[i],lh=line.height;<span class="cstat-no" title="statement not covered" >i</span>f(h&lt;lh)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >h</span></span>-=lh;}</span></span>
<span class="cstat-no" title="statement not covered" >return n+i;}</span>
<span class="fstat-no" title="function not covered" >function heightAtLine(lineObj){<span class="cstat-no" title="statement not covered" ></span>lineObj=visualLine(lineObj);<span class="cstat-no" title="statement not covered" >v</span>ar h=0,chunk=lineObj.parent;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;chunk.lines.length;++i){<span class="cstat-no" title="statement not covered" >var line=chunk.lines[i];<span class="cstat-no" title="statement not covered" >i</span>f(line==lineObj)<span class="cstat-no" title="statement not covered" >break;e</span>lse <span class="cstat-no" title="statement not covered" >h+=line.height;}</span></span></span>
<span class="cstat-no" title="statement not covered" >for(var p=chunk.parent;p;chunk=p,p=chunk.parent){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;p.children.length;++i){<span class="cstat-no" title="statement not covered" >var cur=p.children[i];<span class="cstat-no" title="statement not covered" >i</span>f(cur==chunk)<span class="cstat-no" title="statement not covered" >break;e</span>lse <span class="cstat-no" title="statement not covered" >h+=cur.height;}</span></span>}</span></span>
<span class="cstat-no" title="statement not covered" >return h;}</span>
<span class="fstat-no" title="function not covered" >function getOrder(line){<span class="cstat-no" title="statement not covered" ></span>var order=line.order;<span class="cstat-no" title="statement not covered" >i</span>f(order==null)<span class="cstat-no" title="statement not covered" >order=line.order=bidiOrdering(line.text);<span class="cstat-no" title="statement not covered" >r</span></span>eturn order;}</span>
<span class="fstat-no" title="function not covered" >function History(startGen){<span class="cstat-no" title="statement not covered" ></span>this.done=[];<span class="cstat-no" title="statement not covered" >t</span>his.undone=[];<span class="cstat-no" title="statement not covered" >t</span>his.undoDepth=Infinity;<span class="cstat-no" title="statement not covered" >t</span>his.lastModTime=this.lastSelTime=0;<span class="cstat-no" title="statement not covered" >t</span>his.lastOp=this.lastSelOp=null;<span class="cstat-no" title="statement not covered" >t</span>his.lastOrigin=this.lastSelOrigin=null;<span class="cstat-no" title="statement not covered" >t</span>his.generation=this.maxGeneration=startGen||1;}</span>
<span class="fstat-no" title="function not covered" >function historyChangeFromChange(doc,change){<span class="cstat-no" title="statement not covered" ></span>var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};<span class="cstat-no" title="statement not covered" >a</span>ttachLocalSpans(doc,histChange,change.from.line,change.to.line+1);<span class="cstat-no" title="statement not covered" >l</span>inkedDocs(doc,<span class="fstat-no" title="function not covered" >function(doc){<span class="cstat-no" title="statement not covered" ></span>attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);}</span>,true);<span class="cstat-no" title="statement not covered" >r</span>eturn histChange;}</span>
<span class="fstat-no" title="function not covered" >function clearSelectionEvents(array){<span class="cstat-no" title="statement not covered" ></span>while(array.length){<span class="cstat-no" title="statement not covered" >var last=lst(array);<span class="cstat-no" title="statement not covered" >i</span>f(last.ranges)<span class="cstat-no" title="statement not covered" >array.pop();e</span>lse <span class="cstat-no" title="statement not covered" >break;}</span></span>}</span>
<span class="fstat-no" title="function not covered" >function lastChangeEvent(hist,force){<span class="cstat-no" title="statement not covered" ></span>if(force){<span class="cstat-no" title="statement not covered" >clearSelectionEvents(hist.done);<span class="cstat-no" title="statement not covered" >r</span>eturn lst(hist.done);}</span>else <span class="cstat-no" title="statement not covered" >if(hist.done.length&amp;&amp;!lst(hist.done).ranges){<span class="cstat-no" title="statement not covered" >return lst(hist.done);}</span>else <span class="cstat-no" title="statement not covered" >if(hist.done.length&gt;1&amp;&amp;!hist.done[hist.done.length-2].ranges){<span class="cstat-no" title="statement not covered" >hist.done.pop();<span class="cstat-no" title="statement not covered" >r</span>eturn lst(hist.done);}</span>}</span></span></span>
<span class="fstat-no" title="function not covered" >function addChangeToHistory(doc,change,selAfter,opId){<span class="cstat-no" title="statement not covered" ></span>var hist=doc.history;<span class="cstat-no" title="statement not covered" >h</span>ist.undone.length=0;<span class="cstat-no" title="statement not covered" >v</span>ar time=+new Date,cur;<span class="cstat-no" title="statement not covered" >i</span>f((hist.lastOp==opId||hist.lastOrigin==change.origin&amp;&amp;change.origin&amp;&amp;((change.origin.charAt(0)=="+"&amp;&amp;doc.cm&amp;&amp;hist.lastModTime&gt;time-doc.cm.options.historyEventDelay)||change.origin.charAt(0)=="*"))&amp;&amp;(cur=lastChangeEvent(hist,hist.lastOp==opId))){<span class="cstat-no" title="statement not covered" >var last=lst(cur.changes);<span class="cstat-no" title="statement not covered" >i</span>f(cmp(change.from,change.to)==0&amp;&amp;cmp(change.from,last.to)==0){<span class="cstat-no" title="statement not covered" >last.to=changeEnd(change);}</span>else{<span class="cstat-no" title="statement not covered" >cur.changes.push(historyChangeFromChange(doc,change));}</span>}</span>else{<span class="cstat-no" title="statement not covered" >var before=lst(hist.done);<span class="cstat-no" title="statement not covered" >i</span>f(!before||!before.ranges)</span></span>
<span class="cstat-no" title="statement not covered" >pushSelectionToHistory(doc.sel,hist.done);<span class="cstat-no" title="statement not covered" >c</span>ur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};<span class="cstat-no" title="statement not covered" >h</span>ist.done.push(cur);<span class="cstat-no" title="statement not covered" >w</span>hile(hist.done.length&gt;hist.undoDepth){<span class="cstat-no" title="statement not covered" >hist.done.shift();<span class="cstat-no" title="statement not covered" >i</span>f(!hist.done[0].ranges)<span class="cstat-no" title="statement not covered" >hist.done.shift();}</span></span>}</span>
<span class="cstat-no" title="statement not covered" >hist.done.push(selAfter);<span class="cstat-no" title="statement not covered" >h</span>ist.generation=++hist.maxGeneration;<span class="cstat-no" title="statement not covered" >h</span>ist.lastModTime=hist.lastSelTime=time;<span class="cstat-no" title="statement not covered" >h</span>ist.lastOp=hist.lastSelOp=opId;<span class="cstat-no" title="statement not covered" >h</span>ist.lastOrigin=hist.lastSelOrigin=change.origin;<span class="cstat-no" title="statement not covered" >i</span>f(!last)<span class="cstat-no" title="statement not covered" >signal(doc,"historyAdded");}</span></span>
<span class="fstat-no" title="function not covered" >function selectionEventCanBeMerged(doc,origin,prev,sel){<span class="cstat-no" title="statement not covered" ></span>var ch=origin.charAt(0);<span class="cstat-no" title="statement not covered" >r</span>eturn ch=="*"||ch=="+"&amp;&amp;prev.ranges.length==sel.ranges.length&amp;&amp;prev.somethingSelected()==sel.somethingSelected()&amp;&amp;new Date-doc.history.lastSelTime&lt;=(doc.cm?doc.cm.options.historyEventDelay:500);}</span>
<span class="fstat-no" title="function not covered" >function addSelectionToHistory(doc,sel,opId,options){<span class="cstat-no" title="statement not covered" ></span>var hist=doc.history,origin=options&amp;&amp;options.origin;<span class="cstat-no" title="statement not covered" >i</span>f(opId==hist.lastSelOp||(origin&amp;&amp;hist.lastSelOrigin==origin&amp;&amp;(hist.lastModTime==hist.lastSelTime&amp;&amp;hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))))</span>
<span class="cstat-no" title="statement not covered" >hist.done[hist.done.length-1]=sel;e</span>lse
<span class="cstat-no" title="statement not covered" >pushSelectionToHistory(sel,hist.done);<span class="cstat-no" title="statement not covered" >h</span>ist.lastSelTime=+new Date;<span class="cstat-no" title="statement not covered" >h</span>ist.lastSelOrigin=origin;<span class="cstat-no" title="statement not covered" >h</span>ist.lastSelOp=opId;<span class="cstat-no" title="statement not covered" >i</span>f(options&amp;&amp;options.clearRedo!==false)</span>
<span class="cstat-no" title="statement not covered" >clearSelectionEvents(hist.undone);}</span>
<span class="fstat-no" title="function not covered" >function pushSelectionToHistory(sel,dest){<span class="cstat-no" title="statement not covered" ></span>var top=lst(dest);<span class="cstat-no" title="statement not covered" >i</span>f(!(top&amp;&amp;top.ranges&amp;&amp;top.equals(sel)))</span>
<span class="cstat-no" title="statement not covered" >dest.push(sel);}</span>
<span class="fstat-no" title="function not covered" >function attachLocalSpans(doc,change,from,to){<span class="cstat-no" title="statement not covered" ></span>var existing=change["spans_"+doc.id],n=0;<span class="cstat-no" title="statement not covered" >d</span>oc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),<span class="fstat-no" title="function not covered" >function(line){<span class="cstat-no" title="statement not covered" ></span>if(line.markedSpans)</span></span>
<span class="cstat-no" title="statement not covered" >(existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans;<span class="cstat-no" title="statement not covered" >+</span>+n;}</span>);}
<span class="fstat-no" title="function not covered" >function removeClearedSpans(spans){<span class="cstat-no" title="statement not covered" ></span>if(!spans)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0,out;i&lt;spans.length;++i){<span class="cstat-no" title="statement not covered" >if(spans[i].marker.explicitlyCleared){<span class="cstat-no" title="statement not covered" >if(!out)<span class="cstat-no" title="statement not covered" >out=spans.slice(0,i);}</span></span></span></span>
else <span class="cstat-no" title="statement not covered" >if(out)<span class="cstat-no" title="statement not covered" >out.push(spans[i]);}</span></span>
<span class="cstat-no" title="statement not covered" >return!out?spans:out.length?out:null;}</span>
<span class="fstat-no" title="function not covered" >function getOldSpans(doc,change){<span class="cstat-no" title="statement not covered" ></span>var found=change["spans_"+doc.id];<span class="cstat-no" title="statement not covered" >i</span>f(!found)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0,nw=[];i&lt;change.text.length;++i)</span>
<span class="cstat-no" title="statement not covered" >nw.push(removeClearedSpans(found[i]));<span class="cstat-no" title="statement not covered" >r</span>eturn nw;}</span>
<span class="fstat-no" title="function not covered" >function copyHistoryArray(events,newGroup,instantiateSel){<span class="cstat-no" title="statement not covered" ></span>for(var i=0,copy=[];i&lt;events.length;++i){<span class="cstat-no" title="statement not covered" >var event=events[i];<span class="cstat-no" title="statement not covered" >i</span>f(event.ranges){<span class="cstat-no" title="statement not covered" >copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);<span class="cstat-no" title="statement not covered" >c</span>ontinue;}</span></span></span>
<span class="cstat-no" title="statement not covered" >var changes=event.changes,newChanges=[];<span class="cstat-no" title="statement not covered" >c</span>opy.push({changes:newChanges});<span class="cstat-no" title="statement not covered" >f</span>or(var j=0;j&lt;changes.length;++j){<span class="cstat-no" title="statement not covered" >var change=changes[j],m;<span class="cstat-no" title="statement not covered" >n</span>ewChanges.push({from:change.from,to:change.to,text:change.text});<span class="cstat-no" title="statement not covered" >i</span>f(newGroup)<span class="cstat-no" title="statement not covered" >for(var prop in change)<span class="cstat-no" title="statement not covered" >if(m=prop.match(/^spans_(\d+)$/)){<span class="cstat-no" title="statement not covered" >if(indexOf(newGroup,Number(m[1]))&gt;-1){<span class="cstat-no" title="statement not covered" >lst(newChanges)[prop]=change[prop];<span class="cstat-no" title="statement not covered" >d</span>elete change[prop];}</span>}</span>}</span></span></span>}</span>
<span class="cstat-no" title="statement not covered" >return copy;}</span>
<span class="fstat-no" title="function not covered" >function rebaseHistSelSingle(pos,from,to,diff){<span class="cstat-no" title="statement not covered" ></span>if(to&lt;pos.line){<span class="cstat-no" title="statement not covered" >pos.line+=diff;}</span>else <span class="cstat-no" title="statement not covered" >if(from&lt;pos.line){<span class="cstat-no" title="statement not covered" >pos.line=from;<span class="cstat-no" title="statement not covered" >p</span>os.ch=0;}</span>}</span></span>
<span class="fstat-no" title="function not covered" >function rebaseHistArray(array,from,to,diff){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;array.length;++i){<span class="cstat-no" title="statement not covered" >var sub=array[i],ok=true;<span class="cstat-no" title="statement not covered" >i</span>f(sub.ranges){<span class="cstat-no" title="statement not covered" >if(!sub.copied){<span class="cstat-no" title="statement not covered" >sub=array[i]=sub.deepCopy();<span class="cstat-no" title="statement not covered" >s</span>ub.copied=true;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >for(var j=0;j&lt;sub.ranges.length;j++){<span class="cstat-no" title="statement not covered" >rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);<span class="cstat-no" title="statement not covered" >r</span>ebaseHistSelSingle(sub.ranges[j].head,from,to,diff);}</span></span>
<span class="cstat-no" title="statement not covered" >continue;}</span>
<span class="cstat-no" title="statement not covered" >for(var j=0;j&lt;sub.changes.length;++j){<span class="cstat-no" title="statement not covered" >var cur=sub.changes[j];<span class="cstat-no" title="statement not covered" >i</span>f(to&lt;cur.from.line){<span class="cstat-no" title="statement not covered" >cur.from=Pos(cur.from.line+diff,cur.from.ch);<span class="cstat-no" title="statement not covered" >c</span>ur.to=Pos(cur.to.line+diff,cur.to.ch);}</span>else <span class="cstat-no" title="statement not covered" >if(from&lt;=cur.to.line){<span class="cstat-no" title="statement not covered" >ok=false;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(!ok){<span class="cstat-no" title="statement not covered" >array.splice(0,i+1);<span class="cstat-no" title="statement not covered" >i</span>=0;}</span>}</span>}
<span class="fstat-no" title="function not covered" >function rebaseHist(hist,change){<span class="cstat-no" title="statement not covered" ></span>var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;<span class="cstat-no" title="statement not covered" >r</span>ebaseHistArray(hist.done,from,to,diff);<span class="cstat-no" title="statement not covered" >r</span>ebaseHistArray(hist.undone,from,to,diff);}</span>
<span class="cstat-no" title="statement not covered" >var e_preventDefault=CodeMirror.e_preventDefault=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>if(e.preventDefault)<span class="cstat-no" title="statement not covered" >e.preventDefault();e</span>lse <span class="cstat-no" title="statement not covered" >e.returnValue=false;}</span></span>;<span class="cstat-no" title="statement not covered" >v</span>ar e_stopPropagation=CodeMirror.e_stopPropagation=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>if(e.stopPropagation)<span class="cstat-no" title="statement not covered" >e.stopPropagation();e</span>lse <span class="cstat-no" title="statement not covered" >e.cancelBubble=true;}</span></span>;<span class="fstat-no" title="function not covered" >f</span>unction e_defaultPrevented(e){<span class="cstat-no" title="statement not covered" ></span>return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false;}</span>
<span class="cstat-no" title="statement not covered" >var e_stop=CodeMirror.e_stop=<span class="fstat-no" title="function not covered" >function(e){<span class="cstat-no" title="statement not covered" ></span>e_preventDefault(e);<span class="cstat-no" title="statement not covered" >e</span>_stopPropagation(e);}</span>;<span class="fstat-no" title="function not covered" >f</span>unction e_target(e){<span class="cstat-no" title="statement not covered" ></span>return e.target||e.srcElement;}</span>
<span class="fstat-no" title="function not covered" >function e_button(e){<span class="cstat-no" title="statement not covered" ></span>var b=e.which;<span class="cstat-no" title="statement not covered" >i</span>f(b==null){<span class="cstat-no" title="statement not covered" >if(e.button&amp;1)<span class="cstat-no" title="statement not covered" >b=1;e</span>lse <span class="cstat-no" title="statement not covered" >if(e.button&amp;2)<span class="cstat-no" title="statement not covered" >b=3;e</span>lse <span class="cstat-no" title="statement not covered" >if(e.button&amp;4)<span class="cstat-no" title="statement not covered" >b=2;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(mac&amp;&amp;e.ctrlKey&amp;&amp;b==1)<span class="cstat-no" title="statement not covered" >b=3;<span class="cstat-no" title="statement not covered" >r</span></span>eturn b;}</span>
<span class="cstat-no" title="statement not covered" >var on=CodeMirror.on=<span class="fstat-no" title="function not covered" >function(emitter,type,f){<span class="cstat-no" title="statement not covered" ></span>if(emitter.addEventListener)</span></span>
<span class="cstat-no" title="statement not covered" >emitter.addEventListener(type,f,false);e</span>lse <span class="cstat-no" title="statement not covered" >if(emitter.attachEvent)</span>
<span class="cstat-no" title="statement not covered" >emitter.attachEvent("on"+type,f);e</span>lse{<span class="cstat-no" title="statement not covered" >var map=emitter._handlers||(emitter._handlers={});<span class="cstat-no" title="statement not covered" >v</span>ar arr=map[type]||(map[type]=[]);<span class="cstat-no" title="statement not covered" >a</span>rr.push(f);}</span>};<span class="cstat-no" title="statement not covered" >var off=CodeMirror.off=<span class="fstat-no" title="function not covered" >function(emitter,type,f){<span class="cstat-no" title="statement not covered" ></span>if(emitter.removeEventListener)</span></span>
<span class="cstat-no" title="statement not covered" >emitter.removeEventListener(type,f,false);e</span>lse <span class="cstat-no" title="statement not covered" >if(emitter.detachEvent)</span>
<span class="cstat-no" title="statement not covered" >emitter.detachEvent("on"+type,f);e</span>lse{<span class="cstat-no" title="statement not covered" >var arr=emitter._handlers&amp;&amp;emitter._handlers[type];<span class="cstat-no" title="statement not covered" >i</span>f(!arr)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0;i&lt;arr.length;++i)</span>
<span class="cstat-no" title="statement not covered" >if(arr[i]==f){<span class="cstat-no" title="statement not covered" >arr.splice(i,1);<span class="cstat-no" title="statement not covered" >b</span>reak;}</span>}</span>};<span class="cstat-no" title="statement not covered" >var signal=CodeMirror.signal=<span class="fstat-no" title="function not covered" >function(emitter,type){<span class="cstat-no" title="statement not covered" ></span>var arr=emitter._handlers&amp;&amp;emitter._handlers[type];<span class="cstat-no" title="statement not covered" >i</span>f(!arr)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar args=Array.prototype.slice.call(arguments,2);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;arr.length;++i)<span class="cstat-no" title="statement not covered" >arr[i].apply(null,args);}</span></span>;<span class="cstat-no" title="statement not covered" >v</span>ar orphanDelayedCallbacks=null;<span class="fstat-no" title="function not covered" >f</span>unction signalLater(emitter,type){<span class="cstat-no" title="statement not covered" ></span>var arr=emitter._handlers&amp;&amp;emitter._handlers[type];<span class="cstat-no" title="statement not covered" >i</span>f(!arr)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar args=Array.prototype.slice.call(arguments,2),list;<span class="cstat-no" title="statement not covered" >i</span>f(operationGroup){<span class="cstat-no" title="statement not covered" >list=operationGroup.delayedCallbacks;}</span>else <span class="cstat-no" title="statement not covered" >if(orphanDelayedCallbacks){<span class="cstat-no" title="statement not covered" >list=orphanDelayedCallbacks;}</span>else{<span class="cstat-no" title="statement not covered" >list=orphanDelayedCallbacks=[];<span class="cstat-no" title="statement not covered" >s</span>etTimeout(fireOrphanDelayed,0);}</span></span></span>
<span class="fstat-no" title="function not covered" >function bnd(f){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>f.apply(null,args);}</span>;}</span>;<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;arr.length;++i)</span>
<span class="cstat-no" title="statement not covered" >list.push(bnd(arr[i]));}</span>
<span class="fstat-no" title="function not covered" >function fireOrphanDelayed(){<span class="cstat-no" title="statement not covered" ></span>var delayed=orphanDelayedCallbacks;<span class="cstat-no" title="statement not covered" >o</span>rphanDelayedCallbacks=null;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;delayed.length;++i)<span class="cstat-no" title="statement not covered" >delayed[i]();}</span></span>
<span class="fstat-no" title="function not covered" >function signalDOMEvent(cm,e,override){<span class="cstat-no" title="statement not covered" ></span>if(typeof e=="string")</span>
<span class="cstat-no" title="statement not covered" >e={type:e,preventDefault:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>this.defaultPrevented=true;}</span>};<span class="cstat-no" title="statement not covered" >s</span>ignal(cm,override||e.type,cm,e);<span class="cstat-no" title="statement not covered" >r</span>eturn e_defaultPrevented(e)||e.codemirrorIgnore;}</span>
<span class="fstat-no" title="function not covered" >function signalCursorActivity(cm){<span class="cstat-no" title="statement not covered" ></span>var arr=cm._handlers&amp;&amp;cm._handlers.cursorActivity;<span class="cstat-no" title="statement not covered" >i</span>f(!arr)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;arr.length;++i)<span class="cstat-no" title="statement not covered" >if(indexOf(set,arr[i])==-1)</span></span>
<span class="cstat-no" title="statement not covered" >set.push(arr[i]);}</span>
<span class="fstat-no" title="function not covered" >function hasHandler(emitter,type){<span class="cstat-no" title="statement not covered" ></span>var arr=emitter._handlers&amp;&amp;emitter._handlers[type];<span class="cstat-no" title="statement not covered" >r</span>eturn arr&amp;&amp;arr.length&gt;0;}</span>
<span class="fstat-no" title="function not covered" >function eventMixin(ctor){<span class="cstat-no" title="statement not covered" ></span>ctor.prototype.on=<span class="fstat-no" title="function not covered" >function(type,f){<span class="cstat-no" title="statement not covered" ></span>on(this,type,f);}</span>;<span class="cstat-no" title="statement not covered" >c</span>tor.prototype.off=<span class="fstat-no" title="function not covered" >function(type,f){<span class="cstat-no" title="statement not covered" ></span>off(this,type,f);}</span>;}</span>
<span class="cstat-no" title="statement not covered" >var scrollerGap=30;<span class="cstat-no" title="statement not covered" >v</span>ar Pass=CodeMirror.Pass={toString:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return"CodeMirror.Pass";}</span>};<span class="cstat-no" title="statement not covered" >v</span>ar sel_dontScroll={scroll:false},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"};<span class="fstat-no" title="function not covered" >f</span>unction Delayed(){<span class="cstat-no" title="statement not covered" ></span>this.id=null;}</span>
<span class="cstat-no" title="statement not covered" >Delayed.prototype.set=<span class="fstat-no" title="function not covered" >function(ms,f){<span class="cstat-no" title="statement not covered" ></span>clearTimeout(this.id);<span class="cstat-no" title="statement not covered" >t</span>his.id=setTimeout(f,ms);}</span>;<span class="cstat-no" title="statement not covered" >v</span>ar countColumn=CodeMirror.countColumn=<span class="fstat-no" title="function not covered" >function(string,end,tabSize,startIndex,startValue){<span class="cstat-no" title="statement not covered" ></span>if(end==null){<span class="cstat-no" title="statement not covered" >end=string.search(/[^\s\u00a0]/);<span class="cstat-no" title="statement not covered" >i</span>f(end==-1)<span class="cstat-no" title="statement not covered" >end=string.length;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >for(var i=startIndex||0,n=startValue||0;;){<span class="cstat-no" title="statement not covered" >var nextTab=string.indexOf("\t",i);<span class="cstat-no" title="statement not covered" >i</span>f(nextTab&lt;0||nextTab&gt;=end)</span></span>
<span class="cstat-no" title="statement not covered" >return n+(end-i);<span class="cstat-no" title="statement not covered" >n</span>+=nextTab-i;<span class="cstat-no" title="statement not covered" >n</span>+=tabSize-(n%tabSize);<span class="cstat-no" title="statement not covered" >i</span>=nextTab+1;}</span>};<span class="fstat-no" title="function not covered" >function findColumn(string,goal,tabSize){<span class="cstat-no" title="statement not covered" ></span>for(var pos=0,col=0;;){<span class="cstat-no" title="statement not covered" >var nextTab=string.indexOf("\t",pos);<span class="cstat-no" title="statement not covered" >i</span>f(nextTab==-1)<span class="cstat-no" title="statement not covered" >nextTab=string.length;<span class="cstat-no" title="statement not covered" >v</span></span>ar skipped=nextTab-pos;<span class="cstat-no" title="statement not covered" >i</span>f(nextTab==string.length||col+skipped&gt;=goal)</span></span>
<span class="cstat-no" title="statement not covered" >return pos+Math.min(skipped,goal-col);<span class="cstat-no" title="statement not covered" >c</span>ol+=nextTab-pos;<span class="cstat-no" title="statement not covered" >c</span>ol+=tabSize-(col%tabSize);<span class="cstat-no" title="statement not covered" >p</span>os=nextTab+1;<span class="cstat-no" title="statement not covered" >i</span>f(col&gt;=goal)<span class="cstat-no" title="statement not covered" >return pos;}</span></span>}
<span class="cstat-no" title="statement not covered" >var spaceStrs=[""];<span class="fstat-no" title="function not covered" >f</span>unction spaceStr(n){<span class="cstat-no" title="statement not covered" ></span>while(spaceStrs.length&lt;=n)</span>
<span class="cstat-no" title="statement not covered" >spaceStrs.push(lst(spaceStrs)+" ");<span class="cstat-no" title="statement not covered" >r</span>eturn spaceStrs[n];}</span>
<span class="fstat-no" title="function not covered" >function lst(arr){<span class="cstat-no" title="statement not covered" ></span>return arr[arr.length-1];}</span>
<span class="cstat-no" title="statement not covered" >var selectInput=<span class="fstat-no" title="function not covered" >function(node){<span class="cstat-no" title="statement not covered" ></span>node.select();}</span>;<span class="cstat-no" title="statement not covered" >i</span>f(ios)</span>
<span class="cstat-no" title="statement not covered" >selectInput=<span class="fstat-no" title="function not covered" >function(node){<span class="cstat-no" title="statement not covered" ></span>node.selectionStart=0;<span class="cstat-no" title="statement not covered" >n</span>ode.selectionEnd=node.value.length;}</span>;e</span>lse <span class="cstat-no" title="statement not covered" >if(ie)</span>
<span class="cstat-no" title="statement not covered" >selectInput=<span class="fstat-no" title="function not covered" >function(node){<span class="cstat-no" title="statement not covered" ></span>try{<span class="cstat-no" title="statement not covered" >node.select();}</span>catch(_e){}}</span>;<span class="fstat-no" title="function not covered" >f</span>unction indexOf(array,elt){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;array.length;++i)</span>
<span class="cstat-no" title="statement not covered" >if(array[i]==elt)<span class="cstat-no" title="statement not covered" >return i;<span class="cstat-no" title="statement not covered" >r</span></span>eturn-1;}</span>
<span class="fstat-no" title="function not covered" >function map(array,f){<span class="cstat-no" title="statement not covered" ></span>var out=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;array.length;i++)<span class="cstat-no" title="statement not covered" >out[i]=f(array[i],i);<span class="cstat-no" title="statement not covered" >r</span></span>eturn out;}</span>
<span class="fstat-no" title="function not covered" >function createObj(base,props){<span class="cstat-no" title="statement not covered" ></span>var inst;<span class="cstat-no" title="statement not covered" >i</span>f(Object.create){<span class="cstat-no" title="statement not covered" >inst=Object.create(base);}</span>else{<span class="cstat-no" title="statement not covered" >var ctor=<span class="fstat-no" title="function not covered" >function(){</span>};<span class="cstat-no" title="statement not covered" >c</span>tor.prototype=base;<span class="cstat-no" title="statement not covered" >i</span>nst=new ctor();}</span></span>
<span class="cstat-no" title="statement not covered" >if(props)<span class="cstat-no" title="statement not covered" >copyObj(props,inst);<span class="cstat-no" title="statement not covered" >r</span></span>eturn inst;}</span>;<span class="fstat-no" title="function not covered" >function copyObj(obj,target,overwrite){<span class="cstat-no" title="statement not covered" ></span>if(!target)<span class="cstat-no" title="statement not covered" >target={};<span class="cstat-no" title="statement not covered" >f</span></span>or(var prop in obj)</span>
<span class="cstat-no" title="statement not covered" >if(obj.hasOwnProperty(prop)&amp;&amp;(overwrite!==false||!target.hasOwnProperty(prop)))</span>
<span class="cstat-no" title="statement not covered" >target[prop]=obj[prop];<span class="cstat-no" title="statement not covered" >r</span>eturn target;}</span>
<span class="fstat-no" title="function not covered" >function bind(f){<span class="cstat-no" title="statement not covered" ></span>var args=Array.prototype.slice.call(arguments,1);<span class="cstat-no" title="statement not covered" >r</span>eturn <span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return f.apply(null,args);}</span>;}</span>
<span class="cstat-no" title="statement not covered" >var nonASCIISingleCaseWordChar=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;<span class="cstat-no" title="statement not covered" >v</span>ar isWordCharBasic=CodeMirror.isWordChar=<span class="fstat-no" title="function not covered" >function(ch){<span class="cstat-no" title="statement not covered" ></span>return/\w/.test(ch)||ch&gt;"\x80"&amp;&amp;(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch));}</span>;<span class="fstat-no" title="function not covered" >f</span>unction isWordChar(ch,helper){<span class="cstat-no" title="statement not covered" ></span>if(!helper)<span class="cstat-no" title="statement not covered" >return isWordCharBasic(ch);<span class="cstat-no" title="statement not covered" >i</span></span>f(helper.source.indexOf("\\w")&gt;-1&amp;&amp;isWordCharBasic(ch))<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >r</span></span>eturn helper.test(ch);}</span>
<span class="fstat-no" title="function not covered" >function isEmpty(obj){<span class="cstat-no" title="statement not covered" ></span>for(var n in obj)<span class="cstat-no" title="statement not covered" >if(obj.hasOwnProperty(n)&amp;&amp;obj[n])<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn true;}</span>
<span class="cstat-no" title="statement not covered" >var extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;<span class="fstat-no" title="function not covered" >f</span>unction isExtendingChar(ch){<span class="cstat-no" title="statement not covered" ></span>return ch.charCodeAt(0)&gt;=768&amp;&amp;extendingChars.test(ch);}</span>
<span class="fstat-no" title="function not covered" >function elt(tag,content,className,style){<span class="cstat-no" title="statement not covered" ></span>var e=document.createElement(tag);<span class="cstat-no" title="statement not covered" >i</span>f(className)<span class="cstat-no" title="statement not covered" >e.className=className;<span class="cstat-no" title="statement not covered" >i</span></span>f(style)<span class="cstat-no" title="statement not covered" >e.style.cssText=style;<span class="cstat-no" title="statement not covered" >i</span></span>f(typeof content=="string")<span class="cstat-no" title="statement not covered" >e.appendChild(document.createTextNode(content));e</span>lse <span class="cstat-no" title="statement not covered" >if(content)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;content.length;++i)<span class="cstat-no" title="statement not covered" >e.appendChild(content[i]);<span class="cstat-no" title="statement not covered" >r</span></span></span></span>eturn e;}</span>
<span class="cstat-no" title="statement not covered" >var range;<span class="cstat-no" title="statement not covered" >i</span>f(document.createRange)<span class="cstat-no" title="statement not covered" >range=<span class="fstat-no" title="function not covered" >function(node,start,end){<span class="cstat-no" title="statement not covered" ></span>var r=document.createRange();<span class="cstat-no" title="statement not covered" >r</span>.setEnd(node,end);<span class="cstat-no" title="statement not covered" >r</span>.setStart(node,start);<span class="cstat-no" title="statement not covered" >r</span>eturn r;}</span>;e</span>lse <span class="cstat-no" title="statement not covered" >range=<span class="fstat-no" title="function not covered" >function(node,start,end){<span class="cstat-no" title="statement not covered" ></span>var r=document.body.createTextRange();<span class="cstat-no" title="statement not covered" >t</span>ry{<span class="cstat-no" title="statement not covered" >r.moveToElementText(node.parentNode);}</span></span></span></span>
catch(e){<span class="cstat-no" title="statement not covered" >return r;}</span>
<span class="cstat-no" title="statement not covered" >r.collapse(true);<span class="cstat-no" title="statement not covered" >r</span>.moveEnd("character",end);<span class="cstat-no" title="statement not covered" >r</span>.moveStart("character",start);<span class="cstat-no" title="statement not covered" >r</span>eturn r;}</span>;<span class="fstat-no" title="function not covered" >function removeChildren(e){<span class="cstat-no" title="statement not covered" ></span>for(var count=e.childNodes.length;count&gt;0;--count)</span>
<span class="cstat-no" title="statement not covered" >e.removeChild(e.firstChild);<span class="cstat-no" title="statement not covered" >r</span>eturn e;}</span>
<span class="fstat-no" title="function not covered" >function removeChildrenAndAdd(parent,e){<span class="cstat-no" title="statement not covered" ></span>return removeChildren(parent).appendChild(e);}</span>
<span class="fstat-no" title="function not covered" >function contains(parent,child){<span class="cstat-no" title="statement not covered" ></span>if(parent.contains)</span>
<span class="cstat-no" title="statement not covered" >return parent.contains(child);<span class="cstat-no" title="statement not covered" >w</span>hile(child=child.parentNode)</span>
<span class="cstat-no" title="statement not covered" >if(child==parent)<span class="cstat-no" title="statement not covered" >return true;}</span></span>
<span class="fstat-no" title="function not covered" >function activeElt(){<span class="cstat-no" title="statement not covered" ></span>return document.activeElement;}</span>
<span class="cstat-no" title="statement not covered" >if(ie&amp;&amp;ie_version&lt;11)<span class="cstat-no" title="statement not covered" >activeElt=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>try{<span class="cstat-no" title="statement not covered" >return document.activeElement;}</span></span></span></span>
catch(e){<span class="cstat-no" title="statement not covered" >return document.body;}</span>};<span class="fstat-no" title="function not covered" >function classTest(cls){<span class="cstat-no" title="statement not covered" ></span>return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*");}</span>
<span class="cstat-no" title="statement not covered" >var rmClass=CodeMirror.rmClass=<span class="fstat-no" title="function not covered" >function(node,cls){<span class="cstat-no" title="statement not covered" ></span>var current=node.className;<span class="cstat-no" title="statement not covered" >v</span>ar match=classTest(cls).exec(current);<span class="cstat-no" title="statement not covered" >i</span>f(match){<span class="cstat-no" title="statement not covered" >var after=current.slice(match.index+match[0].length);<span class="cstat-no" title="statement not covered" >n</span>ode.className=current.slice(0,match.index)+(after?match[1]+after:"");}</span>}</span>;<span class="cstat-no" title="statement not covered" >v</span>ar addClass=CodeMirror.addClass=<span class="fstat-no" title="function not covered" >function(node,cls){<span class="cstat-no" title="statement not covered" ></span>var current=node.className;<span class="cstat-no" title="statement not covered" >i</span>f(!classTest(cls).test(current))<span class="cstat-no" title="statement not covered" >node.className+=(current?" ":"")+cls;}</span></span>;<span class="fstat-no" title="function not covered" >f</span>unction joinClasses(a,b){<span class="cstat-no" title="statement not covered" ></span>var as=a.split(" ");<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;as.length;i++)</span>
<span class="cstat-no" title="statement not covered" >if(as[i]&amp;&amp;!classTest(as[i]).test(b))<span class="cstat-no" title="statement not covered" >b+=" "+as[i];<span class="cstat-no" title="statement not covered" >r</span></span>eturn b;}</span>
<span class="fstat-no" title="function not covered" >function forEachCodeMirror(f){<span class="cstat-no" title="statement not covered" ></span>if(!document.body.getElementsByClassName)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar byClass=document.body.getElementsByClassName("CodeMirror");<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;byClass.length;i++){<span class="cstat-no" title="statement not covered" >var cm=byClass[i].CodeMirror;<span class="cstat-no" title="statement not covered" >i</span>f(cm)<span class="cstat-no" title="statement not covered" >f(cm);}</span></span>}</span>
<span class="cstat-no" title="statement not covered" >var globalsRegistered=false;<span class="fstat-no" title="function not covered" >f</span>unction ensureGlobalHandlers(){<span class="cstat-no" title="statement not covered" ></span>if(globalsRegistered)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >r</span></span>egisterGlobalHandlers();<span class="cstat-no" title="statement not covered" >g</span>lobalsRegistered=true;}</span>
<span class="fstat-no" title="function not covered" >function registerGlobalHandlers(){<span class="cstat-no" title="statement not covered" ></span>var resizeTimer;<span class="cstat-no" title="statement not covered" >o</span>n(window,"resize",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(resizeTimer==null)<span class="cstat-no" title="statement not covered" >resizeTimer=setTimeout(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>resizeTimer=null;<span class="cstat-no" title="statement not covered" >f</span>orEachCodeMirror(onResize);}</span>,100);}</span></span>);<span class="cstat-no" title="statement not covered" >o</span>n(window,"blur",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>forEachCodeMirror(onBlur);}</span>);}</span>
<span class="cstat-no" title="statement not covered" >var dragAndDrop=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(ie&amp;&amp;ie_version&lt;9)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span></span>ar div=elt('div');<span class="cstat-no" title="statement not covered" >r</span>eturn"draggable"in div||"dragDrop"in div;}</span>();<span class="cstat-no" title="statement not covered" >v</span>ar zwspSupported;<span class="fstat-no" title="function not covered" >f</span>unction zeroWidthElement(measure){<span class="cstat-no" title="statement not covered" ></span>if(zwspSupported==null){<span class="cstat-no" title="statement not covered" >var test=elt("span","\u200b");<span class="cstat-no" title="statement not covered" >r</span>emoveChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")]));<span class="cstat-no" title="statement not covered" >i</span>f(measure.firstChild.offsetHeight!=0)</span></span>
<span class="cstat-no" title="statement not covered" >zwspSupported=test.offsetWidth&lt;=1&amp;&amp;test.offsetHeight&gt;2&amp;&amp;!(ie&amp;&amp;ie_version&lt;8);}</span>
<span class="cstat-no" title="statement not covered" >if(zwspSupported)<span class="cstat-no" title="statement not covered" >return elt("span","\u200b");e</span>lse <span class="cstat-no" title="statement not covered" >return elt("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");}</span></span>
<span class="cstat-no" title="statement not covered" >var badBidiRects;<span class="fstat-no" title="function not covered" >f</span>unction hasBadBidiRects(measure){<span class="cstat-no" title="statement not covered" ></span>if(badBidiRects!=null)<span class="cstat-no" title="statement not covered" >return badBidiRects;<span class="cstat-no" title="statement not covered" >v</span></span>ar txt=removeChildrenAndAdd(measure,document.createTextNode("A\u062eA"));<span class="cstat-no" title="statement not covered" >v</span>ar r0=range(txt,0,1).getBoundingClientRect();<span class="cstat-no" title="statement not covered" >i</span>f(!r0||r0.left==r0.right)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span></span>ar r1=range(txt,1,2).getBoundingClientRect();<span class="cstat-no" title="statement not covered" >r</span>eturn badBidiRects=(r1.right-r0.right&lt;3);}</span>
<span class="cstat-no" title="statement not covered" >var splitLines=CodeMirror.splitLines="\n\nb".split(/\n/).length!=3?<span class="fstat-no" title="function not covered" >function(string){<span class="cstat-no" title="statement not covered" ></span>var pos=0,result=[],l=string.length;<span class="cstat-no" title="statement not covered" >w</span>hile(pos&lt;=l){<span class="cstat-no" title="statement not covered" >var nl=string.indexOf("\n",pos);<span class="cstat-no" title="statement not covered" >i</span>f(nl==-1)<span class="cstat-no" title="statement not covered" >nl=string.length;<span class="cstat-no" title="statement not covered" >v</span></span>ar line=string.slice(pos,string.charAt(nl-1)=="\r"?nl-1:nl);<span class="cstat-no" title="statement not covered" >v</span>ar rt=line.indexOf("\r");<span class="cstat-no" title="statement not covered" >i</span>f(rt!=-1){<span class="cstat-no" title="statement not covered" >result.push(line.slice(0,rt));<span class="cstat-no" title="statement not covered" >p</span>os+=rt+1;}</span>else{<span class="cstat-no" title="statement not covered" >result.push(line);<span class="cstat-no" title="statement not covered" >p</span>os=nl+1;}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >return result;}</span>:<span class="fstat-no" title="function not covered" >function(string){<span class="cstat-no" title="statement not covered" ></span>return string.split(/\r\n?|\n/);}</span>;<span class="cstat-no" title="statement not covered" >var hasSelection=window.getSelection?<span class="fstat-no" title="function not covered" >function(te){<span class="cstat-no" title="statement not covered" ></span>try{<span class="cstat-no" title="statement not covered" >return te.selectionStart!=te.selectionEnd;}</span></span></span>
catch(e){<span class="cstat-no" title="statement not covered" >return false;}</span>}:<span class="fstat-no" title="function not covered" >function(te){<span class="cstat-no" title="statement not covered" ></span>try{<span class="cstat-no" title="statement not covered" >var range=te.ownerDocument.selection.createRange();}</span></span>
catch(e){}
<span class="cstat-no" title="statement not covered" >if(!range||range.parentElement()!=te)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >r</span></span>eturn range.compareEndPoints("StartToEnd",range)!=0;}</span>;<span class="cstat-no" title="statement not covered" >var hasCopyEvent=(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var e=elt("div");<span class="cstat-no" title="statement not covered" >i</span>f("oncopy"in e)<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >e</span></span>.setAttribute("oncopy","return;");<span class="cstat-no" title="statement not covered" >r</span>eturn typeof e.oncopy=="function";}</span>)();<span class="cstat-no" title="statement not covered" >v</span>ar badZoomedRects=null;<span class="fstat-no" title="function not covered" >f</span>unction hasBadZoomedRects(measure){<span class="cstat-no" title="statement not covered" ></span>if(badZoomedRects!=null)<span class="cstat-no" title="statement not covered" >return badZoomedRects;<span class="cstat-no" title="statement not covered" >v</span></span>ar node=removeChildrenAndAdd(measure,elt("span","x"));<span class="cstat-no" title="statement not covered" >v</span>ar normal=node.getBoundingClientRect();<span class="cstat-no" title="statement not covered" >v</span>ar fromRange=range(node,0,1).getBoundingClientRect();<span class="cstat-no" title="statement not covered" >r</span>eturn badZoomedRects=Math.abs(normal.left-fromRange.left)&gt;1;}</span>
<span class="cstat-no" title="statement not covered" >var keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};<span class="cstat-no" title="statement not covered" >C</span>odeMirror.keyNames=keyNames;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" ></span>function(){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;10;i++)<span class="cstat-no" title="statement not covered" >keyNames[i+48]=keyNames[i+96]=String(i);<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=65;i&lt;=90;i++)<span class="cstat-no" title="statement not covered" >keyNames[i]=String.fromCharCode(i);<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=1;i&lt;=12;i++)<span class="cstat-no" title="statement not covered" >keyNames[i+111]=keyNames[i+63235]="F"+i;}</span></span>)();<span class="fstat-no" title="function not covered" >f</span>unction iterateBidiSections(order,from,to,f){<span class="cstat-no" title="statement not covered" ></span>if(!order)<span class="cstat-no" title="statement not covered" >return f(from,to,"ltr");<span class="cstat-no" title="statement not covered" >v</span></span>ar found=false;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;order.length;++i){<span class="cstat-no" title="statement not covered" >var part=order[i];<span class="cstat-no" title="statement not covered" >i</span>f(part.from&lt;to&amp;&amp;part.to&gt;from||from==to&amp;&amp;part.to==from){<span class="cstat-no" title="statement not covered" >f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?"rtl":"ltr");<span class="cstat-no" title="statement not covered" >f</span>ound=true;}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >if(!found)<span class="cstat-no" title="statement not covered" >f(from,to,"ltr");}</span></span>
<span class="fstat-no" title="function not covered" >function bidiLeft(part){<span class="cstat-no" title="statement not covered" ></span>return part.level%2?part.to:part.from;}</span>
<span class="fstat-no" title="function not covered" >function bidiRight(part){<span class="cstat-no" title="statement not covered" ></span>return part.level%2?part.from:part.to;}</span>
<span class="fstat-no" title="function not covered" >function lineLeft(line){<span class="cstat-no" title="statement not covered" ></span>var order=getOrder(line);<span class="cstat-no" title="statement not covered" >r</span>eturn order?bidiLeft(order[0]):0;}</span>
<span class="fstat-no" title="function not covered" >function lineRight(line){<span class="cstat-no" title="statement not covered" ></span>var order=getOrder(line);<span class="cstat-no" title="statement not covered" >i</span>f(!order)<span class="cstat-no" title="statement not covered" >return line.text.length;<span class="cstat-no" title="statement not covered" >r</span></span>eturn bidiRight(lst(order));}</span>
<span class="fstat-no" title="function not covered" >function lineStart(cm,lineN){<span class="cstat-no" title="statement not covered" ></span>var line=getLine(cm.doc,lineN);<span class="cstat-no" title="statement not covered" >v</span>ar visual=visualLine(line);<span class="cstat-no" title="statement not covered" >i</span>f(visual!=line)<span class="cstat-no" title="statement not covered" >lineN=lineNo(visual);<span class="cstat-no" title="statement not covered" >v</span></span>ar order=getOrder(visual);<span class="cstat-no" title="statement not covered" >v</span>ar ch=!order?0:order[0].level%2?lineRight(visual):lineLeft(visual);<span class="cstat-no" title="statement not covered" >r</span>eturn Pos(lineN,ch);}</span>
<span class="fstat-no" title="function not covered" >function lineEnd(cm,lineN){<span class="cstat-no" title="statement not covered" ></span>var merged,line=getLine(cm.doc,lineN);<span class="cstat-no" title="statement not covered" >w</span>hile(merged=collapsedSpanAtEnd(line)){<span class="cstat-no" title="statement not covered" >line=merged.find(1,true).line;<span class="cstat-no" title="statement not covered" >l</span>ineN=null;}</span></span>
<span class="cstat-no" title="statement not covered" >var order=getOrder(line);<span class="cstat-no" title="statement not covered" >v</span>ar ch=!order?line.text.length:order[0].level%2?lineLeft(line):lineRight(line);<span class="cstat-no" title="statement not covered" >r</span>eturn Pos(lineN==null?lineNo(line):lineN,ch);}</span>
<span class="fstat-no" title="function not covered" >function lineStartSmart(cm,pos){<span class="cstat-no" title="statement not covered" ></span>var start=lineStart(cm,pos.line);<span class="cstat-no" title="statement not covered" >v</span>ar line=getLine(cm.doc,start.line);<span class="cstat-no" title="statement not covered" >v</span>ar order=getOrder(line);<span class="cstat-no" title="statement not covered" >i</span>f(!order||order[0].level==0){<span class="cstat-no" title="statement not covered" >var firstNonWS=Math.max(0,line.text.search(/\S/));<span class="cstat-no" title="statement not covered" >v</span>ar inWS=pos.line==start.line&amp;&amp;pos.ch&lt;=firstNonWS&amp;&amp;pos.ch;<span class="cstat-no" title="statement not covered" >r</span>eturn Pos(start.line,inWS?0:firstNonWS);}</span></span>
<span class="cstat-no" title="statement not covered" >return start;}</span>
<span class="fstat-no" title="function not covered" >function compareBidiLevel(order,a,b){<span class="cstat-no" title="statement not covered" ></span>var linedir=order[0].level;<span class="cstat-no" title="statement not covered" >i</span>f(a==linedir)<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >i</span></span>f(b==linedir)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >r</span></span>eturn a&lt;b;}</span>
<span class="cstat-no" title="statement not covered" >var bidiOther;<span class="fstat-no" title="function not covered" >f</span>unction getBidiPartAt(order,pos){<span class="cstat-no" title="statement not covered" ></span>bidiOther=null;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0,found;i&lt;order.length;++i){<span class="cstat-no" title="statement not covered" >var cur=order[i];<span class="cstat-no" title="statement not covered" >i</span>f(cur.from&lt;pos&amp;&amp;cur.to&gt;pos)<span class="cstat-no" title="statement not covered" >return i;<span class="cstat-no" title="statement not covered" >i</span></span>f((cur.from==pos||cur.to==pos)){<span class="cstat-no" title="statement not covered" >if(found==null){<span class="cstat-no" title="statement not covered" >found=i;}</span>else <span class="cstat-no" title="statement not covered" >if(compareBidiLevel(order,cur.level,order[found].level)){<span class="cstat-no" title="statement not covered" >if(cur.from!=cur.to)<span class="cstat-no" title="statement not covered" >bidiOther=found;<span class="cstat-no" title="statement not covered" >r</span></span>eturn i;}</span>else{<span class="cstat-no" title="statement not covered" >if(cur.from!=cur.to)<span class="cstat-no" title="statement not covered" >bidiOther=i;<span class="cstat-no" title="statement not covered" >r</span></span>eturn found;}</span>}</span></span>}</span></span>
<span class="cstat-no" title="statement not covered" >return found;}</span>
<span class="fstat-no" title="function not covered" >function moveInLine(line,pos,dir,byUnit){<span class="cstat-no" title="statement not covered" ></span>if(!byUnit)<span class="cstat-no" title="statement not covered" >return pos+dir;<span class="cstat-no" title="statement not covered" >d</span></span>o <span class="cstat-no" title="statement not covered" >pos+=dir;w</span>hile(pos&gt;0&amp;&amp;isExtendingChar(line.text.charAt(pos)));<span class="cstat-no" title="statement not covered" >r</span>eturn pos;}</span>
<span class="fstat-no" title="function not covered" >function moveVisually(line,start,dir,byUnit){<span class="cstat-no" title="statement not covered" ></span>var bidi=getOrder(line);<span class="cstat-no" title="statement not covered" >i</span>f(!bidi)<span class="cstat-no" title="statement not covered" >return moveLogically(line,start,dir,byUnit);<span class="cstat-no" title="statement not covered" >v</span></span>ar pos=getBidiPartAt(bidi,start),part=bidi[pos];<span class="cstat-no" title="statement not covered" >v</span>ar target=moveInLine(line,start,part.level%2?-dir:dir,byUnit);<span class="cstat-no" title="statement not covered" >f</span>or(;;){<span class="cstat-no" title="statement not covered" >if(target&gt;part.from&amp;&amp;target&lt;part.to)<span class="cstat-no" title="statement not covered" >return target;<span class="cstat-no" title="statement not covered" >i</span></span>f(target==part.from||target==part.to){<span class="cstat-no" title="statement not covered" >if(getBidiPartAt(bidi,target)==pos)<span class="cstat-no" title="statement not covered" >return target;<span class="cstat-no" title="statement not covered" >p</span></span>art=bidi[pos+=dir];<span class="cstat-no" title="statement not covered" >r</span>eturn(dir&gt;0)==part.level%2?part.to:part.from;}</span>else{<span class="cstat-no" title="statement not covered" >part=bidi[pos+=dir];<span class="cstat-no" title="statement not covered" >i</span>f(!part)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >i</span></span>f((dir&gt;0)==part.level%2)</span></span></span>
<span class="cstat-no" title="statement not covered" >target=moveInLine(line,part.to,-1,byUnit);e</span>lse
<span class="cstat-no" title="statement not covered" >target=moveInLine(line,part.from,1,byUnit);}</span>}}
<span class="fstat-no" title="function not covered" >function moveLogically(line,start,dir,byUnit){<span class="cstat-no" title="statement not covered" ></span>var target=start+dir;<span class="cstat-no" title="statement not covered" >i</span>f(byUnit)<span class="cstat-no" title="statement not covered" >while(target&gt;0&amp;&amp;isExtendingChar(line.text.charAt(target)))<span class="cstat-no" title="statement not covered" >target+=dir;<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn target&lt;0||target&gt;line.text.length?null:target;}</span>
<span class="cstat-no" title="statement not covered" >var bidiOrdering=(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";<span class="cstat-no" title="statement not covered" >v</span>ar arabicTypes="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";<span class="fstat-no" title="function not covered" >f</span>unction charType(code){<span class="cstat-no" title="statement not covered" ></span>if(code&lt;=0xf7)<span class="cstat-no" title="statement not covered" >return lowTypes.charAt(code);e</span>lse <span class="cstat-no" title="statement not covered" >if(0x590&lt;=code&amp;&amp;code&lt;=0x5f4)<span class="cstat-no" title="statement not covered" >return"R";e</span>lse <span class="cstat-no" title="statement not covered" >if(0x600&lt;=code&amp;&amp;code&lt;=0x6ed)<span class="cstat-no" title="statement not covered" >return arabicTypes.charAt(code-0x600);e</span>lse <span class="cstat-no" title="statement not covered" >if(0x6ee&lt;=code&amp;&amp;code&lt;=0x8ac)<span class="cstat-no" title="statement not covered" >return"r";e</span>lse <span class="cstat-no" title="statement not covered" >if(0x2000&lt;=code&amp;&amp;code&lt;=0x200b)<span class="cstat-no" title="statement not covered" >return"w";e</span>lse <span class="cstat-no" title="statement not covered" >if(code==0x200c)<span class="cstat-no" title="statement not covered" >return"b";e</span>lse <span class="cstat-no" title="statement not covered" >return"L";}</span></span></span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;<span class="cstat-no" title="statement not covered" >v</span>ar isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;<span class="cstat-no" title="statement not covered" >v</span>ar outerType="L";<span class="fstat-no" title="function not covered" >f</span>unction BidiSpan(level,from,to){<span class="cstat-no" title="statement not covered" ></span>this.level=level;<span class="cstat-no" title="statement not covered" >t</span>his.from=from;<span class="cstat-no" title="statement not covered" >t</span>his.to=to;}</span>
<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function(str){<span class="cstat-no" title="statement not covered" ></span>if(!bidiRE.test(str))<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span></span>ar len=str.length,types=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0,type;i&lt;len;++i)</span></span>
<span class="cstat-no" title="statement not covered" >types.push(type=charType(str.charCodeAt(i)));<span class="cstat-no" title="statement not covered" >f</span>or(var i=0,prev=outerType;i&lt;len;++i){<span class="cstat-no" title="statement not covered" >var type=types[i];<span class="cstat-no" title="statement not covered" >i</span>f(type=="m")<span class="cstat-no" title="statement not covered" >types[i]=prev;e</span>lse <span class="cstat-no" title="statement not covered" >prev=type;}</span></span></span>
<span class="cstat-no" title="statement not covered" >for(var i=0,cur=outerType;i&lt;len;++i){<span class="cstat-no" title="statement not covered" >var type=types[i];<span class="cstat-no" title="statement not covered" >i</span>f(type=="1"&amp;&amp;cur=="r")<span class="cstat-no" title="statement not covered" >types[i]="n";e</span>lse <span class="cstat-no" title="statement not covered" >if(isStrong.test(type)){<span class="cstat-no" title="statement not covered" >cur=type;<span class="cstat-no" title="statement not covered" >i</span>f(type=="r")<span class="cstat-no" title="statement not covered" >types[i]="R";}</span></span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >for(var i=1,prev=types[0];i&lt;len-1;++i){<span class="cstat-no" title="statement not covered" >var type=types[i];<span class="cstat-no" title="statement not covered" >i</span>f(type=="+"&amp;&amp;prev=="1"&amp;&amp;types[i+1]=="1")<span class="cstat-no" title="statement not covered" >types[i]="1";e</span>lse <span class="cstat-no" title="statement not covered" >if(type==","&amp;&amp;prev==types[i+1]&amp;&amp;(prev=="1"||prev=="n"))<span class="cstat-no" title="statement not covered" >types[i]=prev;<span class="cstat-no" title="statement not covered" >p</span></span></span>rev=type;}</span></span>
<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;len;++i){<span class="cstat-no" title="statement not covered" >var type=types[i];<span class="cstat-no" title="statement not covered" >i</span>f(type==",")<span class="cstat-no" title="statement not covered" >types[i]="N";e</span>lse <span class="cstat-no" title="statement not covered" >if(type=="%"){<span class="cstat-no" title="statement not covered" >for(var end=i+1;end&lt;len&amp;&amp;types[end]=="%";++end){}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >var replace=(i&amp;&amp;types[i-1]=="!")||(end&lt;len&amp;&amp;types[end]=="1")?"1":"N";<span class="cstat-no" title="statement not covered" >f</span>or(var j=i;j&lt;end;++j)<span class="cstat-no" title="statement not covered" >types[j]=replace;<span class="cstat-no" title="statement not covered" >i</span></span>=end-1;}</span>}
<span class="cstat-no" title="statement not covered" >for(var i=0,cur=outerType;i&lt;len;++i){<span class="cstat-no" title="statement not covered" >var type=types[i];<span class="cstat-no" title="statement not covered" >i</span>f(cur=="L"&amp;&amp;type=="1")<span class="cstat-no" title="statement not covered" >types[i]="L";e</span>lse <span class="cstat-no" title="statement not covered" >if(isStrong.test(type))<span class="cstat-no" title="statement not covered" >cur=type;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;len;++i){<span class="cstat-no" title="statement not covered" >if(isNeutral.test(types[i])){<span class="cstat-no" title="statement not covered" >for(var end=i+1;end&lt;len&amp;&amp;isNeutral.test(types[end]);++end){}</span></span></span>
<span class="cstat-no" title="statement not covered" >var before=(i?types[i-1]:outerType)=="L";<span class="cstat-no" title="statement not covered" >v</span>ar after=(end&lt;len?types[end]:outerType)=="L";<span class="cstat-no" title="statement not covered" >v</span>ar replace=before||after?"L":"R";<span class="cstat-no" title="statement not covered" >f</span>or(var j=i;j&lt;end;++j)<span class="cstat-no" title="statement not covered" >types[j]=replace;<span class="cstat-no" title="statement not covered" >i</span></span>=end-1;}</span>}
<span class="cstat-no" title="statement not covered" >var order=[],m;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;len;){<span class="cstat-no" title="statement not covered" >if(countsAsLeft.test(types[i])){<span class="cstat-no" title="statement not covered" >var start=i;<span class="cstat-no" title="statement not covered" >f</span>or(++i;i&lt;len&amp;&amp;countsAsLeft.test(types[i]);++i){}</span></span></span>
<span class="cstat-no" title="statement not covered" >order.push(new BidiSpan(0,start,i));}</span>else{<span class="cstat-no" title="statement not covered" >var pos=i,at=order.length;<span class="cstat-no" title="statement not covered" >f</span>or(++i;i&lt;len&amp;&amp;types[i]!="L";++i){}</span>
<span class="cstat-no" title="statement not covered" >for(var j=pos;j&lt;i;){<span class="cstat-no" title="statement not covered" >if(countsAsNum.test(types[j])){<span class="cstat-no" title="statement not covered" >if(pos&lt;j)<span class="cstat-no" title="statement not covered" >order.splice(at,0,new BidiSpan(1,pos,j));<span class="cstat-no" title="statement not covered" >v</span></span>ar nstart=j;<span class="cstat-no" title="statement not covered" >f</span>or(++j;j&lt;i&amp;&amp;countsAsNum.test(types[j]);++j){}</span></span></span>
<span class="cstat-no" title="statement not covered" >order.splice(at,0,new BidiSpan(2,nstart,j));<span class="cstat-no" title="statement not covered" >p</span>os=j;}</span>else<span class="cstat-no" title="statement not covered" >++j;}</span>
<span class="cstat-no" title="statement not covered" >if(pos&lt;i)<span class="cstat-no" title="statement not covered" >order.splice(at,0,new BidiSpan(1,pos,i));}</span></span>}
<span class="cstat-no" title="statement not covered" >if(order[0].level==1&amp;&amp;(m=str.match(/^\s+/))){<span class="cstat-no" title="statement not covered" >order[0].from=m[0].length;<span class="cstat-no" title="statement not covered" >o</span>rder.unshift(new BidiSpan(0,0,m[0].length));}</span></span>
<span class="cstat-no" title="statement not covered" >if(lst(order).level==1&amp;&amp;(m=str.match(/\s+$/))){<span class="cstat-no" title="statement not covered" >lst(order).to-=m[0].length;<span class="cstat-no" title="statement not covered" >o</span>rder.push(new BidiSpan(0,len-m[0].length,len));}</span></span>
<span class="cstat-no" title="statement not covered" >if(order[0].level!=lst(order).level)</span>
<span class="cstat-no" title="statement not covered" >order.push(new BidiSpan(order[0].level,len,len));<span class="cstat-no" title="statement not covered" >r</span>eturn order;}</span>;})();<span class="cstat-no" title="statement not covered" >CodeMirror.version="4.12.0";<span class="cstat-no" title="statement not covered" >r</span>eturn CodeMirror;}</span>);;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){</span>"use strict";<span class="cstat-no" title="statement not covered" >CodeMirror.defineMode("css",<span class="fstat-no" title="function not covered" >function(config,parserConfig){<span class="cstat-no" title="statement not covered" ></span>var inline=parserConfig.inline</span></span>
<span class="cstat-no" title="statement not covered" >if(!parserConfig.propertyKeywords)<span class="cstat-no" title="statement not covered" >parserConfig=CodeMirror.resolveMode("text/css");<span class="cstat-no" title="statement not covered" >v</span></span>ar indentUnit=config.indentUnit,tokenHooks=parserConfig.tokenHooks,documentTypes=parserConfig.documentTypes||{},mediaTypes=parserConfig.mediaTypes||{},mediaFeatures=parserConfig.mediaFeatures||{},mediaValueKeywords=parserConfig.mediaValueKeywords||{},propertyKeywords=parserConfig.propertyKeywords||{},nonStandardPropertyKeywords=parserConfig.nonStandardPropertyKeywords||{},fontProperties=parserConfig.fontProperties||{},counterDescriptors=parserConfig.counterDescriptors||{},colorKeywords=parserConfig.colorKeywords||{},valueKeywords=parserConfig.valueKeywords||{},allowNested=parserConfig.allowNested,supportsAtComponent=parserConfig.supportsAtComponent===true;<span class="cstat-no" title="statement not covered" >v</span>ar type,override;<span class="fstat-no" title="function not covered" >f</span>unction ret(style,tp){<span class="cstat-no" title="statement not covered" ></span>type=tp;<span class="cstat-no" title="statement not covered" >r</span>eturn style;}</span>
<span class="fstat-no" title="function not covered" >function tokenBase(stream,state){<span class="cstat-no" title="statement not covered" ></span>var ch=stream.next();<span class="cstat-no" title="statement not covered" >i</span>f(tokenHooks[ch]){<span class="cstat-no" title="statement not covered" >var result=tokenHooks[ch](stream,state);<span class="cstat-no" title="statement not covered" >i</span>f(result!==false)<span class="cstat-no" title="statement not covered" >return result;}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(ch=="@"){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[\w\\\-]/);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("def",stream.current());}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="="||(ch=="~"||ch=="|")&amp;&amp;stream.eat("=")){<span class="cstat-no" title="statement not covered" >return ret(null,"compare");}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="\""||ch=="'"){<span class="cstat-no" title="statement not covered" >state.tokenize=tokenString(ch);<span class="cstat-no" title="statement not covered" >r</span>eturn state.tokenize(stream,state);}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="#"){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[\w\\\-]/);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("atom","hash");}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="!"){<span class="cstat-no" title="statement not covered" >stream.match(/^\s*\w*/);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("keyword","important");}</span>else <span class="cstat-no" title="statement not covered" >if(/\d/.test(ch)||ch=="."&amp;&amp;stream.eat(/\d/)){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[\w.%]/);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("number","unit");}</span>else <span class="cstat-no" title="statement not covered" >if(ch==="-"){<span class="cstat-no" title="statement not covered" >if(/[\d.]/.test(stream.peek())){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[\w.%]/);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("number","unit");}</span>else <span class="cstat-no" title="statement not covered" >if(stream.match(/^-[\w\\\-]+/)){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[\w\\\-]/);<span class="cstat-no" title="statement not covered" >i</span>f(stream.match(/^\s*:/,false))</span></span></span></span></span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >return ret("variable-2","variable-definition");<span class="cstat-no" title="statement not covered" >r</span>eturn ret("variable-2","variable");}</span>else <span class="cstat-no" title="statement not covered" >if(stream.match(/^\w+-/)){<span class="cstat-no" title="statement not covered" >return ret("meta","meta");}</span>}</span>else <span class="cstat-no" title="statement not covered" >if(/[,+&gt;*\/]/.test(ch)){<span class="cstat-no" title="statement not covered" >return ret(null,"select-op");}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="."&amp;&amp;stream.match(/^-?[_a-z][_a-z0-9-]*/i)){<span class="cstat-no" title="statement not covered" >return ret("qualifier","qualifier");}</span>else <span class="cstat-no" title="statement not covered" >if(/[:;{}\[\]\(\)]/.test(ch)){<span class="cstat-no" title="statement not covered" >return ret(null,ch);}</span>else <span class="cstat-no" title="statement not covered" >if((ch=="u"&amp;&amp;stream.match(/rl(-prefix)?\(/))||(ch=="d"&amp;&amp;stream.match("omain("))||(ch=="r"&amp;&amp;stream.match("egexp("))){<span class="cstat-no" title="statement not covered" >stream.backUp(1);<span class="cstat-no" title="statement not covered" >s</span>tate.tokenize=tokenParenthesized;<span class="cstat-no" title="statement not covered" >r</span>eturn ret("property","word");}</span>else <span class="cstat-no" title="statement not covered" >if(/[\w\\\-]/.test(ch)){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[\w\\\-]/);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("property","word");}</span>else{<span class="cstat-no" title="statement not covered" >return ret(null,null);}</span>}</span></span></span></span></span>
<span class="fstat-no" title="function not covered" >function tokenString(quote){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>var escaped=false,ch;<span class="cstat-no" title="statement not covered" >w</span>hile((ch=stream.next())!=null){<span class="cstat-no" title="statement not covered" >if(ch==quote&amp;&amp;!escaped){<span class="cstat-no" title="statement not covered" >if(quote==")")<span class="cstat-no" title="statement not covered" >stream.backUp(1);<span class="cstat-no" title="statement not covered" >b</span></span>reak;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >escaped=!escaped&amp;&amp;ch=="\\";}</span>
<span class="cstat-no" title="statement not covered" >if(ch==quote||!escaped&amp;&amp;quote!=")")<span class="cstat-no" title="statement not covered" >state.tokenize=null;<span class="cstat-no" title="statement not covered" >r</span></span>eturn ret("string","string");}</span>;}
<span class="fstat-no" title="function not covered" >function tokenParenthesized(stream,state){<span class="cstat-no" title="statement not covered" ></span>stream.next();<span class="cstat-no" title="statement not covered" >i</span>f(!stream.match(/\s*[\"\')]/,false))</span>
<span class="cstat-no" title="statement not covered" >state.tokenize=tokenString(")");e</span>lse
<span class="cstat-no" title="statement not covered" >state.tokenize=null;<span class="cstat-no" title="statement not covered" >r</span>eturn ret(null,"(");}</span>
<span class="fstat-no" title="function not covered" >function Context(type,indent,prev){<span class="cstat-no" title="statement not covered" ></span>this.type=type;<span class="cstat-no" title="statement not covered" >t</span>his.indent=indent;<span class="cstat-no" title="statement not covered" >t</span>his.prev=prev;}</span>
<span class="fstat-no" title="function not covered" >function pushContext(state,stream,type,indent){<span class="cstat-no" title="statement not covered" ></span>state.context=new Context(type,stream.indentation()+(indent===false?0:indentUnit),state.context);<span class="cstat-no" title="statement not covered" >r</span>eturn type;}</span>
<span class="fstat-no" title="function not covered" >function popContext(state){<span class="cstat-no" title="statement not covered" ></span>if(state.context.prev)</span>
<span class="cstat-no" title="statement not covered" >state.context=state.context.prev;<span class="cstat-no" title="statement not covered" >r</span>eturn state.context.type;}</span>
<span class="fstat-no" title="function not covered" >function pass(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>return states[state.context.type](type,stream,state);}</span>
<span class="fstat-no" title="function not covered" >function popAndPass(type,stream,state,n){<span class="cstat-no" title="statement not covered" ></span>for(var i=n||1;i&gt;0;i--)</span>
<span class="cstat-no" title="statement not covered" >state.context=state.context.prev;<span class="cstat-no" title="statement not covered" >r</span>eturn pass(type,stream,state);}</span>
<span class="fstat-no" title="function not covered" >function wordAsValue(stream){<span class="cstat-no" title="statement not covered" ></span>var word=stream.current().toLowerCase();<span class="cstat-no" title="statement not covered" >i</span>f(valueKeywords.hasOwnProperty(word))</span>
<span class="cstat-no" title="statement not covered" >override="atom";e</span>lse <span class="cstat-no" title="statement not covered" >if(colorKeywords.hasOwnProperty(word))</span>
<span class="cstat-no" title="statement not covered" >override="keyword";e</span>lse
<span class="cstat-no" title="statement not covered" >override="variable";}</span>
<span class="cstat-no" title="statement not covered" >var states={};<span class="cstat-no" title="statement not covered" >s</span>tates.top=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="{"){<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"block");}</span>else <span class="cstat-no" title="statement not covered" >if(type=="}"&amp;&amp;state.context.prev){<span class="cstat-no" title="statement not covered" >return popContext(state);}</span>else <span class="cstat-no" title="statement not covered" >if(supportsAtComponent&amp;&amp;/@component/.test(type)){<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"atComponentBlock");}</span>else <span class="cstat-no" title="statement not covered" >if(/^@(-moz-)?document$/.test(type)){<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"documentTypes");}</span>else <span class="cstat-no" title="statement not covered" >if(/^@(media|supports|(-moz-)?document|import)$/.test(type)){<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"atBlock");}</span>else <span class="cstat-no" title="statement not covered" >if(/^@(font-face|counter-style)/.test(type)){<span class="cstat-no" title="statement not covered" >state.stateArg=type;<span class="cstat-no" title="statement not covered" >r</span>eturn"restricted_atBlock_before";}</span>else <span class="cstat-no" title="statement not covered" >if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(type)){<span class="cstat-no" title="statement not covered" >return"keyframes";}</span>else <span class="cstat-no" title="statement not covered" >if(type&amp;&amp;type.charAt(0)=="@"){<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"at");}</span>else <span class="cstat-no" title="statement not covered" >if(type=="hash"){<span class="cstat-no" title="statement not covered" >override="builtin";}</span>else <span class="cstat-no" title="statement not covered" >if(type=="word"){<span class="cstat-no" title="statement not covered" >override="tag";}</span>else <span class="cstat-no" title="statement not covered" >if(type=="variable-definition"){<span class="cstat-no" title="statement not covered" >return"maybeprop";}</span>else <span class="cstat-no" title="statement not covered" >if(type=="interpolation"){<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"interpolation");}</span>else <span class="cstat-no" title="statement not covered" >if(type==":"){<span class="cstat-no" title="statement not covered" >return"pseudo";}</span>else <span class="cstat-no" title="statement not covered" >if(allowNested&amp;&amp;type=="("){<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"parens");}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >return state.context.type;}</span>;<span class="cstat-no" title="statement not covered" >states.block=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="word"){<span class="cstat-no" title="statement not covered" >var word=stream.current().toLowerCase();<span class="cstat-no" title="statement not covered" >i</span>f(propertyKeywords.hasOwnProperty(word)){<span class="cstat-no" title="statement not covered" >override="property";<span class="cstat-no" title="statement not covered" >r</span>eturn"maybeprop";}</span>else <span class="cstat-no" title="statement not covered" >if(nonStandardPropertyKeywords.hasOwnProperty(word)){<span class="cstat-no" title="statement not covered" >override="string-2";<span class="cstat-no" title="statement not covered" >r</span>eturn"maybeprop";}</span>else <span class="cstat-no" title="statement not covered" >if(allowNested){<span class="cstat-no" title="statement not covered" >override=stream.match(/^\s*:(?:\s|$)/,false)?"property":"tag";<span class="cstat-no" title="statement not covered" >r</span>eturn"block";}</span>else{<span class="cstat-no" title="statement not covered" >override+=" error";<span class="cstat-no" title="statement not covered" >r</span>eturn"maybeprop";}</span>}</span></span></span>else <span class="cstat-no" title="statement not covered" >if(type=="meta"){<span class="cstat-no" title="statement not covered" >return"block";}</span>else <span class="cstat-no" title="statement not covered" >if(!allowNested&amp;&amp;(type=="hash"||type=="qualifier")){<span class="cstat-no" title="statement not covered" >override="error";<span class="cstat-no" title="statement not covered" >r</span>eturn"block";}</span>else{<span class="cstat-no" title="statement not covered" >return states.top(type,stream,state);}</span>}</span></span></span>;<span class="cstat-no" title="statement not covered" >s</span>tates.maybeprop=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type==":")<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"prop");<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(type,stream,state);}</span>;<span class="cstat-no" title="statement not covered" >s</span>tates.prop=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type==";")<span class="cstat-no" title="statement not covered" >return popContext(state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="{"&amp;&amp;allowNested)<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"propBlock");<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="}"||type=="{")<span class="cstat-no" title="statement not covered" >return popAndPass(type,stream,state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="(")<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"parens");<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="hash"&amp;&amp;!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(stream.current())){<span class="cstat-no" title="statement not covered" >override+=" error";}</span>else <span class="cstat-no" title="statement not covered" >if(type=="word"){<span class="cstat-no" title="statement not covered" >wordAsValue(stream);}</span>else <span class="cstat-no" title="statement not covered" >if(type=="interpolation"){<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"interpolation");}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >return"prop";}</span>;<span class="cstat-no" title="statement not covered" >states.propBlock=<span class="fstat-no" title="function not covered" >function(type,_stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="}")<span class="cstat-no" title="statement not covered" >return popContext(state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="word"){<span class="cstat-no" title="statement not covered" >override="property";<span class="cstat-no" title="statement not covered" >r</span>eturn"maybeprop";}</span></span></span>
<span class="cstat-no" title="statement not covered" >return state.context.type;}</span>;<span class="cstat-no" title="statement not covered" >states.parens=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="{"||type=="}")<span class="cstat-no" title="statement not covered" >return popAndPass(type,stream,state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type==")")<span class="cstat-no" title="statement not covered" >return popContext(state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="(")<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"parens");<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="interpolation")<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"interpolation");<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="word")<span class="cstat-no" title="statement not covered" >wordAsValue(stream);<span class="cstat-no" title="statement not covered" >r</span></span>eturn"parens";}</span>;<span class="cstat-no" title="statement not covered" >s</span>tates.pseudo=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="word"){<span class="cstat-no" title="statement not covered" >override="variable-3";<span class="cstat-no" title="statement not covered" >r</span>eturn state.context.type;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return pass(type,stream,state);}</span>;<span class="cstat-no" title="statement not covered" >states.documentTypes=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="word"&amp;&amp;documentTypes.hasOwnProperty(stream.current())){<span class="cstat-no" title="statement not covered" >override="tag";<span class="cstat-no" title="statement not covered" >r</span>eturn state.context.type;}</span>else{<span class="cstat-no" title="statement not covered" >return states.atBlock(type,stream,state);}</span>}</span>;<span class="cstat-no" title="statement not covered" >s</span>tates.atBlock=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="(")<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"atBlock_parens");<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="}"||type==";")<span class="cstat-no" title="statement not covered" >return popAndPass(type,stream,state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="{")<span class="cstat-no" title="statement not covered" >return popContext(state)&amp;&amp;pushContext(state,stream,allowNested?"block":"top");<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="interpolation")<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"interpolation");<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="word"){<span class="cstat-no" title="statement not covered" >var word=stream.current().toLowerCase();<span class="cstat-no" title="statement not covered" >i</span>f(word=="only"||word=="not"||word=="and"||word=="or")</span></span></span>
<span class="cstat-no" title="statement not covered" >override="keyword";e</span>lse <span class="cstat-no" title="statement not covered" >if(mediaTypes.hasOwnProperty(word))</span>
<span class="cstat-no" title="statement not covered" >override="attribute";e</span>lse <span class="cstat-no" title="statement not covered" >if(mediaFeatures.hasOwnProperty(word))</span>
<span class="cstat-no" title="statement not covered" >override="property";e</span>lse <span class="cstat-no" title="statement not covered" >if(mediaValueKeywords.hasOwnProperty(word))</span>
<span class="cstat-no" title="statement not covered" >override="keyword";e</span>lse <span class="cstat-no" title="statement not covered" >if(propertyKeywords.hasOwnProperty(word))</span>
<span class="cstat-no" title="statement not covered" >override="property";e</span>lse <span class="cstat-no" title="statement not covered" >if(nonStandardPropertyKeywords.hasOwnProperty(word))</span>
<span class="cstat-no" title="statement not covered" >override="string-2";e</span>lse <span class="cstat-no" title="statement not covered" >if(valueKeywords.hasOwnProperty(word))</span>
<span class="cstat-no" title="statement not covered" >override="atom";e</span>lse <span class="cstat-no" title="statement not covered" >if(colorKeywords.hasOwnProperty(word))</span>
<span class="cstat-no" title="statement not covered" >override="keyword";e</span>lse
<span class="cstat-no" title="statement not covered" >override="error";}</span>
<span class="cstat-no" title="statement not covered" >return state.context.type;}</span>;<span class="cstat-no" title="statement not covered" >states.atComponentBlock=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="}")</span></span>
<span class="cstat-no" title="statement not covered" >return popAndPass(type,stream,state);<span class="cstat-no" title="statement not covered" >i</span>f(type=="{")</span>
<span class="cstat-no" title="statement not covered" >return popContext(state)&amp;&amp;pushContext(state,stream,allowNested?"block":"top",false);<span class="cstat-no" title="statement not covered" >i</span>f(type=="word")</span>
<span class="cstat-no" title="statement not covered" >override="error";<span class="cstat-no" title="statement not covered" >r</span>eturn state.context.type;}</span>;<span class="cstat-no" title="statement not covered" >states.atBlock_parens=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type==")")<span class="cstat-no" title="statement not covered" >return popContext(state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="{"||type=="}")<span class="cstat-no" title="statement not covered" >return popAndPass(type,stream,state,2);<span class="cstat-no" title="statement not covered" >r</span></span>eturn states.atBlock(type,stream,state);}</span>;<span class="cstat-no" title="statement not covered" >s</span>tates.restricted_atBlock_before=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="{")</span></span>
<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"restricted_atBlock");<span class="cstat-no" title="statement not covered" >i</span>f(type=="word"&amp;&amp;state.stateArg=="@counter-style"){<span class="cstat-no" title="statement not covered" >override="variable";<span class="cstat-no" title="statement not covered" >r</span>eturn"restricted_atBlock_before";}</span></span>
<span class="cstat-no" title="statement not covered" >return pass(type,stream,state);}</span>;<span class="cstat-no" title="statement not covered" >states.restricted_atBlock=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="}"){<span class="cstat-no" title="statement not covered" >state.stateArg=null;<span class="cstat-no" title="statement not covered" >r</span>eturn popContext(state);}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(type=="word"){<span class="cstat-no" title="statement not covered" >if((state.stateArg=="@font-face"&amp;&amp;!fontProperties.hasOwnProperty(stream.current().toLowerCase()))||(state.stateArg=="@counter-style"&amp;&amp;!counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))</span></span>
<span class="cstat-no" title="statement not covered" >override="error";e</span>lse
<span class="cstat-no" title="statement not covered" >override="property";<span class="cstat-no" title="statement not covered" >r</span>eturn"maybeprop";}</span>
<span class="cstat-no" title="statement not covered" >return"restricted_atBlock";}</span>;<span class="cstat-no" title="statement not covered" >states.keyframes=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="word"){<span class="cstat-no" title="statement not covered" >override="variable";<span class="cstat-no" title="statement not covered" >r</span>eturn"keyframes";}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(type=="{")<span class="cstat-no" title="statement not covered" >return pushContext(state,stream,"top");<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(type,stream,state);}</span>;<span class="cstat-no" title="statement not covered" >states.at=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type==";")<span class="cstat-no" title="statement not covered" >return popContext(state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="{"||type=="}")<span class="cstat-no" title="statement not covered" >return popAndPass(type,stream,state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="word")<span class="cstat-no" title="statement not covered" >override="tag";e</span>lse <span class="cstat-no" title="statement not covered" >if(type=="hash")<span class="cstat-no" title="statement not covered" >override="builtin";<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn"at";}</span>;<span class="cstat-no" title="statement not covered" >s</span>tates.interpolation=<span class="fstat-no" title="function not covered" >function(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="}")<span class="cstat-no" title="statement not covered" >return popContext(state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="{"||type==";")<span class="cstat-no" title="statement not covered" >return popAndPass(type,stream,state);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="word")<span class="cstat-no" title="statement not covered" >override="variable";e</span>lse <span class="cstat-no" title="statement not covered" >if(type!="variable"&amp;&amp;type!="("&amp;&amp;type!=")")<span class="cstat-no" title="statement not covered" >override="error";<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn"interpolation";}</span>;<span class="cstat-no" title="statement not covered" >r</span>eturn{startState:<span class="fstat-no" title="function not covered" >function(base){<span class="cstat-no" title="statement not covered" ></span>return{tokenize:null,state:inline?"block":"top",stateArg:null,context:new Context(inline?"block":"top",base||0,null)};}</span>,token:<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(!state.tokenize&amp;&amp;stream.eatSpace())<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar style=(state.tokenize||tokenBase)(stream,state);<span class="cstat-no" title="statement not covered" >i</span>f(style&amp;&amp;typeof style=="object"){<span class="cstat-no" title="statement not covered" >type=style[1];<span class="cstat-no" title="statement not covered" >s</span>tyle=style[0];}</span></span></span>
<span class="cstat-no" title="statement not covered" >override=style;<span class="cstat-no" title="statement not covered" >s</span>tate.state=states[state.state](type,stream,state);<span class="cstat-no" title="statement not covered" >r</span>eturn override;}</span>,indent:<span class="fstat-no" title="function not covered" >function(state,textAfter){<span class="cstat-no" title="statement not covered" ></span>var cx=state.context,ch=textAfter&amp;&amp;textAfter.charAt(0);<span class="cstat-no" title="statement not covered" >v</span>ar indent=cx.indent;<span class="cstat-no" title="statement not covered" >i</span>f(cx.type=="prop"&amp;&amp;(ch=="}"||ch==")"))<span class="cstat-no" title="statement not covered" >cx=cx.prev;<span class="cstat-no" title="statement not covered" >i</span></span>f(cx.prev){<span class="cstat-no" title="statement not covered" >if(ch=="}"&amp;&amp;(cx.type=="block"||cx.type=="top"||cx.type=="interpolation"||cx.type=="restricted_atBlock")){<span class="cstat-no" title="statement not covered" >cx=cx.prev;<span class="cstat-no" title="statement not covered" >i</span>ndent=cx.indent;}</span>else <span class="cstat-no" title="statement not covered" >if(ch==")"&amp;&amp;(cx.type=="parens"||cx.type=="atBlock_parens")||ch=="{"&amp;&amp;(cx.type=="at"||cx.type=="atBlock")){<span class="cstat-no" title="statement not covered" >indent=Math.max(0,cx.indent-indentUnit);<span class="cstat-no" title="statement not covered" >c</span>x=cx.prev;}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >return indent;}</span>,electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"};});<span class="fstat-no" title="function not covered" >function keySet(array){<span class="cstat-no" title="statement not covered" ></span>var keys={};<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;array.length;++i){<span class="cstat-no" title="statement not covered" >keys[array[i]]=true;}</span></span>
<span class="cstat-no" title="statement not covered" >return keys;}</span>
<span class="cstat-no" title="statement not covered" >var documentTypes_=["domain","regexp","url","url-prefix"],documentTypes=keySet(documentTypes_);<span class="cstat-no" title="statement not covered" >v</span>ar mediaTypes_=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],mediaTypes=keySet(mediaTypes_);<span class="cstat-no" title="statement not covered" >v</span>ar mediaFeatures_=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],mediaFeatures=keySet(mediaFeatures_);<span class="cstat-no" title="statement not covered" >v</span>ar mediaValueKeywords_=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],mediaValueKeywords=keySet(mediaValueKeywords_);<span class="cstat-no" title="statement not covered" >v</span>ar propertyKeywords_=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],propertyKeywords=keySet(propertyKeywords_);<span class="cstat-no" title="statement not covered" >v</span>ar nonStandardPropertyKeywords_=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],nonStandardPropertyKeywords=keySet(nonStandardPropertyKeywords_);<span class="cstat-no" title="statement not covered" >v</span>ar fontProperties_=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],fontProperties=keySet(fontProperties_);<span class="cstat-no" title="statement not covered" >v</span>ar counterDescriptors_=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],counterDescriptors=keySet(counterDescriptors_);<span class="cstat-no" title="statement not covered" >v</span>ar colorKeywords_=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],colorKeywords=keySet(colorKeywords_);<span class="cstat-no" title="statement not covered" >v</span>ar valueKeywords_=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],valueKeywords=keySet(valueKeywords_);<span class="cstat-no" title="statement not covered" >v</span>ar allWords=documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_).concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_).concat(valueKeywords_);<span class="cstat-no" title="statement not covered" >C</span>odeMirror.registerHelper("hintWords","css",allWords);<span class="fstat-no" title="function not covered" >f</span>unction tokenCComment(stream,state){<span class="cstat-no" title="statement not covered" ></span>var maybeEnd=false,ch;<span class="cstat-no" title="statement not covered" >w</span>hile((ch=stream.next())!=null){<span class="cstat-no" title="statement not covered" >if(maybeEnd&amp;&amp;ch=="/"){<span class="cstat-no" title="statement not covered" >state.tokenize=null;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span></span></span>
<span class="cstat-no" title="statement not covered" >maybeEnd=(ch=="*");}</span>
<span class="cstat-no" title="statement not covered" >return["comment","comment"];}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.defineMIME("text/css",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,tokenHooks:{"/":<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(!stream.eat("*"))<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >s</span></span>tate.tokenize=tokenCComment;<span class="cstat-no" title="statement not covered" >r</span>eturn tokenCComment(stream,state);}</span>},name:"css"});<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("text/x-scss",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:true,tokenHooks:{"/":<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(stream.eat("/")){<span class="cstat-no" title="statement not covered" >stream.skipToEnd();<span class="cstat-no" title="statement not covered" >r</span>eturn["comment","comment"];}</span>else <span class="cstat-no" title="statement not covered" >if(stream.eat("*")){<span class="cstat-no" title="statement not covered" >state.tokenize=tokenCComment;<span class="cstat-no" title="statement not covered" >r</span>eturn tokenCComment(stream,state);}</span>else{<span class="cstat-no" title="statement not covered" >return["operator","operator"];}</span>}</span></span>,":":<span class="fstat-no" title="function not covered" >function(stream){<span class="cstat-no" title="statement not covered" ></span>if(stream.match(/\s*\{/))</span></span>
<span class="cstat-no" title="statement not covered" >return[null,"{"];<span class="cstat-no" title="statement not covered" >r</span>eturn false;}</span>,"$":<span class="fstat-no" title="function not covered" >function(stream){<span class="cstat-no" title="statement not covered" ></span>stream.match(/^[\w-]+/);<span class="cstat-no" title="statement not covered" >i</span>f(stream.match(/^\s*:/,false))</span>
<span class="cstat-no" title="statement not covered" >return["variable-2","variable-definition"];<span class="cstat-no" title="statement not covered" >r</span>eturn["variable-2","variable"];}</span>,"#":<span class="fstat-no" title="function not covered" >function(stream){<span class="cstat-no" title="statement not covered" ></span>if(!stream.eat("{"))<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >r</span></span>eturn[null,"interpolation"];}</span>},name:"css",helperType:"scss"});<span class="cstat-no" title="statement not covered" >CodeMirror.defineMIME("text/x-less",{mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,mediaValueKeywords:mediaValueKeywords,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,colorKeywords:colorKeywords,valueKeywords:valueKeywords,fontProperties:fontProperties,allowNested:true,tokenHooks:{"/":<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(stream.eat("/")){<span class="cstat-no" title="statement not covered" >stream.skipToEnd();<span class="cstat-no" title="statement not covered" >r</span>eturn["comment","comment"];}</span>else <span class="cstat-no" title="statement not covered" >if(stream.eat("*")){<span class="cstat-no" title="statement not covered" >state.tokenize=tokenCComment;<span class="cstat-no" title="statement not covered" >r</span>eturn tokenCComment(stream,state);}</span>else{<span class="cstat-no" title="statement not covered" >return["operator","operator"];}</span>}</span></span>,"@":<span class="fstat-no" title="function not covered" >function(stream){<span class="cstat-no" title="statement not covered" ></span>if(stream.eat("{"))<span class="cstat-no" title="statement not covered" >return[null,"interpolation"];<span class="cstat-no" title="statement not covered" >i</span></span>f(stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,false))<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >s</span></span>tream.eatWhile(/[\w\\\-]/);<span class="cstat-no" title="statement not covered" >i</span>f(stream.match(/^\s*:/,false))</span></span>
<span class="cstat-no" title="statement not covered" >return["variable-2","variable-definition"];<span class="cstat-no" title="statement not covered" >r</span>eturn["variable-2","variable"];}</span>,"&amp;":<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return["atom","atom"];}</span>},name:"css",helperType:"less"});<span class="cstat-no" title="statement not covered" >CodeMirror.defineMIME("text/x-gss",{documentTypes:documentTypes,mediaTypes:mediaTypes,mediaFeatures:mediaFeatures,propertyKeywords:propertyKeywords,nonStandardPropertyKeywords:nonStandardPropertyKeywords,fontProperties:fontProperties,counterDescriptors:counterDescriptors,colorKeywords:colorKeywords,valueKeywords:valueKeywords,supportsAtComponent:true,tokenHooks:{"/":<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(!stream.eat("*"))<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >s</span></span>tate.tokenize=tokenCComment;<span class="cstat-no" title="statement not covered" >r</span>eturn tokenCComment(stream,state);}</span>},name:"css",helperType:"gss"});}</span>);;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){</span>"use strict";<span class="fstat-no" title="function not covered" >function expressionAllowed(stream,state,backUp){<span class="cstat-no" title="statement not covered" ></span>return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=&gt;)$/.test(state.lastType)||(state.lastType=="quasi"&amp;&amp;/\{\s*$/.test(stream.string.slice(0,stream.pos-(backUp||0))))}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.defineMode("javascript",<span class="fstat-no" title="function not covered" >function(config,parserConfig){<span class="cstat-no" title="statement not covered" ></span>var indentUnit=config.indentUnit;<span class="cstat-no" title="statement not covered" >v</span>ar statementIndent=parserConfig.statementIndent;<span class="cstat-no" title="statement not covered" >v</span>ar jsonldMode=parserConfig.jsonld;<span class="cstat-no" title="statement not covered" >v</span>ar jsonMode=parserConfig.json||jsonldMode;<span class="cstat-no" title="statement not covered" >v</span>ar isTS=parserConfig.typescript;<span class="cstat-no" title="statement not covered" >v</span>ar wordRE=parserConfig.wordCharacters||/[\w$\xa1-\uffff]/;<span class="cstat-no" title="statement not covered" >v</span>ar keywords=<span class="fstat-no" title="function not covered" >function(){<span class="fstat-no" title="function not covered" ></span>function kw(type){<span class="cstat-no" title="statement not covered" ></span>return{type:type,style:"keyword"};}</span></span></span>
<span class="cstat-no" title="statement not covered" >var A=kw("keyword a"),B=kw("keyword b"),C=kw("keyword c");<span class="cstat-no" title="statement not covered" >v</span>ar operator=kw("operator"),atom={type:"atom",style:"atom"};<span class="cstat-no" title="statement not covered" >v</span>ar jsKeywords={"if":kw("if"),"while":A,"with":A,"else":B,"do":B,"try":B,"finally":B,"return":C,"break":C,"continue":C,"new":kw("new"),"delete":C,"throw":C,"debugger":C,"var":kw("var"),"const":kw("var"),"let":kw("var"),"function":kw("function"),"catch":kw("catch"),"for":kw("for"),"switch":kw("switch"),"case":kw("case"),"default":kw("default"),"in":operator,"typeof":operator,"instanceof":operator,"true":atom,"false":atom,"null":atom,"undefined":atom,"NaN":atom,"Infinity":atom,"this":kw("this"),"class":kw("class"),"super":kw("atom"),"yield":C,"export":kw("export"),"import":kw("import"),"extends":C};<span class="cstat-no" title="statement not covered" >i</span>f(isTS){<span class="cstat-no" title="statement not covered" >var type={type:"variable",style:"variable-3"};<span class="cstat-no" title="statement not covered" >v</span>ar tsKeywords={"interface":kw("class"),"implements":C,"namespace":C,"module":kw("module"),"enum":kw("module"),"public":kw("modifier"),"private":kw("modifier"),"protected":kw("modifier"),"abstract":kw("modifier"),"as":operator,"string":type,"number":type,"boolean":type,"any":type};<span class="cstat-no" title="statement not covered" >f</span>or(var attr in tsKeywords){<span class="cstat-no" title="statement not covered" >jsKeywords[attr]=tsKeywords[attr];}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >return jsKeywords;}</span>();<span class="cstat-no" title="statement not covered" >var isOperatorChar=/[+\-*&amp;%=&lt;&gt;!?|~^]/;<span class="cstat-no" title="statement not covered" >v</span>ar isJsonldKeyword=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;<span class="fstat-no" title="function not covered" >f</span>unction readRegexp(stream){<span class="cstat-no" title="statement not covered" ></span>var escaped=false,next,inSet=false;<span class="cstat-no" title="statement not covered" >w</span>hile((next=stream.next())!=null){<span class="cstat-no" title="statement not covered" >if(!escaped){<span class="cstat-no" title="statement not covered" >if(next=="/"&amp;&amp;!inSet)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(next=="[")<span class="cstat-no" title="statement not covered" >inSet=true;e</span>lse <span class="cstat-no" title="statement not covered" >if(inSet&amp;&amp;next=="]")<span class="cstat-no" title="statement not covered" >inSet=false;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >escaped=!escaped&amp;&amp;next=="\\";}</span>}
<span class="cstat-no" title="statement not covered" >var type,content;<span class="fstat-no" title="function not covered" >f</span>unction ret(tp,style,cont){<span class="cstat-no" title="statement not covered" ></span>type=tp;<span class="cstat-no" title="statement not covered" >c</span>ontent=cont;<span class="cstat-no" title="statement not covered" >r</span>eturn style;}</span>
<span class="fstat-no" title="function not covered" >function tokenBase(stream,state){<span class="cstat-no" title="statement not covered" ></span>var ch=stream.next();<span class="cstat-no" title="statement not covered" >i</span>f(ch=='"'||ch=="'"){<span class="cstat-no" title="statement not covered" >state.tokenize=tokenString(ch);<span class="cstat-no" title="statement not covered" >r</span>eturn state.tokenize(stream,state);}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="."&amp;&amp;stream.match(/^\d+(?:[eE][+\-]?\d+)?/)){<span class="cstat-no" title="statement not covered" >return ret("number","number");}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="."&amp;&amp;stream.match("..")){<span class="cstat-no" title="statement not covered" >return ret("spread","meta");}</span>else <span class="cstat-no" title="statement not covered" >if(/[\[\]{}\(\),;\:\.]/.test(ch)){<span class="cstat-no" title="statement not covered" >return ret(ch);}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="="&amp;&amp;stream.eat("&gt;")){<span class="cstat-no" title="statement not covered" >return ret("=&gt;","operator");}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="0"&amp;&amp;stream.eat(/x/i)){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[\da-f]/i);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("number","number");}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="0"&amp;&amp;stream.eat(/o/i)){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[0-7]/i);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("number","number");}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="0"&amp;&amp;stream.eat(/b/i)){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[01]/i);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("number","number");}</span>else <span class="cstat-no" title="statement not covered" >if(/\d/.test(ch)){<span class="cstat-no" title="statement not covered" >stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("number","number");}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="/"){<span class="cstat-no" title="statement not covered" >if(stream.eat("*")){<span class="cstat-no" title="statement not covered" >state.tokenize=tokenComment;<span class="cstat-no" title="statement not covered" >r</span>eturn tokenComment(stream,state);}</span>else <span class="cstat-no" title="statement not covered" >if(stream.eat("/")){<span class="cstat-no" title="statement not covered" >stream.skipToEnd();<span class="cstat-no" title="statement not covered" >r</span>eturn ret("comment","comment");}</span>else <span class="cstat-no" title="statement not covered" >if(expressionAllowed(stream,state,1)){<span class="cstat-no" title="statement not covered" >readRegexp(stream);<span class="cstat-no" title="statement not covered" >s</span>tream.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("regexp","string-2");}</span>else{<span class="cstat-no" title="statement not covered" >stream.eatWhile(isOperatorChar);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("operator","operator",stream.current());}</span>}</span></span></span>else <span class="cstat-no" title="statement not covered" >if(ch=="`"){<span class="cstat-no" title="statement not covered" >state.tokenize=tokenQuasi;<span class="cstat-no" title="statement not covered" >r</span>eturn tokenQuasi(stream,state);}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="#"){<span class="cstat-no" title="statement not covered" >stream.skipToEnd();<span class="cstat-no" title="statement not covered" >r</span>eturn ret("error","error");}</span>else <span class="cstat-no" title="statement not covered" >if(isOperatorChar.test(ch)){<span class="cstat-no" title="statement not covered" >stream.eatWhile(isOperatorChar);<span class="cstat-no" title="statement not covered" >r</span>eturn ret("operator","operator",stream.current());}</span>else <span class="cstat-no" title="statement not covered" >if(wordRE.test(ch)){<span class="cstat-no" title="statement not covered" >stream.eatWhile(wordRE);<span class="cstat-no" title="statement not covered" >v</span>ar word=stream.current(),known=keywords.propertyIsEnumerable(word)&amp;&amp;keywords[word];<span class="cstat-no" title="statement not covered" >r</span>eturn(known&amp;&amp;state.lastType!=".")?ret(known.type,known.style,word):ret("variable","variable",word);}</span>}</span></span></span></span></span></span></span></span></span></span></span></span></span></span>
<span class="fstat-no" title="function not covered" >function tokenString(quote){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>var escaped=false,next;<span class="cstat-no" title="statement not covered" >i</span>f(jsonldMode&amp;&amp;stream.peek()=="@"&amp;&amp;stream.match(isJsonldKeyword)){<span class="cstat-no" title="statement not covered" >state.tokenize=tokenBase;<span class="cstat-no" title="statement not covered" >r</span>eturn ret("jsonld-keyword","meta");}</span></span></span>
<span class="cstat-no" title="statement not covered" >while((next=stream.next())!=null){<span class="cstat-no" title="statement not covered" >if(next==quote&amp;&amp;!escaped)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >e</span></span>scaped=!escaped&amp;&amp;next=="\\";}</span></span>
<span class="cstat-no" title="statement not covered" >if(!escaped)<span class="cstat-no" title="statement not covered" >state.tokenize=tokenBase;<span class="cstat-no" title="statement not covered" >r</span></span>eturn ret("string","string");}</span>;}
<span class="fstat-no" title="function not covered" >function tokenComment(stream,state){<span class="cstat-no" title="statement not covered" ></span>var maybeEnd=false,ch;<span class="cstat-no" title="statement not covered" >w</span>hile(ch=stream.next()){<span class="cstat-no" title="statement not covered" >if(ch=="/"&amp;&amp;maybeEnd){<span class="cstat-no" title="statement not covered" >state.tokenize=tokenBase;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span></span></span>
<span class="cstat-no" title="statement not covered" >maybeEnd=(ch=="*");}</span>
<span class="cstat-no" title="statement not covered" >return ret("comment","comment");}</span>
<span class="fstat-no" title="function not covered" >function tokenQuasi(stream,state){<span class="cstat-no" title="statement not covered" ></span>var escaped=false,next;<span class="cstat-no" title="statement not covered" >w</span>hile((next=stream.next())!=null){<span class="cstat-no" title="statement not covered" >if(!escaped&amp;&amp;(next=="`"||next=="$"&amp;&amp;stream.eat("{"))){<span class="cstat-no" title="statement not covered" >state.tokenize=tokenBase;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span></span></span>
<span class="cstat-no" title="statement not covered" >escaped=!escaped&amp;&amp;next=="\\";}</span>
<span class="cstat-no" title="statement not covered" >return ret("quasi","string-2",stream.current());}</span>
<span class="cstat-no" title="statement not covered" >var brackets="([{}])";<span class="fstat-no" title="function not covered" >f</span>unction findFatArrow(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(state.fatArrowAt)<span class="cstat-no" title="statement not covered" >state.fatArrowAt=null;<span class="cstat-no" title="statement not covered" >v</span></span>ar arrow=stream.string.indexOf("=&gt;",stream.start);<span class="cstat-no" title="statement not covered" >i</span>f(arrow&lt;0)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar depth=0,sawSomething=false;<span class="cstat-no" title="statement not covered" >f</span>or(var pos=arrow-1;pos&gt;=0;--pos){<span class="cstat-no" title="statement not covered" >var ch=stream.string.charAt(pos);<span class="cstat-no" title="statement not covered" >v</span>ar bracket=brackets.indexOf(ch);<span class="cstat-no" title="statement not covered" >i</span>f(bracket&gt;=0&amp;&amp;bracket&lt;3){<span class="cstat-no" title="statement not covered" >if(!depth){<span class="cstat-no" title="statement not covered" >++pos;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(--depth==0)<span class="cstat-no" title="statement not covered" >break;}</span></span>else <span class="cstat-no" title="statement not covered" >if(bracket&gt;=3&amp;&amp;bracket&lt;6){<span class="cstat-no" title="statement not covered" >++depth;}</span>else <span class="cstat-no" title="statement not covered" >if(wordRE.test(ch)){<span class="cstat-no" title="statement not covered" >sawSomething=true;}</span>else <span class="cstat-no" title="statement not covered" >if(/["'\/]/.test(ch)){<span class="cstat-no" title="statement not covered" >return;}</span>else <span class="cstat-no" title="statement not covered" >if(sawSomething&amp;&amp;!depth){<span class="cstat-no" title="statement not covered" >++pos;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span>}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(sawSomething&amp;&amp;!depth)<span class="cstat-no" title="statement not covered" >state.fatArrowAt=pos;}</span></span>
<span class="cstat-no" title="statement not covered" >var atomicTypes={"atom":true,"number":true,"variable":true,"string":true,"regexp":true,"this":true,"jsonld-keyword":true};<span class="fstat-no" title="function not covered" >f</span>unction JSLexical(indented,column,type,align,prev,info){<span class="cstat-no" title="statement not covered" ></span>this.indented=indented;<span class="cstat-no" title="statement not covered" >t</span>his.column=column;<span class="cstat-no" title="statement not covered" >t</span>his.type=type;<span class="cstat-no" title="statement not covered" >t</span>his.prev=prev;<span class="cstat-no" title="statement not covered" >t</span>his.info=info;<span class="cstat-no" title="statement not covered" >i</span>f(align!=null)<span class="cstat-no" title="statement not covered" >this.align=align;}</span></span>
<span class="fstat-no" title="function not covered" >function inScope(state,varname){<span class="cstat-no" title="statement not covered" ></span>for(var v=state.localVars;v;v=v.next)</span>
<span class="cstat-no" title="statement not covered" >if(v.name==varname)<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >f</span></span>or(var cx=state.context;cx;cx=cx.prev){<span class="cstat-no" title="statement not covered" >for(var v=cx.vars;v;v=v.next)</span></span>
<span class="cstat-no" title="statement not covered" >if(v.name==varname)<span class="cstat-no" title="statement not covered" >return true;}</span></span>}
<span class="fstat-no" title="function not covered" >function parseJS(state,style,type,content,stream){<span class="cstat-no" title="statement not covered" ></span>var cc=state.cc;<span class="cstat-no" title="statement not covered" >c</span>x.state=state;<span class="cstat-no" title="statement not covered" >c</span>x.stream=stream;<span class="cstat-no" title="statement not covered" >c</span>x.marked=null,cx.cc=cc;<span class="cstat-no" title="statement not covered" >c</span>x.style=style;<span class="cstat-no" title="statement not covered" >i</span>f(!state.lexical.hasOwnProperty("align"))</span>
<span class="cstat-no" title="statement not covered" >state.lexical.align=true;<span class="cstat-no" title="statement not covered" >w</span>hile(true){<span class="cstat-no" title="statement not covered" >var combinator=cc.length?cc.pop():jsonMode?expression:statement;<span class="cstat-no" title="statement not covered" >i</span>f(combinator(type,content)){<span class="cstat-no" title="statement not covered" >while(cc.length&amp;&amp;cc[cc.length-1].lex)</span></span></span>
<span class="cstat-no" title="statement not covered" >cc.pop()();<span class="cstat-no" title="statement not covered" >i</span>f(cx.marked)<span class="cstat-no" title="statement not covered" >return cx.marked;<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="variable"&amp;&amp;inScope(state,content))<span class="cstat-no" title="statement not covered" >return"variable-2";<span class="cstat-no" title="statement not covered" >r</span></span>eturn style;}</span>}}
<span class="cstat-no" title="statement not covered" >var cx={state:null,column:null,marked:null,cc:null};<span class="fstat-no" title="function not covered" >f</span>unction pass(){<span class="cstat-no" title="statement not covered" ></span>for(var i=arguments.length-1;i&gt;=0;i--)<span class="cstat-no" title="statement not covered" >cx.cc.push(arguments[i]);}</span></span>
<span class="fstat-no" title="function not covered" >function cont(){<span class="cstat-no" title="statement not covered" ></span>pass.apply(null,arguments);<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span>
<span class="fstat-no" title="function not covered" >function register(varname){<span class="fstat-no" title="function not covered" ></span>function inList(list){<span class="cstat-no" title="statement not covered" ></span>for(var v=list;v;v=v.next)</span>
<span class="cstat-no" title="statement not covered" >if(v.name==varname)<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >r</span></span>eturn false;}</span>
<span class="cstat-no" title="statement not covered" >var state=cx.state;<span class="cstat-no" title="statement not covered" >c</span>x.marked="def";<span class="cstat-no" title="statement not covered" >i</span>f(state.context){<span class="cstat-no" title="statement not covered" >if(inList(state.localVars))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >s</span></span>tate.localVars={name:varname,next:state.localVars};}</span>else{<span class="cstat-no" title="statement not covered" >if(inList(state.globalVars))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(parserConfig.globalVars)</span></span>
<span class="cstat-no" title="statement not covered" >state.globalVars={name:varname,next:state.globalVars};}</span>}
<span class="cstat-no" title="statement not covered" >var defaultVars={name:"this",next:{name:"arguments"}};<span class="fstat-no" title="function not covered" >f</span>unction pushcontext(){<span class="cstat-no" title="statement not covered" ></span>cx.state.context={prev:cx.state.context,vars:cx.state.localVars};<span class="cstat-no" title="statement not covered" >c</span>x.state.localVars=defaultVars;}</span>
<span class="fstat-no" title="function not covered" >function popcontext(){<span class="cstat-no" title="statement not covered" ></span>cx.state.localVars=cx.state.context.vars;<span class="cstat-no" title="statement not covered" >c</span>x.state.context=cx.state.context.prev;}</span>
<span class="fstat-no" title="function not covered" >function pushlex(type,info){<span class="cstat-no" title="statement not covered" ></span>var result=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var state=cx.state,indent=state.indented;<span class="cstat-no" title="statement not covered" >i</span>f(state.lexical.type=="stat")<span class="cstat-no" title="statement not covered" >indent=state.lexical.indented;e</span>lse <span class="cstat-no" title="statement not covered" >for(var outer=state.lexical;outer&amp;&amp;outer.type==")"&amp;&amp;outer.align;outer=outer.prev)</span></span></span>
<span class="cstat-no" title="statement not covered" >indent=outer.indented;<span class="cstat-no" title="statement not covered" >s</span>tate.lexical=new JSLexical(indent,cx.stream.column(),type,null,state.lexical,info);}</span>;<span class="cstat-no" title="statement not covered" >result.lex=true;<span class="cstat-no" title="statement not covered" >r</span>eturn result;}</span>
<span class="fstat-no" title="function not covered" >function poplex(){<span class="cstat-no" title="statement not covered" ></span>var state=cx.state;<span class="cstat-no" title="statement not covered" >i</span>f(state.lexical.prev){<span class="cstat-no" title="statement not covered" >if(state.lexical.type==")")</span></span>
<span class="cstat-no" title="statement not covered" >state.indented=state.lexical.indented;<span class="cstat-no" title="statement not covered" >s</span>tate.lexical=state.lexical.prev;}</span>}
<span class="cstat-no" title="statement not covered" >poplex.lex=true;<span class="fstat-no" title="function not covered" >f</span>unction expect(wanted){<span class="fstat-no" title="function not covered" ></span>function exp(type){<span class="cstat-no" title="statement not covered" ></span>if(type==wanted)<span class="cstat-no" title="statement not covered" >return cont();e</span>lse <span class="cstat-no" title="statement not covered" >if(wanted==";")<span class="cstat-no" title="statement not covered" >return pass();e</span>lse <span class="cstat-no" title="statement not covered" >return cont(exp);}</span></span></span>;<span class="cstat-no" title="statement not covered" >return exp;}</span>
<span class="fstat-no" title="function not covered" >function statement(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type=="var")<span class="cstat-no" title="statement not covered" >return cont(pushlex("vardef",value.length),vardef,expect(";"),poplex);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="keyword a")<span class="cstat-no" title="statement not covered" >return cont(pushlex("form"),expression,statement,poplex);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="keyword b")<span class="cstat-no" title="statement not covered" >return cont(pushlex("form"),statement,poplex);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="{")<span class="cstat-no" title="statement not covered" >return cont(pushlex("}"),block,poplex);<span class="cstat-no" title="statement not covered" >i</span></span>f(type==";")<span class="cstat-no" title="statement not covered" >return cont();<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="if"){<span class="cstat-no" title="statement not covered" >if(cx.state.lexical.info=="else"&amp;&amp;cx.state.cc[cx.state.cc.length-1]==poplex)</span></span>
<span class="cstat-no" title="statement not covered" >cx.state.cc.pop()();<span class="cstat-no" title="statement not covered" >r</span>eturn cont(pushlex("form"),expression,statement,poplex,maybeelse);}</span>
<span class="cstat-no" title="statement not covered" >if(type=="function")<span class="cstat-no" title="statement not covered" >return cont(functiondef);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="for")<span class="cstat-no" title="statement not covered" >return cont(pushlex("form"),forspec,statement,poplex);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="variable")<span class="cstat-no" title="statement not covered" >return cont(pushlex("stat"),maybelabel);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="switch")<span class="cstat-no" title="statement not covered" >return cont(pushlex("form"),expression,pushlex("}","switch"),expect("{"),block,poplex,poplex);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="case")<span class="cstat-no" title="statement not covered" >return cont(expression,expect(":"));<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="default")<span class="cstat-no" title="statement not covered" >return cont(expect(":"));<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="catch")<span class="cstat-no" title="statement not covered" >return cont(pushlex("form"),pushcontext,expect("("),funarg,expect(")"),statement,poplex,popcontext);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="class")<span class="cstat-no" title="statement not covered" >return cont(pushlex("form"),className,poplex);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="export")<span class="cstat-no" title="statement not covered" >return cont(pushlex("stat"),afterExport,poplex);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="import")<span class="cstat-no" title="statement not covered" >return cont(pushlex("stat"),afterImport,poplex);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="module")<span class="cstat-no" title="statement not covered" >return cont(pushlex("form"),pattern,pushlex("}"),expect("{"),block,poplex,poplex)</span></span>
<span class="cstat-no" title="statement not covered" >return pass(pushlex("stat"),expression,expect(";"),poplex);}</span>
<span class="fstat-no" title="function not covered" >function expression(type){<span class="cstat-no" title="statement not covered" ></span>return expressionInner(type,false);}</span>
<span class="fstat-no" title="function not covered" >function expressionNoComma(type){<span class="cstat-no" title="statement not covered" ></span>return expressionInner(type,true);}</span>
<span class="fstat-no" title="function not covered" >function expressionInner(type,noComma){<span class="cstat-no" title="statement not covered" ></span>if(cx.state.fatArrowAt==cx.stream.start){<span class="cstat-no" title="statement not covered" >var body=noComma?arrowBodyNoComma:arrowBody;<span class="cstat-no" title="statement not covered" >i</span>f(type=="(")<span class="cstat-no" title="statement not covered" >return cont(pushcontext,pushlex(")"),commasep(pattern,")"),poplex,expect("=&gt;"),body,popcontext);e</span>lse <span class="cstat-no" title="statement not covered" >if(type=="variable")<span class="cstat-no" title="statement not covered" >return pass(pushcontext,pattern,expect("=&gt;"),body,popcontext);}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >var maybeop=noComma?maybeoperatorNoComma:maybeoperatorComma;<span class="cstat-no" title="statement not covered" >i</span>f(atomicTypes.hasOwnProperty(type))<span class="cstat-no" title="statement not covered" >return cont(maybeop);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="function")<span class="cstat-no" title="statement not covered" >return cont(functiondef,maybeop);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="keyword c")<span class="cstat-no" title="statement not covered" >return cont(noComma?maybeexpressionNoComma:maybeexpression);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="(")<span class="cstat-no" title="statement not covered" >return cont(pushlex(")"),maybeexpression,comprehension,expect(")"),poplex,maybeop);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="operator"||type=="spread")<span class="cstat-no" title="statement not covered" >return cont(noComma?expressionNoComma:expression);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="[")<span class="cstat-no" title="statement not covered" >return cont(pushlex("]"),arrayLiteral,poplex,maybeop);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="{")<span class="cstat-no" title="statement not covered" >return contCommasep(objprop,"}",null,maybeop);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="quasi")<span class="cstat-no" title="statement not covered" >return pass(quasi,maybeop);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="new")<span class="cstat-no" title="statement not covered" >return cont(maybeTarget(noComma));<span class="cstat-no" title="statement not covered" >r</span></span>eturn cont();}</span>
<span class="fstat-no" title="function not covered" >function maybeexpression(type){<span class="cstat-no" title="statement not covered" ></span>if(type.match(/[;\}\)\],]/))<span class="cstat-no" title="statement not covered" >return pass();<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(expression);}</span>
<span class="fstat-no" title="function not covered" >function maybeexpressionNoComma(type){<span class="cstat-no" title="statement not covered" ></span>if(type.match(/[;\}\)\],]/))<span class="cstat-no" title="statement not covered" >return pass();<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(expressionNoComma);}</span>
<span class="fstat-no" title="function not covered" >function maybeoperatorComma(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type==",")<span class="cstat-no" title="statement not covered" >return cont(expression);<span class="cstat-no" title="statement not covered" >r</span></span>eturn maybeoperatorNoComma(type,value,false);}</span>
<span class="fstat-no" title="function not covered" >function maybeoperatorNoComma(type,value,noComma){<span class="cstat-no" title="statement not covered" ></span>var me=noComma==false?maybeoperatorComma:maybeoperatorNoComma;<span class="cstat-no" title="statement not covered" >v</span>ar expr=noComma==false?expression:expressionNoComma;<span class="cstat-no" title="statement not covered" >i</span>f(type=="=&gt;")<span class="cstat-no" title="statement not covered" >return cont(pushcontext,noComma?arrowBodyNoComma:arrowBody,popcontext);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="operator"){<span class="cstat-no" title="statement not covered" >if(/\+\+|--/.test(value))<span class="cstat-no" title="statement not covered" >return cont(me);<span class="cstat-no" title="statement not covered" >i</span></span>f(value=="?")<span class="cstat-no" title="statement not covered" >return cont(expression,expect(":"),expr);<span class="cstat-no" title="statement not covered" >r</span></span>eturn cont(expr);}</span></span>
<span class="cstat-no" title="statement not covered" >if(type=="quasi"){<span class="cstat-no" title="statement not covered" >return pass(quasi,me);}</span></span>
<span class="cstat-no" title="statement not covered" >if(type==";")<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="(")<span class="cstat-no" title="statement not covered" >return contCommasep(expressionNoComma,")","call",me);<span class="cstat-no" title="statement not covered" >i</span></span>f(type==".")<span class="cstat-no" title="statement not covered" >return cont(property,me);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="[")<span class="cstat-no" title="statement not covered" >return cont(pushlex("]"),maybeexpression,expect("]"),poplex,me);}</span></span>
<span class="fstat-no" title="function not covered" >function quasi(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type!="quasi")<span class="cstat-no" title="statement not covered" >return pass();<span class="cstat-no" title="statement not covered" >i</span></span>f(value.slice(value.length-2)!="${")<span class="cstat-no" title="statement not covered" >return cont(quasi);<span class="cstat-no" title="statement not covered" >r</span></span>eturn cont(expression,continueQuasi);}</span>
<span class="fstat-no" title="function not covered" >function continueQuasi(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="}"){<span class="cstat-no" title="statement not covered" >cx.marked="string-2";<span class="cstat-no" title="statement not covered" >c</span>x.state.tokenize=tokenQuasi;<span class="cstat-no" title="statement not covered" >r</span>eturn cont(quasi);}</span>}</span>
<span class="fstat-no" title="function not covered" >function arrowBody(type){<span class="cstat-no" title="statement not covered" ></span>findFatArrow(cx.stream,cx.state);<span class="cstat-no" title="statement not covered" >r</span>eturn pass(type=="{"?statement:expression);}</span>
<span class="fstat-no" title="function not covered" >function arrowBodyNoComma(type){<span class="cstat-no" title="statement not covered" ></span>findFatArrow(cx.stream,cx.state);<span class="cstat-no" title="statement not covered" >r</span>eturn pass(type=="{"?statement:expressionNoComma);}</span>
<span class="fstat-no" title="function not covered" >function maybeTarget(noComma){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(type){<span class="cstat-no" title="statement not covered" ></span>if(type==".")<span class="cstat-no" title="statement not covered" >return cont(noComma?targetNoComma:target);e</span>lse <span class="cstat-no" title="statement not covered" >return pass(noComma?expressionNoComma:expression);}</span></span>;}</span>
<span class="fstat-no" title="function not covered" >function target(_,value){<span class="cstat-no" title="statement not covered" ></span>if(value=="target"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(maybeoperatorComma);}</span>}</span>
<span class="fstat-no" title="function not covered" >function targetNoComma(_,value){<span class="cstat-no" title="statement not covered" ></span>if(value=="target"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(maybeoperatorNoComma);}</span>}</span>
<span class="fstat-no" title="function not covered" >function maybelabel(type){<span class="cstat-no" title="statement not covered" ></span>if(type==":")<span class="cstat-no" title="statement not covered" >return cont(poplex,statement);<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(maybeoperatorComma,expect(";"),poplex);}</span>
<span class="fstat-no" title="function not covered" >function property(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="variable"){<span class="cstat-no" title="statement not covered" >cx.marked="property";<span class="cstat-no" title="statement not covered" >r</span>eturn cont();}</span>}</span>
<span class="fstat-no" title="function not covered" >function objprop(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type=="variable"||cx.style=="keyword"){<span class="cstat-no" title="statement not covered" >cx.marked="property";<span class="cstat-no" title="statement not covered" >i</span>f(value=="get"||value=="set")<span class="cstat-no" title="statement not covered" >return cont(getterSetter);<span class="cstat-no" title="statement not covered" >r</span></span>eturn cont(afterprop);}</span>else <span class="cstat-no" title="statement not covered" >if(type=="number"||type=="string"){<span class="cstat-no" title="statement not covered" >cx.marked=jsonldMode?"property":(cx.style+" property");<span class="cstat-no" title="statement not covered" >r</span>eturn cont(afterprop);}</span>else <span class="cstat-no" title="statement not covered" >if(type=="jsonld-keyword"){<span class="cstat-no" title="statement not covered" >return cont(afterprop);}</span>else <span class="cstat-no" title="statement not covered" >if(type=="modifier"){<span class="cstat-no" title="statement not covered" >return cont(objprop)}</span>else <span class="cstat-no" title="statement not covered" >if(type=="["){<span class="cstat-no" title="statement not covered" >return cont(expression,expect("]"),afterprop);}</span>else <span class="cstat-no" title="statement not covered" >if(type=="spread"){<span class="cstat-no" title="statement not covered" >return cont(expression);}</span>}</span></span></span></span></span></span>
<span class="fstat-no" title="function not covered" >function getterSetter(type){<span class="cstat-no" title="statement not covered" ></span>if(type!="variable")<span class="cstat-no" title="statement not covered" >return pass(afterprop);<span class="cstat-no" title="statement not covered" >c</span></span>x.marked="property";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(functiondef);}</span>
<span class="fstat-no" title="function not covered" >function afterprop(type){<span class="cstat-no" title="statement not covered" ></span>if(type==":")<span class="cstat-no" title="statement not covered" >return cont(expressionNoComma);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="(")<span class="cstat-no" title="statement not covered" >return pass(functiondef);}</span></span>
<span class="fstat-no" title="function not covered" >function commasep(what,end){<span class="fstat-no" title="function not covered" ></span>function proceed(type){<span class="cstat-no" title="statement not covered" ></span>if(type==","){<span class="cstat-no" title="statement not covered" >var lex=cx.state.lexical;<span class="cstat-no" title="statement not covered" >i</span>f(lex.info=="call")<span class="cstat-no" title="statement not covered" >lex.pos=(lex.pos||0)+1;<span class="cstat-no" title="statement not covered" >r</span></span>eturn cont(what,proceed);}</span></span>
<span class="cstat-no" title="statement not covered" >if(type==end)<span class="cstat-no" title="statement not covered" >return cont();<span class="cstat-no" title="statement not covered" >r</span></span>eturn cont(expect(end));}</span>
<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function(type){<span class="cstat-no" title="statement not covered" ></span>if(type==end)<span class="cstat-no" title="statement not covered" >return cont();<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(what,proceed);}</span>;}</span>
<span class="fstat-no" title="function not covered" >function contCommasep(what,end,info){<span class="cstat-no" title="statement not covered" ></span>for(var i=3;i&lt;arguments.length;i++)</span>
<span class="cstat-no" title="statement not covered" >cx.cc.push(arguments[i]);<span class="cstat-no" title="statement not covered" >r</span>eturn cont(pushlex(end,info),commasep(what,end),poplex);}</span>
<span class="fstat-no" title="function not covered" >function block(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="}")<span class="cstat-no" title="statement not covered" >return cont();<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(statement,block);}</span>
<span class="fstat-no" title="function not covered" >function maybetype(type){<span class="cstat-no" title="statement not covered" ></span>if(isTS&amp;&amp;type==":")<span class="cstat-no" title="statement not covered" >return cont(typedef);}</span></span>
<span class="fstat-no" title="function not covered" >function maybedefault(_,value){<span class="cstat-no" title="statement not covered" ></span>if(value=="=")<span class="cstat-no" title="statement not covered" >return cont(expressionNoComma);}</span></span>
<span class="fstat-no" title="function not covered" >function typedef(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="variable"){<span class="cstat-no" title="statement not covered" >cx.marked="variable-3";<span class="cstat-no" title="statement not covered" >r</span>eturn cont();}</span>}</span>
<span class="fstat-no" title="function not covered" >function vardef(){<span class="cstat-no" title="statement not covered" ></span>return pass(pattern,maybetype,maybeAssign,vardefCont);}</span>
<span class="fstat-no" title="function not covered" >function pattern(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type=="modifier")<span class="cstat-no" title="statement not covered" >return cont(pattern)</span></span>
<span class="cstat-no" title="statement not covered" >if(type=="variable"){<span class="cstat-no" title="statement not covered" >register(value);<span class="cstat-no" title="statement not covered" >r</span>eturn cont();}</span></span>
<span class="cstat-no" title="statement not covered" >if(type=="spread")<span class="cstat-no" title="statement not covered" >return cont(pattern);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="[")<span class="cstat-no" title="statement not covered" >return contCommasep(pattern,"]");<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="{")<span class="cstat-no" title="statement not covered" >return contCommasep(proppattern,"}");}</span></span>
<span class="fstat-no" title="function not covered" >function proppattern(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type=="variable"&amp;&amp;!cx.stream.match(/^\s*:/,false)){<span class="cstat-no" title="statement not covered" >register(value);<span class="cstat-no" title="statement not covered" >r</span>eturn cont(maybeAssign);}</span></span>
<span class="cstat-no" title="statement not covered" >if(type=="variable")<span class="cstat-no" title="statement not covered" >cx.marked="property";<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="spread")<span class="cstat-no" title="statement not covered" >return cont(pattern);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="}")<span class="cstat-no" title="statement not covered" >return pass();<span class="cstat-no" title="statement not covered" >r</span></span>eturn cont(expect(":"),pattern,maybeAssign);}</span>
<span class="fstat-no" title="function not covered" >function maybeAssign(_type,value){<span class="cstat-no" title="statement not covered" ></span>if(value=="=")<span class="cstat-no" title="statement not covered" >return cont(expressionNoComma);}</span></span>
<span class="fstat-no" title="function not covered" >function vardefCont(type){<span class="cstat-no" title="statement not covered" ></span>if(type==",")<span class="cstat-no" title="statement not covered" >return cont(vardef);}</span></span>
<span class="fstat-no" title="function not covered" >function maybeelse(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type=="keyword b"&amp;&amp;value=="else")<span class="cstat-no" title="statement not covered" >return cont(pushlex("form","else"),statement,poplex);}</span></span>
<span class="fstat-no" title="function not covered" >function forspec(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="(")<span class="cstat-no" title="statement not covered" >return cont(pushlex(")"),forspec1,expect(")"),poplex);}</span></span>
<span class="fstat-no" title="function not covered" >function forspec1(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="var")<span class="cstat-no" title="statement not covered" >return cont(vardef,expect(";"),forspec2);<span class="cstat-no" title="statement not covered" >i</span></span>f(type==";")<span class="cstat-no" title="statement not covered" >return cont(forspec2);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="variable")<span class="cstat-no" title="statement not covered" >return cont(formaybeinof);<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(expression,expect(";"),forspec2);}</span>
<span class="fstat-no" title="function not covered" >function formaybeinof(_type,value){<span class="cstat-no" title="statement not covered" ></span>if(value=="in"||value=="of"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(expression);}</span></span>
<span class="cstat-no" title="statement not covered" >return cont(maybeoperatorComma,forspec2);}</span>
<span class="fstat-no" title="function not covered" >function forspec2(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type==";")<span class="cstat-no" title="statement not covered" >return cont(forspec3);<span class="cstat-no" title="statement not covered" >i</span></span>f(value=="in"||value=="of"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(expression);}</span></span>
<span class="cstat-no" title="statement not covered" >return pass(expression,expect(";"),forspec3);}</span>
<span class="fstat-no" title="function not covered" >function forspec3(type){<span class="cstat-no" title="statement not covered" ></span>if(type!=")")<span class="cstat-no" title="statement not covered" >cont(expression);}</span></span>
<span class="fstat-no" title="function not covered" >function functiondef(type,value){<span class="cstat-no" title="statement not covered" ></span>if(value=="*"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(functiondef);}</span></span>
<span class="cstat-no" title="statement not covered" >if(type=="variable"){<span class="cstat-no" title="statement not covered" >register(value);<span class="cstat-no" title="statement not covered" >r</span>eturn cont(functiondef);}</span></span>
<span class="cstat-no" title="statement not covered" >if(type=="(")<span class="cstat-no" title="statement not covered" >return cont(pushcontext,pushlex(")"),commasep(funarg,")"),poplex,statement,popcontext);}</span></span>
<span class="fstat-no" title="function not covered" >function funarg(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="spread")<span class="cstat-no" title="statement not covered" >return cont(funarg);<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(pattern,maybetype,maybedefault);}</span>
<span class="fstat-no" title="function not covered" >function className(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type=="variable"){<span class="cstat-no" title="statement not covered" >register(value);<span class="cstat-no" title="statement not covered" >r</span>eturn cont(classNameAfter);}</span>}</span>
<span class="fstat-no" title="function not covered" >function classNameAfter(type,value){<span class="cstat-no" title="statement not covered" ></span>if(value=="extends")<span class="cstat-no" title="statement not covered" >return cont(expression,classNameAfter);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="{")<span class="cstat-no" title="statement not covered" >return cont(pushlex("}"),classBody,poplex);}</span></span>
<span class="fstat-no" title="function not covered" >function classBody(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type=="variable"||cx.style=="keyword"){<span class="cstat-no" title="statement not covered" >if(value=="static"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(classBody);}</span></span></span>
<span class="cstat-no" title="statement not covered" >cx.marked="property";<span class="cstat-no" title="statement not covered" >i</span>f(value=="get"||value=="set")<span class="cstat-no" title="statement not covered" >return cont(classGetterSetter,functiondef,classBody);<span class="cstat-no" title="statement not covered" >r</span></span>eturn cont(functiondef,classBody);}</span>
<span class="cstat-no" title="statement not covered" >if(value=="*"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(classBody);}</span></span>
<span class="cstat-no" title="statement not covered" >if(type==";")<span class="cstat-no" title="statement not covered" >return cont(classBody);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="}")<span class="cstat-no" title="statement not covered" >return cont();}</span></span>
<span class="fstat-no" title="function not covered" >function classGetterSetter(type){<span class="cstat-no" title="statement not covered" ></span>if(type!="variable")<span class="cstat-no" title="statement not covered" >return pass();<span class="cstat-no" title="statement not covered" >c</span></span>x.marked="property";<span class="cstat-no" title="statement not covered" >r</span>eturn cont();}</span>
<span class="fstat-no" title="function not covered" >function afterExport(_type,value){<span class="cstat-no" title="statement not covered" ></span>if(value=="*"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(maybeFrom,expect(";"));}</span></span>
<span class="cstat-no" title="statement not covered" >if(value=="default"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(expression,expect(";"));}</span></span>
<span class="cstat-no" title="statement not covered" >return pass(statement);}</span>
<span class="fstat-no" title="function not covered" >function afterImport(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="string")<span class="cstat-no" title="statement not covered" >return cont();<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(importSpec,maybeFrom);}</span>
<span class="fstat-no" title="function not covered" >function importSpec(type,value){<span class="cstat-no" title="statement not covered" ></span>if(type=="{")<span class="cstat-no" title="statement not covered" >return contCommasep(importSpec,"}");<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="variable")<span class="cstat-no" title="statement not covered" >register(value);<span class="cstat-no" title="statement not covered" >i</span></span>f(value=="*")<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span></span>eturn cont(maybeAs);}</span>
<span class="fstat-no" title="function not covered" >function maybeAs(_type,value){<span class="cstat-no" title="statement not covered" ></span>if(value=="as"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(importSpec);}</span>}</span>
<span class="fstat-no" title="function not covered" >function maybeFrom(_type,value){<span class="cstat-no" title="statement not covered" ></span>if(value=="from"){<span class="cstat-no" title="statement not covered" >cx.marked="keyword";<span class="cstat-no" title="statement not covered" >r</span>eturn cont(expression);}</span>}</span>
<span class="fstat-no" title="function not covered" >function arrayLiteral(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="]")<span class="cstat-no" title="statement not covered" >return cont();<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(expressionNoComma,maybeArrayComprehension);}</span>
<span class="fstat-no" title="function not covered" >function maybeArrayComprehension(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="for")<span class="cstat-no" title="statement not covered" >return pass(comprehension,expect("]"));<span class="cstat-no" title="statement not covered" >i</span></span>f(type==",")<span class="cstat-no" title="statement not covered" >return cont(commasep(maybeexpressionNoComma,"]"));<span class="cstat-no" title="statement not covered" >r</span></span>eturn pass(commasep(expressionNoComma,"]"));}</span>
<span class="fstat-no" title="function not covered" >function comprehension(type){<span class="cstat-no" title="statement not covered" ></span>if(type=="for")<span class="cstat-no" title="statement not covered" >return cont(forspec,comprehension);<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="if")<span class="cstat-no" title="statement not covered" >return cont(expression,comprehension);}</span></span>
<span class="fstat-no" title="function not covered" >function isContinuedStatement(state,textAfter){<span class="cstat-no" title="statement not covered" ></span>return state.lastType=="operator"||state.lastType==","||isOperatorChar.test(textAfter.charAt(0))||/[,.]/.test(textAfter.charAt(0));}</span>
<span class="cstat-no" title="statement not covered" >return{startState:<span class="fstat-no" title="function not covered" >function(basecolumn){<span class="cstat-no" title="statement not covered" ></span>var state={tokenize:tokenBase,lastType:"sof",cc:[],lexical:new JSLexical((basecolumn||0)-indentUnit,0,"block",false),localVars:parserConfig.localVars,context:parserConfig.localVars&amp;&amp;{vars:parserConfig.localVars},indented:basecolumn||0};<span class="cstat-no" title="statement not covered" >i</span>f(parserConfig.globalVars&amp;&amp;typeof parserConfig.globalVars=="object")</span></span>
<span class="cstat-no" title="statement not covered" >state.globalVars=parserConfig.globalVars;<span class="cstat-no" title="statement not covered" >r</span>eturn state;}</span>,token:<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(stream.sol()){<span class="cstat-no" title="statement not covered" >if(!state.lexical.hasOwnProperty("align"))</span></span>
<span class="cstat-no" title="statement not covered" >state.lexical.align=false;<span class="cstat-no" title="statement not covered" >s</span>tate.indented=stream.indentation();<span class="cstat-no" title="statement not covered" >f</span>indFatArrow(stream,state);}</span>
<span class="cstat-no" title="statement not covered" >if(state.tokenize!=tokenComment&amp;&amp;stream.eatSpace())<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar style=state.tokenize(stream,state);<span class="cstat-no" title="statement not covered" >i</span>f(type=="comment")<span class="cstat-no" title="statement not covered" >return style;<span class="cstat-no" title="statement not covered" >s</span></span>tate.lastType=type=="operator"&amp;&amp;(content=="++"||content=="--")?"incdec":type;<span class="cstat-no" title="statement not covered" >r</span>eturn parseJS(state,style,type,content,stream);}</span>,indent:<span class="fstat-no" title="function not covered" >function(state,textAfter){<span class="cstat-no" title="statement not covered" ></span>if(state.tokenize==tokenComment)<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >i</span></span>f(state.tokenize!=tokenBase)<span class="cstat-no" title="statement not covered" >return 0;<span class="cstat-no" title="statement not covered" >v</span></span>ar firstChar=textAfter&amp;&amp;textAfter.charAt(0),lexical=state.lexical;<span class="cstat-no" title="statement not covered" >i</span>f(!/^\s*else\b/.test(textAfter))<span class="cstat-no" title="statement not covered" >for(var i=state.cc.length-1;i&gt;=0;--i){<span class="cstat-no" title="statement not covered" >var c=state.cc[i];<span class="cstat-no" title="statement not covered" >i</span>f(c==poplex)<span class="cstat-no" title="statement not covered" >lexical=lexical.prev;e</span>lse <span class="cstat-no" title="statement not covered" >if(c!=maybeelse)<span class="cstat-no" title="statement not covered" >break;}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(lexical.type=="stat"&amp;&amp;firstChar=="}")<span class="cstat-no" title="statement not covered" >lexical=lexical.prev;<span class="cstat-no" title="statement not covered" >i</span></span>f(statementIndent&amp;&amp;lexical.type==")"&amp;&amp;lexical.prev.type=="stat")</span>
<span class="cstat-no" title="statement not covered" >lexical=lexical.prev;<span class="cstat-no" title="statement not covered" >v</span>ar type=lexical.type,closing=firstChar==type;<span class="cstat-no" title="statement not covered" >i</span>f(type=="vardef")<span class="cstat-no" title="statement not covered" >return lexical.indented+(state.lastType=="operator"||state.lastType==","?lexical.info+1:0);e</span>lse <span class="cstat-no" title="statement not covered" >if(type=="form"&amp;&amp;firstChar=="{")<span class="cstat-no" title="statement not covered" >return lexical.indented;e</span>lse <span class="cstat-no" title="statement not covered" >if(type=="form")<span class="cstat-no" title="statement not covered" >return lexical.indented+indentUnit;e</span>lse <span class="cstat-no" title="statement not covered" >if(type=="stat")</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return lexical.indented+(isContinuedStatement(state,textAfter)?statementIndent||indentUnit:0);e</span>lse <span class="cstat-no" title="statement not covered" >if(lexical.info=="switch"&amp;&amp;!closing&amp;&amp;parserConfig.doubleIndentSwitch!=false)</span>
<span class="cstat-no" title="statement not covered" >return lexical.indented+(/^(?:case|default)\b/.test(textAfter)?indentUnit:2*indentUnit);e</span>lse <span class="cstat-no" title="statement not covered" >if(lexical.align)<span class="cstat-no" title="statement not covered" >return lexical.column+(closing?0:1);e</span>lse <span class="cstat-no" title="statement not covered" >return lexical.indented+(closing?0:indentUnit);}</span></span>,electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:jsonMode?null:"/*",blockCommentEnd:jsonMode?null:"*/",lineComment:jsonMode?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:jsonMode?"json":"javascript",jsonldMode:jsonldMode,jsonMode:jsonMode,expressionAllowed:expressionAllowed,skipExpression:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>var top=state.cc[state.cc.length-1]</span>
<span class="cstat-no" title="statement not covered" >if(top==expression||top==expressionNoComma)<span class="cstat-no" title="statement not covered" >state.cc.pop()}</span></span>};});<span class="cstat-no" title="statement not covered" >CodeMirror.registerHelper("wordChars","javascript",/[\w$]/);<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("text/javascript","javascript");<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("text/ecmascript","javascript");<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/javascript","javascript");<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/x-javascript","javascript");<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/ecmascript","javascript");<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/json",{name:"javascript",json:true});<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/x-json",{name:"javascript",json:true});<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:true});<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("text/typescript",{name:"javascript",typescript:true});<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/typescript",{name:"javascript",typescript:true});}</span>);;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){</span>"use strict";<span class="cstat-no" title="statement not covered" >CodeMirror.defineSimpleMode=<span class="fstat-no" title="function not covered" >function(name,states){<span class="cstat-no" title="statement not covered" ></span>CodeMirror.defineMode(name,<span class="fstat-no" title="function not covered" >function(config){<span class="cstat-no" title="statement not covered" ></span>return CodeMirror.simpleMode(config,states);}</span>);}</span>;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.simpleMode=<span class="fstat-no" title="function not covered" >function(config,states){<span class="cstat-no" title="statement not covered" ></span>ensureState(states,"start");<span class="cstat-no" title="statement not covered" >v</span>ar states_={},meta=states.meta||{},hasIndentation=false;<span class="cstat-no" title="statement not covered" >f</span>or(var state in states)<span class="cstat-no" title="statement not covered" >if(state!=meta&amp;&amp;states.hasOwnProperty(state)){<span class="cstat-no" title="statement not covered" >var list=states_[state]=[],orig=states[state];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;orig.length;i++){<span class="cstat-no" title="statement not covered" >var data=orig[i];<span class="cstat-no" title="statement not covered" >l</span>ist.push(new Rule(data,states));<span class="cstat-no" title="statement not covered" >i</span>f(data.indent||data.dedent)<span class="cstat-no" title="statement not covered" >hasIndentation=true;}</span></span>}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >var mode={startState:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{state:"start",pending:null,local:null,localState:null,indent:hasIndentation?[]:null};}</span>,copyState:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>var s={state:state.state,pending:state.pending,local:state.local,localState:null,indent:state.indent&amp;&amp;state.indent.slice(0)};<span class="cstat-no" title="statement not covered" >i</span>f(state.localState)</span></span>
<span class="cstat-no" title="statement not covered" >s.localState=CodeMirror.copyState(state.local.mode,state.localState);<span class="cstat-no" title="statement not covered" >i</span>f(state.stack)</span>
<span class="cstat-no" title="statement not covered" >s.stack=state.stack.slice(0);<span class="cstat-no" title="statement not covered" >f</span>or(var pers=state.persistentStates;pers;pers=pers.next)</span>
<span class="cstat-no" title="statement not covered" >s.persistentStates={mode:pers.mode,spec:pers.spec,state:pers.state==state.localState?s.localState:CodeMirror.copyState(pers.mode,pers.state),next:s.persistentStates};<span class="cstat-no" title="statement not covered" >r</span>eturn s;}</span>,token:tokenFunction(states_,config),innerMode:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>return state.local&amp;&amp;{mode:state.local.mode,state:state.localState};}</span>,indent:indentFunction(states_,meta)};<span class="cstat-no" title="statement not covered" >if(meta)<span class="cstat-no" title="statement not covered" >for(var prop in meta)<span class="cstat-no" title="statement not covered" >if(meta.hasOwnProperty(prop))</span></span></span>
<span class="cstat-no" title="statement not covered" >mode[prop]=meta[prop];<span class="cstat-no" title="statement not covered" >r</span>eturn mode;}</span>;<span class="fstat-no" title="function not covered" >function ensureState(states,name){<span class="cstat-no" title="statement not covered" ></span>if(!states.hasOwnProperty(name))</span>
<span class="cstat-no" title="statement not covered" >throw new Error("Undefined state "+name+"in simple mode");}</span>
<span class="fstat-no" title="function not covered" >function toRegex(val,caret){<span class="cstat-no" title="statement not covered" ></span>if(!val)<span class="cstat-no" title="statement not covered" >return/(?:)/;<span class="cstat-no" title="statement not covered" >v</span></span>ar flags="";<span class="cstat-no" title="statement not covered" >i</span>f(val instanceof RegExp){<span class="cstat-no" title="statement not covered" >if(val.ignoreCase)<span class="cstat-no" title="statement not covered" >flags="i";<span class="cstat-no" title="statement not covered" >v</span></span>al=val.source;}</span>else{<span class="cstat-no" title="statement not covered" >val=String(val);}</span></span>
<span class="cstat-no" title="statement not covered" >return new RegExp((caret===false?"":"^")+"(?:"+val+")",flags);}</span>
<span class="fstat-no" title="function not covered" >function asToken(val){<span class="cstat-no" title="statement not covered" ></span>if(!val)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >i</span></span>f(typeof val=="string")<span class="cstat-no" title="statement not covered" >return val.replace(/\./g," ");<span class="cstat-no" title="statement not covered" >v</span></span>ar result=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;val.length;i++)</span>
<span class="cstat-no" title="statement not covered" >result.push(val[i]&amp;&amp;val[i].replace(/\./g," "));<span class="cstat-no" title="statement not covered" >r</span>eturn result;}</span>
<span class="fstat-no" title="function not covered" >function Rule(data,states){<span class="cstat-no" title="statement not covered" ></span>if(data.next||data.push)<span class="cstat-no" title="statement not covered" >ensureState(states,data.next||data.push);<span class="cstat-no" title="statement not covered" >t</span></span>his.regex=toRegex(data.regex);<span class="cstat-no" title="statement not covered" >t</span>his.token=asToken(data.token);<span class="cstat-no" title="statement not covered" >t</span>his.data=data;}</span>
<span class="fstat-no" title="function not covered" >function tokenFunction(states,config){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(state.pending){<span class="cstat-no" title="statement not covered" >var pend=state.pending.shift();<span class="cstat-no" title="statement not covered" >i</span>f(state.pending.length==0)<span class="cstat-no" title="statement not covered" >state.pending=null;<span class="cstat-no" title="statement not covered" >s</span></span>tream.pos+=pend.text.length;<span class="cstat-no" title="statement not covered" >r</span>eturn pend.token;}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(state.local){<span class="cstat-no" title="statement not covered" >if(state.local.end&amp;&amp;stream.match(state.local.end)){<span class="cstat-no" title="statement not covered" >var tok=state.local.endToken||null;<span class="cstat-no" title="statement not covered" >s</span>tate.local=state.localState=null;<span class="cstat-no" title="statement not covered" >r</span>eturn tok;}</span>else{<span class="cstat-no" title="statement not covered" >var tok=state.local.mode.token(stream,state.localState),m;<span class="cstat-no" title="statement not covered" >i</span>f(state.local.endScan&amp;&amp;(m=state.local.endScan.exec(stream.current())))</span></span></span>
<span class="cstat-no" title="statement not covered" >stream.pos=stream.start+m.index;<span class="cstat-no" title="statement not covered" >r</span>eturn tok;}</span>}
<span class="cstat-no" title="statement not covered" >var curState=states[state.state];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;curState.length;i++){<span class="cstat-no" title="statement not covered" >var rule=curState[i];<span class="cstat-no" title="statement not covered" >v</span>ar matches=(!rule.data.sol||stream.sol())&amp;&amp;stream.match(rule.regex);<span class="cstat-no" title="statement not covered" >i</span>f(matches){<span class="cstat-no" title="statement not covered" >if(rule.data.next){<span class="cstat-no" title="statement not covered" >state.state=rule.data.next;}</span>else <span class="cstat-no" title="statement not covered" >if(rule.data.push){<span class="cstat-no" title="statement not covered" >(state.stack||(state.stack=[])).push(state.state);<span class="cstat-no" title="statement not covered" >s</span>tate.state=rule.data.push;}</span>else <span class="cstat-no" title="statement not covered" >if(rule.data.pop&amp;&amp;state.stack&amp;&amp;state.stack.length){<span class="cstat-no" title="statement not covered" >state.state=state.stack.pop();}</span></span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(rule.data.mode)</span>
<span class="cstat-no" title="statement not covered" >enterLocalMode(config,state,rule.data.mode,rule.token);<span class="cstat-no" title="statement not covered" >i</span>f(rule.data.indent)</span>
<span class="cstat-no" title="statement not covered" >state.indent.push(stream.indentation()+config.indentUnit);<span class="cstat-no" title="statement not covered" >i</span>f(rule.data.dedent)</span>
<span class="cstat-no" title="statement not covered" >state.indent.pop();<span class="cstat-no" title="statement not covered" >i</span>f(matches.length&gt;2){<span class="cstat-no" title="statement not covered" >state.pending=[];<span class="cstat-no" title="statement not covered" >f</span>or(var j=2;j&lt;matches.length;j++)</span></span>
<span class="cstat-no" title="statement not covered" >if(matches[j])</span>
<span class="cstat-no" title="statement not covered" >state.pending.push({text:matches[j],token:rule.token[j-1]});<span class="cstat-no" title="statement not covered" >s</span>tream.backUp(matches[0].length-(matches[1]?matches[1].length:0));<span class="cstat-no" title="statement not covered" >r</span>eturn rule.token[0];}</span>else <span class="cstat-no" title="statement not covered" >if(rule.token&amp;&amp;rule.token.join){<span class="cstat-no" title="statement not covered" >return rule.token[0];}</span>else{<span class="cstat-no" title="statement not covered" >return rule.token;}</span>}</span>}
<span class="cstat-no" title="statement not covered" >stream.next();<span class="cstat-no" title="statement not covered" >r</span>eturn null;}</span>;}
<span class="fstat-no" title="function not covered" >function cmp(a,b){<span class="cstat-no" title="statement not covered" ></span>if(a===b)<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >i</span></span>f(!a||typeof a!="object"||!b||typeof b!="object")<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span></span>ar props=0;<span class="cstat-no" title="statement not covered" >f</span>or(var prop in a)<span class="cstat-no" title="statement not covered" >if(a.hasOwnProperty(prop)){<span class="cstat-no" title="statement not covered" >if(!b.hasOwnProperty(prop)||!cmp(a[prop],b[prop]))<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >p</span></span>rops++;}</span></span></span>
<span class="cstat-no" title="statement not covered" >for(var prop in b)<span class="cstat-no" title="statement not covered" >if(b.hasOwnProperty(prop))<span class="cstat-no" title="statement not covered" >props--;<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn props==0;}</span>
<span class="fstat-no" title="function not covered" >function enterLocalMode(config,state,spec,token){<span class="cstat-no" title="statement not covered" ></span>var pers;<span class="cstat-no" title="statement not covered" >i</span>f(spec.persistent)<span class="cstat-no" title="statement not covered" >for(var p=state.persistentStates;p&amp;&amp;!pers;p=p.next)</span></span>
<span class="cstat-no" title="statement not covered" >if(spec.spec?cmp(spec.spec,p.spec):spec.mode==p.mode)<span class="cstat-no" title="statement not covered" >pers=p;<span class="cstat-no" title="statement not covered" >v</span></span>ar mode=pers?pers.mode:spec.mode||CodeMirror.getMode(config,spec.spec);<span class="cstat-no" title="statement not covered" >v</span>ar lState=pers?pers.state:CodeMirror.startState(mode);<span class="cstat-no" title="statement not covered" >i</span>f(spec.persistent&amp;&amp;!pers)</span>
<span class="cstat-no" title="statement not covered" >state.persistentStates={mode:mode,spec:spec.spec,state:lState,next:state.persistentStates};<span class="cstat-no" title="statement not covered" >s</span>tate.localState=lState;<span class="cstat-no" title="statement not covered" >s</span>tate.local={mode:mode,end:spec.end&amp;&amp;toRegex(spec.end),endScan:spec.end&amp;&amp;spec.forceEnd!==false&amp;&amp;toRegex(spec.end,false),endToken:token&amp;&amp;token.join?token[token.length-1]:token};}</span>
<span class="fstat-no" title="function not covered" >function indexOf(val,arr){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;arr.length;i++)<span class="cstat-no" title="statement not covered" >if(arr[i]===val)<span class="cstat-no" title="statement not covered" >return true;}</span></span></span>
<span class="fstat-no" title="function not covered" >function indentFunction(states,meta){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(state,textAfter,line){<span class="cstat-no" title="statement not covered" ></span>if(state.local&amp;&amp;state.local.mode.indent)</span></span>
<span class="cstat-no" title="statement not covered" >return state.local.mode.indent(state.localState,textAfter,line);<span class="cstat-no" title="statement not covered" >i</span>f(state.indent==null||state.local||meta.dontIndentStates&amp;&amp;indexOf(state.state,meta.dontIndentStates)&gt;-1)</span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span>ar pos=state.indent.length-1,rules=states[state.state];<span class="cstat-no" title="statement not covered" >s</span>can:<span class="cstat-no" title="statement not covered" >for(;;){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;rules.length;i++){<span class="cstat-no" title="statement not covered" >var rule=rules[i];<span class="cstat-no" title="statement not covered" >i</span>f(rule.data.dedent&amp;&amp;rule.data.dedentIfLineStart!==false){<span class="cstat-no" title="statement not covered" >var m=rule.regex.exec(textAfter);<span class="cstat-no" title="statement not covered" >i</span>f(m&amp;&amp;m[0]){<span class="cstat-no" title="statement not covered" >pos--;<span class="cstat-no" title="statement not covered" >i</span>f(rule.next||rule.push)<span class="cstat-no" title="statement not covered" >rules=states[rule.next||rule.push];<span class="cstat-no" title="statement not covered" >t</span></span>extAfter=textAfter.slice(m[0].length);<span class="cstat-no" title="statement not covered" >c</span>ontinue scan;}</span>}</span>}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >break;}</span>
<span class="cstat-no" title="statement not covered" >return pos&lt;0?0:state.indent[pos];}</span>;}});;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){</span>"use strict";<span class="cstat-no" title="statement not covered" >var htmlConfig={autoSelfClosers:{'area':true,'base':true,'br':true,'col':true,'command':true,'embed':true,'frame':true,'hr':true,'img':true,'input':true,'keygen':true,'link':true,'meta':true,'param':true,'source':true,'track':true,'wbr':true,'menuitem':true},implicitlyClosed:{'dd':true,'li':true,'optgroup':true,'option':true,'p':true,'rp':true,'rt':true,'tbody':true,'td':true,'tfoot':true,'th':true,'tr':true},contextGrabbers:{'dd':{'dd':true,'dt':true},'dt':{'dd':true,'dt':true},'li':{'li':true},'option':{'option':true,'optgroup':true},'optgroup':{'optgroup':true},'p':{'address':true,'article':true,'aside':true,'blockquote':true,'dir':true,'div':true,'dl':true,'fieldset':true,'footer':true,'form':true,'h1':true,'h2':true,'h3':true,'h4':true,'h5':true,'h6':true,'header':true,'hgroup':true,'hr':true,'menu':true,'nav':true,'ol':true,'p':true,'pre':true,'section':true,'table':true,'ul':true},'rp':{'rp':true,'rt':true},'rt':{'rp':true,'rt':true},'tbody':{'tbody':true,'tfoot':true},'td':{'td':true,'th':true},'tfoot':{'tbody':true},'th':{'td':true,'th':true},'thead':{'tbody':true,'tfoot':true},'tr':{'tr':true}},doNotIndent:{"pre":true},allowUnquoted:true,allowMissing:true,caseFold:true}</span>
<span class="cstat-no" title="statement not covered" >var xmlConfig={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,caseFold:false}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.defineMode("xml",<span class="fstat-no" title="function not covered" >function(editorConf,config_){<span class="cstat-no" title="statement not covered" ></span>var indentUnit=editorConf.indentUnit</span></span>
<span class="cstat-no" title="statement not covered" >var config={}</span>
<span class="cstat-no" title="statement not covered" >var defaults=config_.htmlMode?htmlConfig:xmlConfig</span>
<span class="cstat-no" title="statement not covered" >for(var prop in defaults)<span class="cstat-no" title="statement not covered" >config[prop]=defaults[prop]</span></span>
<span class="cstat-no" title="statement not covered" >for(var prop in config_)<span class="cstat-no" title="statement not covered" >config[prop]=config_[prop]</span></span>
<span class="cstat-no" title="statement not covered" >var type,setStyle;<span class="fstat-no" title="function not covered" >f</span>unction inText(stream,state){<span class="fstat-no" title="function not covered" ></span>function chain(parser){<span class="cstat-no" title="statement not covered" ></span>state.tokenize=parser;<span class="cstat-no" title="statement not covered" >r</span>eturn parser(stream,state);}</span>
<span class="cstat-no" title="statement not covered" >var ch=stream.next();<span class="cstat-no" title="statement not covered" >i</span>f(ch=="&lt;"){<span class="cstat-no" title="statement not covered" >if(stream.eat("!")){<span class="cstat-no" title="statement not covered" >if(stream.eat("[")){<span class="cstat-no" title="statement not covered" >if(stream.match("CDATA["))<span class="cstat-no" title="statement not covered" >return chain(inBlock("atom","]]&gt;"));e</span>lse <span class="cstat-no" title="statement not covered" >return null;}</span></span>else <span class="cstat-no" title="statement not covered" >if(stream.match("--")){<span class="cstat-no" title="statement not covered" >return chain(inBlock("comment","--&gt;"));}</span>else <span class="cstat-no" title="statement not covered" >if(stream.match("DOCTYPE",true,true)){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[\w\._\-]/);<span class="cstat-no" title="statement not covered" >r</span>eturn chain(doctype(1));}</span>else{<span class="cstat-no" title="statement not covered" >return null;}</span>}</span></span></span>else <span class="cstat-no" title="statement not covered" >if(stream.eat("?")){<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[\w\._\-]/);<span class="cstat-no" title="statement not covered" >s</span>tate.tokenize=inBlock("meta","?&gt;");<span class="cstat-no" title="statement not covered" >r</span>eturn"meta";}</span>else{<span class="cstat-no" title="statement not covered" >type=stream.eat("/")?"closeTag":"openTag";<span class="cstat-no" title="statement not covered" >s</span>tate.tokenize=inTag;<span class="cstat-no" title="statement not covered" >r</span>eturn"tag bracket";}</span>}</span></span>else <span class="cstat-no" title="statement not covered" >if(ch=="&amp;"){<span class="cstat-no" title="statement not covered" >var ok;<span class="cstat-no" title="statement not covered" >i</span>f(stream.eat("#")){<span class="cstat-no" title="statement not covered" >if(stream.eat("x")){<span class="cstat-no" title="statement not covered" >ok=stream.eatWhile(/[a-fA-F\d]/)&amp;&amp;stream.eat(";");}</span>else{<span class="cstat-no" title="statement not covered" >ok=stream.eatWhile(/[\d]/)&amp;&amp;stream.eat(";");}</span>}</span>else{<span class="cstat-no" title="statement not covered" >ok=stream.eatWhile(/[\w\.\-:]/)&amp;&amp;stream.eat(";");}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return ok?"atom":"error";}</span>else{<span class="cstat-no" title="statement not covered" >stream.eatWhile(/[^&amp;&lt;]/);<span class="cstat-no" title="statement not covered" >r</span>eturn null;}</span>}
<span class="cstat-no" title="statement not covered" >inText.isInText=true;<span class="fstat-no" title="function not covered" >f</span>unction inTag(stream,state){<span class="cstat-no" title="statement not covered" ></span>var ch=stream.next();<span class="cstat-no" title="statement not covered" >i</span>f(ch=="&gt;"||(ch=="/"&amp;&amp;stream.eat("&gt;"))){<span class="cstat-no" title="statement not covered" >state.tokenize=inText;<span class="cstat-no" title="statement not covered" >t</span>ype=ch=="&gt;"?"endTag":"selfcloseTag";<span class="cstat-no" title="statement not covered" >r</span>eturn"tag bracket";}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="="){<span class="cstat-no" title="statement not covered" >type="equals";<span class="cstat-no" title="statement not covered" >r</span>eturn null;}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="&lt;"){<span class="cstat-no" title="statement not covered" >state.tokenize=inText;<span class="cstat-no" title="statement not covered" >s</span>tate.state=baseState;<span class="cstat-no" title="statement not covered" >s</span>tate.tagName=state.tagStart=null;<span class="cstat-no" title="statement not covered" >v</span>ar next=state.tokenize(stream,state);<span class="cstat-no" title="statement not covered" >r</span>eturn next?next+" tag error":"tag error";}</span>else <span class="cstat-no" title="statement not covered" >if(/[\'\"]/.test(ch)){<span class="cstat-no" title="statement not covered" >state.tokenize=inAttribute(ch);<span class="cstat-no" title="statement not covered" >s</span>tate.stringStartCol=stream.column();<span class="cstat-no" title="statement not covered" >r</span>eturn state.tokenize(stream,state);}</span>else{<span class="cstat-no" title="statement not covered" >stream.match(/^[^\s\u00a0=&lt;&gt;\"\']*[^\s\u00a0=&lt;&gt;\"\'\/]/);<span class="cstat-no" title="statement not covered" >r</span>eturn"word";}</span>}</span></span></span></span>
<span class="fstat-no" title="function not covered" >function inAttribute(quote){<span class="cstat-no" title="statement not covered" ></span>var closure=<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>while(!stream.eol()){<span class="cstat-no" title="statement not covered" >if(stream.next()==quote){<span class="cstat-no" title="statement not covered" >state.tokenize=inTag;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span>}</span></span></span>
<span class="cstat-no" title="statement not covered" >return"string";}</span>;<span class="cstat-no" title="statement not covered" >closure.isInAttribute=true;<span class="cstat-no" title="statement not covered" >r</span>eturn closure;}</span>
<span class="fstat-no" title="function not covered" >function inBlock(style,terminator){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>while(!stream.eol()){<span class="cstat-no" title="statement not covered" >if(stream.match(terminator)){<span class="cstat-no" title="statement not covered" >state.tokenize=inText;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >stream.next();}</span>
<span class="cstat-no" title="statement not covered" >return style;}</span>;}
<span class="fstat-no" title="function not covered" >function doctype(depth){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>var ch;<span class="cstat-no" title="statement not covered" >w</span>hile((ch=stream.next())!=null){<span class="cstat-no" title="statement not covered" >if(ch=="&lt;"){<span class="cstat-no" title="statement not covered" >state.tokenize=doctype(depth+1);<span class="cstat-no" title="statement not covered" >r</span>eturn state.tokenize(stream,state);}</span>else <span class="cstat-no" title="statement not covered" >if(ch=="&gt;"){<span class="cstat-no" title="statement not covered" >if(depth==1){<span class="cstat-no" title="statement not covered" >state.tokenize=inText;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span>else{<span class="cstat-no" title="statement not covered" >state.tokenize=doctype(depth-1);<span class="cstat-no" title="statement not covered" >r</span>eturn state.tokenize(stream,state);}</span>}</span>}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return"meta";}</span>;}
<span class="fstat-no" title="function not covered" >function Context(state,tagName,startOfLine){<span class="cstat-no" title="statement not covered" ></span>this.prev=state.context;<span class="cstat-no" title="statement not covered" >t</span>his.tagName=tagName;<span class="cstat-no" title="statement not covered" >t</span>his.indent=state.indented;<span class="cstat-no" title="statement not covered" >t</span>his.startOfLine=startOfLine;<span class="cstat-no" title="statement not covered" >i</span>f(config.doNotIndent.hasOwnProperty(tagName)||(state.context&amp;&amp;state.context.noIndent))</span>
<span class="cstat-no" title="statement not covered" >this.noIndent=true;}</span>
<span class="fstat-no" title="function not covered" >function popContext(state){<span class="cstat-no" title="statement not covered" ></span>if(state.context)<span class="cstat-no" title="statement not covered" >state.context=state.context.prev;}</span></span>
<span class="fstat-no" title="function not covered" >function maybePopContext(state,nextTagName){<span class="cstat-no" title="statement not covered" ></span>var parentTagName;<span class="cstat-no" title="statement not covered" >w</span>hile(true){<span class="cstat-no" title="statement not covered" >if(!state.context){<span class="cstat-no" title="statement not covered" >return;}</span></span></span>
<span class="cstat-no" title="statement not covered" >parentTagName=state.context.tagName;<span class="cstat-no" title="statement not covered" >i</span>f(!config.contextGrabbers.hasOwnProperty(parentTagName)||!config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)){<span class="cstat-no" title="statement not covered" >return;}</span></span>
<span class="cstat-no" title="statement not covered" >popContext(state);}</span>}
<span class="fstat-no" title="function not covered" >function baseState(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="openTag"){<span class="cstat-no" title="statement not covered" >state.tagStart=stream.column();<span class="cstat-no" title="statement not covered" >r</span>eturn tagNameState;}</span>else <span class="cstat-no" title="statement not covered" >if(type=="closeTag"){<span class="cstat-no" title="statement not covered" >return closeTagNameState;}</span>else{<span class="cstat-no" title="statement not covered" >return baseState;}</span>}</span></span>
<span class="fstat-no" title="function not covered" >function tagNameState(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="word"){<span class="cstat-no" title="statement not covered" >state.tagName=stream.current();<span class="cstat-no" title="statement not covered" >s</span>etStyle="tag";<span class="cstat-no" title="statement not covered" >r</span>eturn attrState;}</span>else{<span class="cstat-no" title="statement not covered" >setStyle="error";<span class="cstat-no" title="statement not covered" >r</span>eturn tagNameState;}</span>}</span>
<span class="fstat-no" title="function not covered" >function closeTagNameState(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="word"){<span class="cstat-no" title="statement not covered" >var tagName=stream.current();<span class="cstat-no" title="statement not covered" >i</span>f(state.context&amp;&amp;state.context.tagName!=tagName&amp;&amp;config.implicitlyClosed.hasOwnProperty(state.context.tagName))</span></span>
<span class="cstat-no" title="statement not covered" >popContext(state);<span class="cstat-no" title="statement not covered" >i</span>f((state.context&amp;&amp;state.context.tagName==tagName)||config.matchClosing===false){<span class="cstat-no" title="statement not covered" >setStyle="tag";<span class="cstat-no" title="statement not covered" >r</span>eturn closeState;}</span>else{<span class="cstat-no" title="statement not covered" >setStyle="tag error";<span class="cstat-no" title="statement not covered" >r</span>eturn closeStateErr;}</span>}</span>else{<span class="cstat-no" title="statement not covered" >setStyle="error";<span class="cstat-no" title="statement not covered" >r</span>eturn closeStateErr;}</span>}
<span class="fstat-no" title="function not covered" >function closeState(type,_stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type!="endTag"){<span class="cstat-no" title="statement not covered" >setStyle="error";<span class="cstat-no" title="statement not covered" >r</span>eturn closeState;}</span></span>
<span class="cstat-no" title="statement not covered" >popContext(state);<span class="cstat-no" title="statement not covered" >r</span>eturn baseState;}</span>
<span class="fstat-no" title="function not covered" >function closeStateErr(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>setStyle="error";<span class="cstat-no" title="statement not covered" >r</span>eturn closeState(type,stream,state);}</span>
<span class="fstat-no" title="function not covered" >function attrState(type,_stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="word"){<span class="cstat-no" title="statement not covered" >setStyle="attribute";<span class="cstat-no" title="statement not covered" >r</span>eturn attrEqState;}</span>else <span class="cstat-no" title="statement not covered" >if(type=="endTag"||type=="selfcloseTag"){<span class="cstat-no" title="statement not covered" >var tagName=state.tagName,tagStart=state.tagStart;<span class="cstat-no" title="statement not covered" >s</span>tate.tagName=state.tagStart=null;<span class="cstat-no" title="statement not covered" >i</span>f(type=="selfcloseTag"||config.autoSelfClosers.hasOwnProperty(tagName)){<span class="cstat-no" title="statement not covered" >maybePopContext(state,tagName);}</span>else{<span class="cstat-no" title="statement not covered" >maybePopContext(state,tagName);<span class="cstat-no" title="statement not covered" >s</span>tate.context=new Context(state,tagName,tagStart==state.indented);}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return baseState;}</span>
<span class="cstat-no" title="statement not covered" >setStyle="error";<span class="cstat-no" title="statement not covered" >r</span>eturn attrState;}</span>
<span class="fstat-no" title="function not covered" >function attrEqState(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="equals")<span class="cstat-no" title="statement not covered" >return attrValueState;<span class="cstat-no" title="statement not covered" >i</span></span>f(!config.allowMissing)<span class="cstat-no" title="statement not covered" >setStyle="error";<span class="cstat-no" title="statement not covered" >r</span></span>eturn attrState(type,stream,state);}</span>
<span class="fstat-no" title="function not covered" >function attrValueState(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="string")<span class="cstat-no" title="statement not covered" >return attrContinuedState;<span class="cstat-no" title="statement not covered" >i</span></span>f(type=="word"&amp;&amp;config.allowUnquoted){<span class="cstat-no" title="statement not covered" >setStyle="string";<span class="cstat-no" title="statement not covered" >r</span>eturn attrState;}</span></span>
<span class="cstat-no" title="statement not covered" >setStyle="error";<span class="cstat-no" title="statement not covered" >r</span>eturn attrState(type,stream,state);}</span>
<span class="fstat-no" title="function not covered" >function attrContinuedState(type,stream,state){<span class="cstat-no" title="statement not covered" ></span>if(type=="string")<span class="cstat-no" title="statement not covered" >return attrContinuedState;<span class="cstat-no" title="statement not covered" >r</span></span>eturn attrState(type,stream,state);}</span>
<span class="cstat-no" title="statement not covered" >return{startState:<span class="fstat-no" title="function not covered" >function(baseIndent){<span class="cstat-no" title="statement not covered" ></span>var state={tokenize:inText,state:baseState,indented:baseIndent||0,tagName:null,tagStart:null,context:null}</span></span>
<span class="cstat-no" title="statement not covered" >if(baseIndent!=null)<span class="cstat-no" title="statement not covered" >state.baseIndent=baseIndent</span></span>
<span class="cstat-no" title="statement not covered" >return state}</span>,token:<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(!state.tagName&amp;&amp;stream.sol())</span>
<span class="cstat-no" title="statement not covered" >state.indented=stream.indentation();<span class="cstat-no" title="statement not covered" >i</span>f(stream.eatSpace())<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >t</span></span>ype=null;<span class="cstat-no" title="statement not covered" >v</span>ar style=state.tokenize(stream,state);<span class="cstat-no" title="statement not covered" >i</span>f((style||type)&amp;&amp;style!="comment"){<span class="cstat-no" title="statement not covered" >setStyle=null;<span class="cstat-no" title="statement not covered" >s</span>tate.state=state.state(type||style,stream,state);<span class="cstat-no" title="statement not covered" >i</span>f(setStyle)</span></span>
<span class="cstat-no" title="statement not covered" >style=setStyle=="error"?style+" error":setStyle;}</span>
<span class="cstat-no" title="statement not covered" >return style;}</span>,indent:<span class="fstat-no" title="function not covered" >function(state,textAfter,fullLine){<span class="cstat-no" title="statement not covered" ></span>var context=state.context;<span class="cstat-no" title="statement not covered" >i</span>f(state.tokenize.isInAttribute){<span class="cstat-no" title="statement not covered" >if(state.tagStart==state.indented)</span></span>
<span class="cstat-no" title="statement not covered" >return state.stringStartCol+1;e</span>lse
<span class="cstat-no" title="statement not covered" >return state.indented+indentUnit;}</span>
<span class="cstat-no" title="statement not covered" >if(context&amp;&amp;context.noIndent)<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >i</span></span>f(state.tokenize!=inTag&amp;&amp;state.tokenize!=inText)</span>
<span class="cstat-no" title="statement not covered" >return fullLine?fullLine.match(/^(\s*)/)[0].length:0;<span class="cstat-no" title="statement not covered" >i</span>f(state.tagName){<span class="cstat-no" title="statement not covered" >if(config.multilineTagIndentPastTag!==false)</span></span>
<span class="cstat-no" title="statement not covered" >return state.tagStart+state.tagName.length+2;e</span>lse
<span class="cstat-no" title="statement not covered" >return state.tagStart+indentUnit*(config.multilineTagIndentFactor||1);}</span>
<span class="cstat-no" title="statement not covered" >if(config.alignCDATA&amp;&amp;/&lt;!\[CDATA\[/.test(textAfter))<span class="cstat-no" title="statement not covered" >return 0;<span class="cstat-no" title="statement not covered" >v</span></span>ar tagAfter=textAfter&amp;&amp;/^&lt;(\/)?([\w_:\.-]*)/.exec(textAfter);<span class="cstat-no" title="statement not covered" >i</span>f(tagAfter&amp;&amp;tagAfter[1]){<span class="cstat-no" title="statement not covered" >while(context){<span class="cstat-no" title="statement not covered" >if(context.tagName==tagAfter[2]){<span class="cstat-no" title="statement not covered" >context=context.prev;<span class="cstat-no" title="statement not covered" >b</span>reak;}</span>else <span class="cstat-no" title="statement not covered" >if(config.implicitlyClosed.hasOwnProperty(context.tagName)){<span class="cstat-no" title="statement not covered" >context=context.prev;}</span>else{<span class="cstat-no" title="statement not covered" >break;}</span>}</span></span>}</span>else <span class="cstat-no" title="statement not covered" >if(tagAfter){<span class="cstat-no" title="statement not covered" >while(context){<span class="cstat-no" title="statement not covered" >var grabbers=config.contextGrabbers[context.tagName];<span class="cstat-no" title="statement not covered" >i</span>f(grabbers&amp;&amp;grabbers.hasOwnProperty(tagAfter[2]))</span></span></span></span>
<span class="cstat-no" title="statement not covered" >context=context.prev;e</span>lse
<span class="cstat-no" title="statement not covered" >break;}</span>}
<span class="cstat-no" title="statement not covered" >while(context&amp;&amp;context.prev&amp;&amp;!context.startOfLine)</span>
<span class="cstat-no" title="statement not covered" >context=context.prev;<span class="cstat-no" title="statement not covered" >i</span>f(context)<span class="cstat-no" title="statement not covered" >return context.indent+indentUnit;e</span>lse <span class="cstat-no" title="statement not covered" >return state.baseIndent||0;}</span></span>,electricInput:/&lt;\/[\s\w:]+&gt;$/,blockCommentStart:"&lt;!--",blockCommentEnd:"--&gt;",configuration:config.htmlMode?"html":"xml",helperType:config.htmlMode?"html":"xml",skipAttribute:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>if(state.state==attrValueState)</span>
<span class="cstat-no" title="statement not covered" >state.state=attrState}</span>};});<span class="cstat-no" title="statement not covered" >CodeMirror.defineMIME("text/xml","xml");<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/xml","xml");<span class="cstat-no" title="statement not covered" >i</span>f(!CodeMirror.mimeModes.hasOwnProperty("text/html"))</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});}</span>);;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){</span>"use strict";<span class="cstat-no" title="statement not covered" >CodeMirror.defineMode("htmlmixed",<span class="fstat-no" title="function not covered" >function(config,parserConfig){<span class="cstat-no" title="statement not covered" ></span>var htmlMode=CodeMirror.getMode(config,{name:"xml",htmlMode:true,multilineTagIndentFactor:parserConfig.multilineTagIndentFactor,multilineTagIndentPastTag:parserConfig.multilineTagIndentPastTag});<span class="cstat-no" title="statement not covered" >v</span>ar cssMode=CodeMirror.getMode(config,"css");<span class="cstat-no" title="statement not covered" >v</span>ar scriptTypes=[],scriptTypesConf=parserConfig&amp;&amp;parserConfig.scriptTypes;<span class="cstat-no" title="statement not covered" >s</span>criptTypes.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:CodeMirror.getMode(config,"javascript")});<span class="cstat-no" title="statement not covered" >i</span>f(scriptTypesConf)<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;scriptTypesConf.length;++i){<span class="cstat-no" title="statement not covered" >var conf=scriptTypesConf[i];<span class="cstat-no" title="statement not covered" >s</span>criptTypes.push({matches:conf.matches,mode:conf.mode&amp;&amp;CodeMirror.getMode(config,conf.mode)});}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >scriptTypes.push({matches:/./,mode:CodeMirror.getMode(config,"text/plain")});<span class="fstat-no" title="function not covered" >f</span>unction html(stream,state){<span class="cstat-no" title="statement not covered" ></span>var tagName=state.htmlState.tagName;<span class="cstat-no" title="statement not covered" >i</span>f(tagName)<span class="cstat-no" title="statement not covered" >tagName=tagName.toLowerCase();<span class="cstat-no" title="statement not covered" >v</span></span>ar style=htmlMode.token(stream,state.htmlState);<span class="cstat-no" title="statement not covered" >i</span>f(tagName=="script"&amp;&amp;/\btag\b/.test(style)&amp;&amp;stream.current()=="&gt;"){<span class="cstat-no" title="statement not covered" >var scriptType=stream.string.slice(Math.max(0,stream.pos-100),stream.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^&lt;]*$/i);<span class="cstat-no" title="statement not covered" >s</span>criptType=scriptType?scriptType[1]:"";<span class="cstat-no" title="statement not covered" >i</span>f(scriptType&amp;&amp;/[\"\']/.test(scriptType.charAt(0)))<span class="cstat-no" title="statement not covered" >scriptType=scriptType.slice(1,scriptType.length-1);<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0;i&lt;scriptTypes.length;++i){<span class="cstat-no" title="statement not covered" >var tp=scriptTypes[i];<span class="cstat-no" title="statement not covered" >i</span>f(typeof tp.matches=="string"?scriptType==tp.matches:tp.matches.test(scriptType)){<span class="cstat-no" title="statement not covered" >if(tp.mode){<span class="cstat-no" title="statement not covered" >state.token=script;<span class="cstat-no" title="statement not covered" >s</span>tate.localMode=tp.mode;<span class="cstat-no" title="statement not covered" >s</span>tate.localState=tp.mode.startState&amp;&amp;tp.mode.startState(htmlMode.indent(state.htmlState,""));}</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >break;}</span>}}else <span class="cstat-no" title="statement not covered" >if(tagName=="style"&amp;&amp;/\btag\b/.test(style)&amp;&amp;stream.current()=="&gt;"){<span class="cstat-no" title="statement not covered" >state.token=css;<span class="cstat-no" title="statement not covered" >s</span>tate.localMode=cssMode;<span class="cstat-no" title="statement not covered" >s</span>tate.localState=cssMode.startState(htmlMode.indent(state.htmlState,""));}</span></span>
<span class="cstat-no" title="statement not covered" >return style;}</span>
<span class="fstat-no" title="function not covered" >function maybeBackup(stream,pat,style){<span class="cstat-no" title="statement not covered" ></span>var cur=stream.current();<span class="cstat-no" title="statement not covered" >v</span>ar close=cur.search(pat),m;<span class="cstat-no" title="statement not covered" >i</span>f(close&gt;-1)<span class="cstat-no" title="statement not covered" >stream.backUp(cur.length-close);e</span>lse <span class="cstat-no" title="statement not covered" >if(m=cur.match(/&lt;\/?$/)){<span class="cstat-no" title="statement not covered" >stream.backUp(cur.length);<span class="cstat-no" title="statement not covered" >i</span>f(!stream.match(pat,false))<span class="cstat-no" title="statement not covered" >stream.match(cur);}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return style;}</span>
<span class="fstat-no" title="function not covered" >function script(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(stream.match(/^&lt;\/\s*script\s*&gt;/i,false)){<span class="cstat-no" title="statement not covered" >state.token=html;<span class="cstat-no" title="statement not covered" >s</span>tate.localState=state.localMode=null;<span class="cstat-no" title="statement not covered" >r</span>eturn html(stream,state);}</span></span>
<span class="cstat-no" title="statement not covered" >return maybeBackup(stream,/&lt;\/\s*script\s*&gt;/,state.localMode.token(stream,state.localState));}</span>
<span class="fstat-no" title="function not covered" >function css(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(stream.match(/^&lt;\/\s*style\s*&gt;/i,false)){<span class="cstat-no" title="statement not covered" >state.token=html;<span class="cstat-no" title="statement not covered" >s</span>tate.localState=state.localMode=null;<span class="cstat-no" title="statement not covered" >r</span>eturn html(stream,state);}</span></span>
<span class="cstat-no" title="statement not covered" >return maybeBackup(stream,/&lt;\/\s*style\s*&gt;/,cssMode.token(stream,state.localState));}</span>
<span class="cstat-no" title="statement not covered" >return{startState:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>var state=htmlMode.startState();<span class="cstat-no" title="statement not covered" >r</span>eturn{token:html,localMode:null,localState:null,htmlState:state};}</span>,copyState:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>if(state.localState)</span></span>
<span class="cstat-no" title="statement not covered" >var local=CodeMirror.copyState(state.localMode,state.localState);<span class="cstat-no" title="statement not covered" >r</span>eturn{token:state.token,localMode:state.localMode,localState:local,htmlState:CodeMirror.copyState(htmlMode,state.htmlState)};}</span>,token:<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>return state.token(stream,state);}</span>,indent:<span class="fstat-no" title="function not covered" >function(state,textAfter){<span class="cstat-no" title="statement not covered" ></span>if(!state.localMode||/^\s*&lt;\//.test(textAfter))</span>
<span class="cstat-no" title="statement not covered" >return htmlMode.indent(state.htmlState,textAfter);e</span>lse <span class="cstat-no" title="statement not covered" >if(state.localMode.indent)</span>
<span class="cstat-no" title="statement not covered" >return state.localMode.indent(state.localState,textAfter);e</span>lse
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;}</span>,innerMode:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>return{state:state.localState||state.htmlState,mode:state.localMode||htmlMode};}</span>};},"xml","javascript","css");<span class="cstat-no" title="statement not covered" >CodeMirror.defineMIME("text/html","htmlmixed");}</span>);;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror","../htmlmixed/htmlmixed"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){</span>"use strict";<span class="cstat-no" title="statement not covered" >CodeMirror.defineMode("htmlembedded",<span class="fstat-no" title="function not covered" >function(config,parserConfig){<span class="cstat-no" title="statement not covered" ></span>var scriptStartRegex=parserConfig.scriptStartRegex||/^&lt;%/i,scriptEndRegex=parserConfig.scriptEndRegex||/^%&gt;/i;<span class="cstat-no" title="statement not covered" >v</span>ar scriptingMode,htmlMixedMode;<span class="fstat-no" title="function not covered" >f</span>unction htmlDispatch(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(stream.match(scriptStartRegex,false)){<span class="cstat-no" title="statement not covered" >state.token=scriptingDispatch;<span class="cstat-no" title="statement not covered" >r</span>eturn scriptingMode.token(stream,state.scriptState);}</span></span></span>
else
<span class="cstat-no" title="statement not covered" >return htmlMixedMode.token(stream,state.htmlState);}</span>
<span class="fstat-no" title="function not covered" >function scriptingDispatch(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(stream.match(scriptEndRegex,false)){<span class="cstat-no" title="statement not covered" >state.token=htmlDispatch;<span class="cstat-no" title="statement not covered" >r</span>eturn htmlMixedMode.token(stream,state.htmlState);}</span></span>
else
<span class="cstat-no" title="statement not covered" >return scriptingMode.token(stream,state.scriptState);}</span>
<span class="cstat-no" title="statement not covered" >return{startState:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>scriptingMode=scriptingMode||CodeMirror.getMode(config,parserConfig.scriptingModeSpec);<span class="cstat-no" title="statement not covered" >h</span>tmlMixedMode=htmlMixedMode||CodeMirror.getMode(config,"htmlmixed");<span class="cstat-no" title="statement not covered" >r</span>eturn{token:parserConfig.startOpen?scriptingDispatch:htmlDispatch,htmlState:CodeMirror.startState(htmlMixedMode),scriptState:CodeMirror.startState(scriptingMode)};}</span>,token:<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>return state.token(stream,state);}</span>,indent:<span class="fstat-no" title="function not covered" >function(state,textAfter){<span class="cstat-no" title="statement not covered" ></span>if(state.token==htmlDispatch)</span></span>
<span class="cstat-no" title="statement not covered" >return htmlMixedMode.indent(state.htmlState,textAfter);e</span>lse <span class="cstat-no" title="statement not covered" >if(scriptingMode.indent)</span>
<span class="cstat-no" title="statement not covered" >return scriptingMode.indent(state.scriptState,textAfter);}</span>,copyState:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>return{token:state.token,htmlState:CodeMirror.copyState(htmlMixedMode,state.htmlState),scriptState:CodeMirror.copyState(scriptingMode,state.scriptState)};}</span>,innerMode:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>if(state.token==scriptingDispatch)<span class="cstat-no" title="statement not covered" >return{state:state.scriptState,mode:scriptingMode};e</span>lse <span class="cstat-no" title="statement not covered" >return{state:state.htmlState,mode:htmlMixedMode};}</span></span>};},"htmlmixed");<span class="cstat-no" title="statement not covered" >CodeMirror.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"});<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"});<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"});<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"});}</span>);;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){<span class="cstat-no" title="statement not covered" ></span>var ie_lt8=/MSIE \d/.test(navigator.userAgent)&amp;&amp;(document.documentMode==null||document.documentMode&lt;8);<span class="cstat-no" title="statement not covered" >v</span>ar Pos=CodeMirror.Pos;<span class="cstat-no" title="statement not covered" >v</span>ar matching={"(":")&gt;",")":"(&lt;","[":"]&gt;","]":"[&lt;","{":"}&gt;","}":"{&lt;"};<span class="fstat-no" title="function not covered" >f</span>unction findMatchingBracket(cm,where,strict,config){<span class="cstat-no" title="statement not covered" ></span>var line=cm.getLineHandle(where.line),pos=where.ch-1;<span class="cstat-no" title="statement not covered" >v</span>ar match=(pos&gt;=0&amp;&amp;matching[line.text.charAt(pos)])||matching[line.text.charAt(++pos)];<span class="cstat-no" title="statement not covered" >i</span>f(!match)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar dir=match.charAt(1)=="&gt;"?1:-1;<span class="cstat-no" title="statement not covered" >i</span>f(strict&amp;&amp;(dir&gt;0)!=(pos==where.ch))<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span></span>ar style=cm.getTokenTypeAt(Pos(where.line,pos+1));<span class="cstat-no" title="statement not covered" >v</span>ar found=scanForBracket(cm,Pos(where.line,pos+(dir&gt;0?1:0)),dir,style||null,config);<span class="cstat-no" title="statement not covered" >i</span>f(found==null)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >r</span></span>eturn{from:Pos(where.line,pos),to:found&amp;&amp;found.pos,match:found&amp;&amp;found.ch==match.charAt(0),forward:dir&gt;0};}</span>
<span class="fstat-no" title="function not covered" >function scanForBracket(cm,where,dir,style,config){<span class="cstat-no" title="statement not covered" ></span>var maxScanLen=(config&amp;&amp;config.maxScanLineLength)||10000;<span class="cstat-no" title="statement not covered" >v</span>ar maxScanLines=(config&amp;&amp;config.maxScanLines)||1000;<span class="cstat-no" title="statement not covered" >v</span>ar stack=[];<span class="cstat-no" title="statement not covered" >v</span>ar re=config&amp;&amp;config.bracketRegex?config.bracketRegex:/[(){}[\]]/;<span class="cstat-no" title="statement not covered" >v</span>ar lineEnd=dir&gt;0?Math.min(where.line+maxScanLines,cm.lastLine()+1):Math.max(cm.firstLine()-1,where.line-maxScanLines);<span class="cstat-no" title="statement not covered" >f</span>or(var lineNo=where.line;lineNo!=lineEnd;lineNo+=dir){<span class="cstat-no" title="statement not covered" >var line=cm.getLine(lineNo);<span class="cstat-no" title="statement not covered" >i</span>f(!line)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >v</span></span>ar pos=dir&gt;0?0:line.length-1,end=dir&gt;0?line.length:-1;<span class="cstat-no" title="statement not covered" >i</span>f(line.length&gt;maxScanLen)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(lineNo==where.line)<span class="cstat-no" title="statement not covered" >pos=where.ch-(dir&lt;0?1:0);<span class="cstat-no" title="statement not covered" >f</span></span>or(;pos!=end;pos+=dir){<span class="cstat-no" title="statement not covered" >var ch=line.charAt(pos);<span class="cstat-no" title="statement not covered" >i</span>f(re.test(ch)&amp;&amp;(style===undefined||cm.getTokenTypeAt(Pos(lineNo,pos+1))==style)){<span class="cstat-no" title="statement not covered" >var match=matching[ch];<span class="cstat-no" title="statement not covered" >i</span>f((match.charAt(1)=="&gt;")==(dir&gt;0))<span class="cstat-no" title="statement not covered" >stack.push(ch);e</span>lse <span class="cstat-no" title="statement not covered" >if(!stack.length)<span class="cstat-no" title="statement not covered" >return{pos:Pos(lineNo,pos),ch:ch};e</span>lse <span class="cstat-no" title="statement not covered" >stack.pop();}</span></span></span>}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >return lineNo-dir==(dir&gt;0?cm.lastLine():cm.firstLine())?false:null;}</span>
<span class="fstat-no" title="function not covered" >function matchBrackets(cm,autoclear,config){<span class="cstat-no" title="statement not covered" ></span>var maxHighlightLen=cm.state.matchBrackets.maxHighlightLineLength||1000;<span class="cstat-no" title="statement not covered" >v</span>ar marks=[],ranges=cm.listSelections();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var match=ranges[i].empty()&amp;&amp;findMatchingBracket(cm,ranges[i].head,false,config);<span class="cstat-no" title="statement not covered" >i</span>f(match&amp;&amp;cm.getLine(match.from.line).length&lt;=maxHighlightLen){<span class="cstat-no" title="statement not covered" >var style=match.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";<span class="cstat-no" title="statement not covered" >m</span>arks.push(cm.markText(match.from,Pos(match.from.line,match.from.ch+1),{className:style}));<span class="cstat-no" title="statement not covered" >i</span>f(match.to&amp;&amp;cm.getLine(match.to.line).length&lt;=maxHighlightLen)</span></span></span>
<span class="cstat-no" title="statement not covered" >marks.push(cm.markText(match.to,Pos(match.to.line,match.to.ch+1),{className:style}));}</span>}
<span class="cstat-no" title="statement not covered" >if(marks.length){<span class="cstat-no" title="statement not covered" >if(ie_lt8&amp;&amp;cm.state.focused)<span class="cstat-no" title="statement not covered" >cm.display.input.focus();<span class="cstat-no" title="statement not covered" >v</span></span>ar clear=<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>cm.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;marks.length;i++)<span class="cstat-no" title="statement not covered" >marks[i].clear();}</span></span>);}</span>;<span class="cstat-no" title="statement not covered" >i</span>f(autoclear)<span class="cstat-no" title="statement not covered" >setTimeout(clear,800);e</span>lse <span class="cstat-no" title="statement not covered" >return clear;}</span></span>}</span>
<span class="cstat-no" title="statement not covered" >var currentlyHighlighted=null;<span class="fstat-no" title="function not covered" >f</span>unction doMatchBrackets(cm){<span class="cstat-no" title="statement not covered" ></span>cm.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(currentlyHighlighted){<span class="cstat-no" title="statement not covered" >currentlyHighlighted();<span class="cstat-no" title="statement not covered" >c</span>urrentlyHighlighted=null;}</span></span></span>
<span class="cstat-no" title="statement not covered" >currentlyHighlighted=matchBrackets(cm,false,cm.state.matchBrackets);}</span>);}
<span class="cstat-no" title="statement not covered" >CodeMirror.defineOption("matchBrackets",false,<span class="fstat-no" title="function not covered" >function(cm,val,old){<span class="cstat-no" title="statement not covered" ></span>if(old&amp;&amp;old!=CodeMirror.Init)</span></span>
<span class="cstat-no" title="statement not covered" >cm.off("cursorActivity",doMatchBrackets);<span class="cstat-no" title="statement not covered" >i</span>f(val){<span class="cstat-no" title="statement not covered" >cm.state.matchBrackets=typeof val=="object"?val:{};<span class="cstat-no" title="statement not covered" >c</span>m.on("cursorActivity",doMatchBrackets);}</span>}</span>);<span class="cstat-no" title="statement not covered" >CodeMirror.defineExtension("matchBrackets",<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>matchBrackets(this,true);}</span>);<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineExtension("findMatchingBracket",<span class="fstat-no" title="function not covered" >function(pos,strict,config){<span class="cstat-no" title="statement not covered" ></span>return findMatchingBracket(this,pos,strict,config);}</span>);<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineExtension("scanForBracket",<span class="fstat-no" title="function not covered" >function(pos,dir,style,config){<span class="cstat-no" title="statement not covered" ></span>return scanForBracket(this,pos,dir,style,config);}</span>);}</span>);;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){<span class="cstat-no" title="statement not covered" ></span>var DEFAULT_BRACKETS="()[]{}''\"\"";<span class="cstat-no" title="statement not covered" >v</span>ar DEFAULT_EXPLODE_ON_ENTER="[]{}";<span class="cstat-no" title="statement not covered" >v</span>ar SPACE_CHAR_REGEX=/\s/;<span class="cstat-no" title="statement not covered" >v</span>ar Pos=CodeMirror.Pos;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineOption("autoCloseBrackets",false,<span class="fstat-no" title="function not covered" >function(cm,val,old){<span class="cstat-no" title="statement not covered" ></span>if(old!=CodeMirror.Init&amp;&amp;old)</span></span>
<span class="cstat-no" title="statement not covered" >cm.removeKeyMap("autoCloseBrackets");<span class="cstat-no" title="statement not covered" >i</span>f(!val)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar pairs=DEFAULT_BRACKETS,explode=DEFAULT_EXPLODE_ON_ENTER;<span class="cstat-no" title="statement not covered" >i</span>f(typeof val=="string")<span class="cstat-no" title="statement not covered" >pairs=val;e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof val=="object"){<span class="cstat-no" title="statement not covered" >if(val.pairs!=null)<span class="cstat-no" title="statement not covered" >pairs=val.pairs;<span class="cstat-no" title="statement not covered" >i</span></span>f(val.explode!=null)<span class="cstat-no" title="statement not covered" >explode=val.explode;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >var map=buildKeymap(pairs);<span class="cstat-no" title="statement not covered" >i</span>f(explode)<span class="cstat-no" title="statement not covered" >map.Enter=buildExplodeHandler(explode);<span class="cstat-no" title="statement not covered" >c</span></span>m.addKeyMap(map);}</span>);<span class="fstat-no" title="function not covered" >function charsAround(cm,pos){<span class="cstat-no" title="statement not covered" ></span>var str=cm.getRange(Pos(pos.line,pos.ch-1),Pos(pos.line,pos.ch+1));<span class="cstat-no" title="statement not covered" >r</span>eturn str.length==2?str:null;}</span>
<span class="fstat-no" title="function not covered" >function buildKeymap(pairs){<span class="cstat-no" title="statement not covered" ></span>var map={name:"autoCloseBrackets",Backspace:<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.getOption("disableInput"))<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span></span>ar ranges=cm.listSelections();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >if(!ranges[i].empty())<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span></span>ar around=charsAround(cm,ranges[i].head);<span class="cstat-no" title="statement not covered" >i</span>f(!around||pairs.indexOf(around)%2!=0)<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >for(var i=ranges.length-1;i&gt;=0;i--){<span class="cstat-no" title="statement not covered" >var cur=ranges[i].head;<span class="cstat-no" title="statement not covered" >c</span>m.replaceRange("",Pos(cur.line,cur.ch-1),Pos(cur.line,cur.ch+1));}</span>}</span>};<span class="cstat-no" title="statement not covered" >var closingBrackets="";<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;pairs.length;i+=2)<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(left,right){<span class="cstat-no" title="statement not covered" ></span>if(left!=right)<span class="cstat-no" title="statement not covered" >closingBrackets+=right;<span class="cstat-no" title="statement not covered" >m</span></span>ap["'"+left+"'"]=<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.getOption("disableInput"))<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span></span>ar ranges=cm.listSelections(),type,next;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var range=ranges[i],cur=range.head,curType;<span class="cstat-no" title="statement not covered" >i</span>f(left=="'"&amp;&amp;cm.getTokenTypeAt(cur)=="comment")</span></span></span></span></span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span>ar next=cm.getRange(cur,Pos(cur.line,cur.ch+1));<span class="cstat-no" title="statement not covered" >i</span>f(!range.empty())</span>
<span class="cstat-no" title="statement not covered" >curType="surround";e</span>lse <span class="cstat-no" title="statement not covered" >if(left==right&amp;&amp;next==right){<span class="cstat-no" title="statement not covered" >if(cm.getRange(cur,Pos(cur.line,cur.ch+3))==left+left+left)</span></span>
<span class="cstat-no" title="statement not covered" >curType="skipThree";e</span>lse
<span class="cstat-no" title="statement not covered" >curType="skip";}</span>else <span class="cstat-no" title="statement not covered" >if(left==right&amp;&amp;cur.ch&gt;1&amp;&amp;cm.getRange(Pos(cur.line,cur.ch-2),cur)==left+left&amp;&amp;(cur.ch&lt;=2||cm.getRange(Pos(cur.line,cur.ch-3),Pos(cur.line,cur.ch-2))!=left))</span>
<span class="cstat-no" title="statement not covered" >curType="addFour";e</span>lse <span class="cstat-no" title="statement not covered" >if(left==right&amp;&amp;CodeMirror.isWordChar(next))</span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;e</span>lse <span class="cstat-no" title="statement not covered" >if(cm.getLine(cur.line).length==cur.ch||closingBrackets.indexOf(next)&gt;=0||SPACE_CHAR_REGEX.test(next))</span>
<span class="cstat-no" title="statement not covered" >curType="both";e</span>lse
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >i</span>f(!type)<span class="cstat-no" title="statement not covered" >type=curType;e</span>lse <span class="cstat-no" title="statement not covered" >if(type!=curType)<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;}</span></span></span>
<span class="cstat-no" title="statement not covered" >cm.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(type=="skip"){<span class="cstat-no" title="statement not covered" >cm.execCommand("goCharRight");}</span>else <span class="cstat-no" title="statement not covered" >if(type=="skipThree"){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;3;i++)</span></span></span></span>
<span class="cstat-no" title="statement not covered" >cm.execCommand("goCharRight");}</span>else <span class="cstat-no" title="statement not covered" >if(type=="surround"){<span class="cstat-no" title="statement not covered" >var sels=cm.getSelections();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;sels.length;i++)</span></span>
<span class="cstat-no" title="statement not covered" >sels[i]=left+sels[i]+right;<span class="cstat-no" title="statement not covered" >c</span>m.replaceSelections(sels,"around");}</span>else <span class="cstat-no" title="statement not covered" >if(type=="both"){<span class="cstat-no" title="statement not covered" >cm.replaceSelection(left+right,null);<span class="cstat-no" title="statement not covered" >c</span>m.execCommand("goCharLeft");}</span>else <span class="cstat-no" title="statement not covered" >if(type=="addFour"){<span class="cstat-no" title="statement not covered" >cm.replaceSelection(left+left+left+left,"before");<span class="cstat-no" title="statement not covered" >c</span>m.execCommand("goCharRight");}</span>}</span></span>);};<span class="cstat-no" title="statement not covered" >if(left!=right)<span class="cstat-no" title="statement not covered" >map["'"+right+"'"]=<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>var ranges=cm.listSelections();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var range=ranges[i];<span class="cstat-no" title="statement not covered" >i</span>f(!range.empty()||cm.getRange(range.head,Pos(range.head.line,range.head.ch+1))!=right)</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;}</span>
<span class="cstat-no" title="statement not covered" >cm.execCommand("goCharRight");}</span>;})(pairs.charAt(i),pairs.charAt(i+1));<span class="cstat-no" title="statement not covered" >return map;}</span>
<span class="fstat-no" title="function not covered" >function buildExplodeHandler(pairs){<span class="cstat-no" title="statement not covered" ></span>return <span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.getOption("disableInput"))<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span></span>ar ranges=cm.listSelections();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >if(!ranges[i].empty())<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span></span>ar around=charsAround(cm,ranges[i].head);<span class="cstat-no" title="statement not covered" >i</span>f(!around||pairs.indexOf(around)%2!=0)<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >cm.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>cm.replaceSelection("\n\n",null);<span class="cstat-no" title="statement not covered" >c</span>m.execCommand("goCharLeft");<span class="cstat-no" title="statement not covered" >r</span>anges=cm.listSelections();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var line=ranges[i].head.line;<span class="cstat-no" title="statement not covered" >c</span>m.indentLine(line,null,true);<span class="cstat-no" title="statement not covered" >c</span>m.indentLine(line+1,null,true);}</span>}</span>);}</span>;}});;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){</span>"use strict";<span class="cstat-no" title="statement not covered" >CodeMirror.defineOption("styleSelectedText",false,<span class="fstat-no" title="function not covered" >function(cm,val,old){<span class="cstat-no" title="statement not covered" ></span>var prev=old&amp;&amp;old!=CodeMirror.Init;<span class="cstat-no" title="statement not covered" >i</span>f(val&amp;&amp;!prev){<span class="cstat-no" title="statement not covered" >cm.state.markedSelection=[];<span class="cstat-no" title="statement not covered" >c</span>m.state.markedSelectionStyle=typeof val=="string"?val:"CodeMirror-selectedtext";<span class="cstat-no" title="statement not covered" >r</span>eset(cm);<span class="cstat-no" title="statement not covered" >c</span>m.on("cursorActivity",onCursorActivity);<span class="cstat-no" title="statement not covered" >c</span>m.on("change",onChange);}</span>else <span class="cstat-no" title="statement not covered" >if(!val&amp;&amp;prev){<span class="cstat-no" title="statement not covered" >cm.off("cursorActivity",onCursorActivity);<span class="cstat-no" title="statement not covered" >c</span>m.off("change",onChange);<span class="cstat-no" title="statement not covered" >c</span>lear(cm);<span class="cstat-no" title="statement not covered" >c</span>m.state.markedSelection=cm.state.markedSelectionStyle=null;}</span>}</span></span>);<span class="fstat-no" title="function not covered" >f</span>unction onCursorActivity(cm){<span class="cstat-no" title="statement not covered" ></span>cm.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>update(cm);}</span>);}</span>
<span class="fstat-no" title="function not covered" >function onChange(cm){<span class="cstat-no" title="statement not covered" ></span>if(cm.state.markedSelection.length)</span>
<span class="cstat-no" title="statement not covered" >cm.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>clear(cm);}</span>);}</span>
<span class="cstat-no" title="statement not covered" >var CHUNK_SIZE=8;<span class="cstat-no" title="statement not covered" >v</span>ar Pos=CodeMirror.Pos;<span class="cstat-no" title="statement not covered" >v</span>ar cmp=CodeMirror.cmpPos;<span class="fstat-no" title="function not covered" >f</span>unction coverRange(cm,from,to,addAt){<span class="cstat-no" title="statement not covered" ></span>if(cmp(from,to)==0)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar array=cm.state.markedSelection;<span class="cstat-no" title="statement not covered" >v</span>ar cls=cm.state.markedSelectionStyle;<span class="cstat-no" title="statement not covered" >f</span>or(var line=from.line;;){<span class="cstat-no" title="statement not covered" >var start=line==from.line?from:Pos(line,0);<span class="cstat-no" title="statement not covered" >v</span>ar endLine=line+CHUNK_SIZE,atEnd=endLine&gt;=to.line;<span class="cstat-no" title="statement not covered" >v</span>ar end=atEnd?to:Pos(endLine,0);<span class="cstat-no" title="statement not covered" >v</span>ar mark=cm.markText(start,end,{className:cls});<span class="cstat-no" title="statement not covered" >i</span>f(addAt==null)<span class="cstat-no" title="statement not covered" >array.push(mark);e</span>lse <span class="cstat-no" title="statement not covered" >array.splice(addAt++,0,mark);<span class="cstat-no" title="statement not covered" >i</span></span>f(atEnd)<span class="cstat-no" title="statement not covered" >break;<span class="cstat-no" title="statement not covered" >l</span></span>ine=endLine;}</span>}</span>
<span class="fstat-no" title="function not covered" >function clear(cm){<span class="cstat-no" title="statement not covered" ></span>var array=cm.state.markedSelection;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;array.length;++i)<span class="cstat-no" title="statement not covered" >array[i].clear();<span class="cstat-no" title="statement not covered" >a</span></span>rray.length=0;}</span>
<span class="fstat-no" title="function not covered" >function reset(cm){<span class="cstat-no" title="statement not covered" ></span>clear(cm);<span class="cstat-no" title="statement not covered" >v</span>ar ranges=cm.listSelections();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++)</span>
<span class="cstat-no" title="statement not covered" >coverRange(cm,ranges[i].from(),ranges[i].to());}</span>
<span class="fstat-no" title="function not covered" >function update(cm){<span class="cstat-no" title="statement not covered" ></span>if(!cm.somethingSelected())<span class="cstat-no" title="statement not covered" >return clear(cm);<span class="cstat-no" title="statement not covered" >i</span></span>f(cm.listSelections().length&gt;1)<span class="cstat-no" title="statement not covered" >return reset(cm);<span class="cstat-no" title="statement not covered" >v</span></span>ar from=cm.getCursor("start"),to=cm.getCursor("end");<span class="cstat-no" title="statement not covered" >v</span>ar array=cm.state.markedSelection;<span class="cstat-no" title="statement not covered" >i</span>f(!array.length)<span class="cstat-no" title="statement not covered" >return coverRange(cm,from,to);<span class="cstat-no" title="statement not covered" >v</span></span>ar coverStart=array[0].find(),coverEnd=array[array.length-1].find();<span class="cstat-no" title="statement not covered" >i</span>f(!coverStart||!coverEnd||to.line-from.line&lt;CHUNK_SIZE||cmp(from,coverEnd.to)&gt;=0||cmp(to,coverStart.from)&lt;=0)</span>
<span class="cstat-no" title="statement not covered" >return reset(cm);<span class="cstat-no" title="statement not covered" >w</span>hile(cmp(from,coverStart.from)&gt;0){<span class="cstat-no" title="statement not covered" >array.shift().clear();<span class="cstat-no" title="statement not covered" >c</span>overStart=array[0].find();}</span></span>
<span class="cstat-no" title="statement not covered" >if(cmp(from,coverStart.from)&lt;0){<span class="cstat-no" title="statement not covered" >if(coverStart.to.line-from.line&lt;CHUNK_SIZE){<span class="cstat-no" title="statement not covered" >array.shift().clear();<span class="cstat-no" title="statement not covered" >c</span>overRange(cm,from,coverStart.to,0);}</span>else{<span class="cstat-no" title="statement not covered" >coverRange(cm,from,coverStart.from,0);}</span>}</span></span>
<span class="cstat-no" title="statement not covered" >while(cmp(to,coverEnd.to)&lt;0){<span class="cstat-no" title="statement not covered" >array.pop().clear();<span class="cstat-no" title="statement not covered" >c</span>overEnd=array[array.length-1].find();}</span></span>
<span class="cstat-no" title="statement not covered" >if(cmp(to,coverEnd.to)&gt;0){<span class="cstat-no" title="statement not covered" >if(to.line-coverEnd.from.line&lt;CHUNK_SIZE){<span class="cstat-no" title="statement not covered" >array.pop().clear();<span class="cstat-no" title="statement not covered" >c</span>overRange(cm,coverEnd.from,to);}</span>else{<span class="cstat-no" title="statement not covered" >coverRange(cm,coverEnd.to,to);}</span>}</span>}</span>});;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){</span>"use strict";<span class="cstat-no" title="statement not covered" >var noOptions={};<span class="cstat-no" title="statement not covered" >v</span>ar nonWS=/[^\s\u00a0]/;<span class="cstat-no" title="statement not covered" >v</span>ar Pos=CodeMirror.Pos;<span class="fstat-no" title="function not covered" >f</span>unction firstNonWS(str){<span class="cstat-no" title="statement not covered" ></span>var found=str.search(nonWS);<span class="cstat-no" title="statement not covered" >r</span>eturn found==-1?0:found;}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.toggleComment=<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>var minLine=Infinity,ranges=cm.listSelections(),mode=null;<span class="cstat-no" title="statement not covered" >f</span>or(var i=ranges.length-1;i&gt;=0;i--){<span class="cstat-no" title="statement not covered" >var from=ranges[i].from(),to=ranges[i].to();<span class="cstat-no" title="statement not covered" >i</span>f(from.line&gt;=minLine)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(to.line&gt;=minLine)<span class="cstat-no" title="statement not covered" >to=Pos(minLine,0);<span class="cstat-no" title="statement not covered" >m</span></span>inLine=from.line;<span class="cstat-no" title="statement not covered" >i</span>f(mode==null){<span class="cstat-no" title="statement not covered" >if(cm.uncomment(from,to))<span class="cstat-no" title="statement not covered" >mode="un";e</span>lse{<span class="cstat-no" title="statement not covered" >cm.lineComment(from,to);<span class="cstat-no" title="statement not covered" >m</span>ode="line";}</span>}</span>else <span class="cstat-no" title="statement not covered" >if(mode=="un"){<span class="cstat-no" title="statement not covered" >cm.uncomment(from,to);}</span>else{<span class="cstat-no" title="statement not covered" >cm.lineComment(from,to);}</span>}</span></span>}</span>;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineExtension("lineComment",<span class="fstat-no" title="function not covered" >function(from,to,options){<span class="cstat-no" title="statement not covered" ></span>if(!options)<span class="cstat-no" title="statement not covered" >options=noOptions;<span class="cstat-no" title="statement not covered" >v</span></span>ar self=this,mode=self.getModeAt(from);<span class="cstat-no" title="statement not covered" >v</span>ar commentString=options.lineComment||mode.lineComment;<span class="cstat-no" title="statement not covered" >i</span>f(!commentString){<span class="cstat-no" title="statement not covered" >if(options.blockCommentStart||mode.blockCommentStart){<span class="cstat-no" title="statement not covered" >options.fullLines=true;<span class="cstat-no" title="statement not covered" >s</span>elf.blockComment(from,to,options);}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >return;}</span>
<span class="cstat-no" title="statement not covered" >var firstLine=self.getLine(from.line);<span class="cstat-no" title="statement not covered" >i</span>f(firstLine==null)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span></span>ar end=Math.min(to.ch!=0||to.line==from.line?to.line+1:to.line,self.lastLine()+1);<span class="cstat-no" title="statement not covered" >v</span>ar pad=options.padding==null?" ":options.padding;<span class="cstat-no" title="statement not covered" >v</span>ar blankLines=options.commentBlankLines||from.line==to.line;<span class="cstat-no" title="statement not covered" >s</span>elf.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(options.indent){<span class="cstat-no" title="statement not covered" >var baseString=firstLine.slice(0,firstNonWS(firstLine));<span class="cstat-no" title="statement not covered" >f</span>or(var i=from.line;i&lt;end;++i){<span class="cstat-no" title="statement not covered" >var line=self.getLine(i),cut=baseString.length;<span class="cstat-no" title="statement not covered" >i</span>f(!blankLines&amp;&amp;!nonWS.test(line))<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(line.slice(0,cut)!=baseString)<span class="cstat-no" title="statement not covered" >cut=firstNonWS(line);<span class="cstat-no" title="statement not covered" >s</span></span>elf.replaceRange(baseString+commentString+pad,Pos(i,0),Pos(i,cut));}</span>}</span>else{<span class="cstat-no" title="statement not covered" >for(var i=from.line;i&lt;end;++i){<span class="cstat-no" title="statement not covered" >if(blankLines||nonWS.test(self.getLine(i)))</span></span></span></span>
<span class="cstat-no" title="statement not covered" >self.replaceRange(commentString+pad,Pos(i,0));}</span>}});});<span class="cstat-no" title="statement not covered" >CodeMirror.defineExtension("blockComment",<span class="fstat-no" title="function not covered" >function(from,to,options){<span class="cstat-no" title="statement not covered" ></span>if(!options)<span class="cstat-no" title="statement not covered" >options=noOptions;<span class="cstat-no" title="statement not covered" >v</span></span>ar self=this,mode=self.getModeAt(from);<span class="cstat-no" title="statement not covered" >v</span>ar startString=options.blockCommentStart||mode.blockCommentStart;<span class="cstat-no" title="statement not covered" >v</span>ar endString=options.blockCommentEnd||mode.blockCommentEnd;<span class="cstat-no" title="statement not covered" >i</span>f(!startString||!endString){<span class="cstat-no" title="statement not covered" >if((options.lineComment||mode.lineComment)&amp;&amp;options.fullLines!=false)</span></span></span>
<span class="cstat-no" title="statement not covered" >self.lineComment(from,to,options);<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span>
<span class="cstat-no" title="statement not covered" >var end=Math.min(to.line,self.lastLine());<span class="cstat-no" title="statement not covered" >i</span>f(end!=from.line&amp;&amp;to.ch==0&amp;&amp;nonWS.test(self.getLine(end)))<span class="cstat-no" title="statement not covered" >--end;<span class="cstat-no" title="statement not covered" >v</span></span>ar pad=options.padding==null?" ":options.padding;<span class="cstat-no" title="statement not covered" >i</span>f(from.line&gt;end)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >s</span></span>elf.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>if(options.fullLines!=false){<span class="cstat-no" title="statement not covered" >var lastLineHasText=nonWS.test(self.getLine(end));<span class="cstat-no" title="statement not covered" >s</span>elf.replaceRange(pad+endString,Pos(end));<span class="cstat-no" title="statement not covered" >s</span>elf.replaceRange(startString+pad,Pos(from.line,0));<span class="cstat-no" title="statement not covered" >v</span>ar lead=options.blockCommentLead||mode.blockCommentLead;<span class="cstat-no" title="statement not covered" >i</span>f(lead!=null)<span class="cstat-no" title="statement not covered" >for(var i=from.line+1;i&lt;=end;++i)</span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(i!=end||lastLineHasText)</span>
<span class="cstat-no" title="statement not covered" >self.replaceRange(lead+pad,Pos(i,0));}</span>else{<span class="cstat-no" title="statement not covered" >self.replaceRange(endString,to);<span class="cstat-no" title="statement not covered" >s</span>elf.replaceRange(startString,from);}</span>});});<span class="cstat-no" title="statement not covered" >CodeMirror.defineExtension("uncomment",<span class="fstat-no" title="function not covered" >function(from,to,options){<span class="cstat-no" title="statement not covered" ></span>if(!options)<span class="cstat-no" title="statement not covered" >options=noOptions;<span class="cstat-no" title="statement not covered" >v</span></span>ar self=this,mode=self.getModeAt(from);<span class="cstat-no" title="statement not covered" >v</span>ar end=Math.min(to.ch!=0||to.line==from.line?to.line:to.line-1,self.lastLine()),start=Math.min(from.line,end);<span class="cstat-no" title="statement not covered" >v</span>ar lineString=options.lineComment||mode.lineComment,lines=[];<span class="cstat-no" title="statement not covered" >v</span>ar pad=options.padding==null?" ":options.padding,didSomething;<span class="cstat-no" title="statement not covered" >l</span>ineComment:{<span class="cstat-no" title="statement not covered" >if(!lineString)<span class="cstat-no" title="statement not covered" >break lineComment;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=start;i&lt;=end;++i){<span class="cstat-no" title="statement not covered" >var line=self.getLine(i);<span class="cstat-no" title="statement not covered" >v</span>ar found=line.indexOf(lineString);<span class="cstat-no" title="statement not covered" >i</span>f(found&gt;-1&amp;&amp;!/comment/.test(self.getTokenTypeAt(Pos(i,found+1))))<span class="cstat-no" title="statement not covered" >found=-1;<span class="cstat-no" title="statement not covered" >i</span></span>f(found==-1&amp;&amp;(i!=end||i==start)&amp;&amp;nonWS.test(line))<span class="cstat-no" title="statement not covered" >break lineComment;<span class="cstat-no" title="statement not covered" >i</span></span>f(found&gt;-1&amp;&amp;nonWS.test(line.slice(0,found)))<span class="cstat-no" title="statement not covered" >break lineComment;<span class="cstat-no" title="statement not covered" >l</span></span>ines.push(line);}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >self.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>for(var i=start;i&lt;=end;++i){<span class="cstat-no" title="statement not covered" >var line=lines[i-start];<span class="cstat-no" title="statement not covered" >v</span>ar pos=line.indexOf(lineString),endPos=pos+lineString.length;<span class="cstat-no" title="statement not covered" >i</span>f(pos&lt;0)<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span></span>f(line.slice(endPos,endPos+pad.length)==pad)<span class="cstat-no" title="statement not covered" >endPos+=pad.length;<span class="cstat-no" title="statement not covered" >d</span></span>idSomething=true;<span class="cstat-no" title="statement not covered" >s</span>elf.replaceRange("",Pos(i,pos),Pos(i,endPos));}</span>}</span>);<span class="cstat-no" title="statement not covered" >i</span>f(didSomething)<span class="cstat-no" title="statement not covered" >return true;}</span></span>
<span class="cstat-no" title="statement not covered" >var startString=options.blockCommentStart||mode.blockCommentStart;<span class="cstat-no" title="statement not covered" >v</span>ar endString=options.blockCommentEnd||mode.blockCommentEnd;<span class="cstat-no" title="statement not covered" >i</span>f(!startString||!endString)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span></span>ar lead=options.blockCommentLead||mode.blockCommentLead;<span class="cstat-no" title="statement not covered" >v</span>ar startLine=self.getLine(start),endLine=end==start?startLine:self.getLine(end);<span class="cstat-no" title="statement not covered" >v</span>ar open=startLine.indexOf(startString),close=endLine.lastIndexOf(endString);<span class="cstat-no" title="statement not covered" >i</span>f(close==-1&amp;&amp;start!=end){<span class="cstat-no" title="statement not covered" >endLine=self.getLine(--end);<span class="cstat-no" title="statement not covered" >c</span>lose=endLine.lastIndexOf(endString);}</span></span>
<span class="cstat-no" title="statement not covered" >if(open==-1||close==-1||!/comment/.test(self.getTokenTypeAt(Pos(start,open+1)))||!/comment/.test(self.getTokenTypeAt(Pos(end,close+1))))</span>
<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span>ar lastStart=startLine.lastIndexOf(startString,from.ch);<span class="cstat-no" title="statement not covered" >v</span>ar firstEnd=lastStart==-1?-1:startLine.slice(0,from.ch).indexOf(endString,lastStart+startString.length);<span class="cstat-no" title="statement not covered" >i</span>f(lastStart!=-1&amp;&amp;firstEnd!=-1&amp;&amp;firstEnd+endString.length!=from.ch)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >f</span></span>irstEnd=endLine.indexOf(endString,to.ch);<span class="cstat-no" title="statement not covered" >v</span>ar almostLastStart=endLine.slice(to.ch).lastIndexOf(startString,firstEnd-to.ch);<span class="cstat-no" title="statement not covered" >l</span>astStart=(firstEnd==-1||almostLastStart==-1)?-1:to.ch+almostLastStart;<span class="cstat-no" title="statement not covered" >i</span>f(firstEnd!=-1&amp;&amp;lastStart!=-1&amp;&amp;lastStart!=to.ch)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >s</span></span>elf.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>self.replaceRange("",Pos(end,close-(pad&amp;&amp;endLine.slice(close-pad.length,close)==pad?pad.length:0)),Pos(end,close+endString.length));<span class="cstat-no" title="statement not covered" >v</span>ar openEnd=open+startString.length;<span class="cstat-no" title="statement not covered" >i</span>f(pad&amp;&amp;startLine.slice(openEnd,openEnd+pad.length)==pad)<span class="cstat-no" title="statement not covered" >openEnd+=pad.length;<span class="cstat-no" title="statement not covered" >s</span></span>elf.replaceRange("",Pos(start,open),Pos(start,openEnd));<span class="cstat-no" title="statement not covered" >i</span>f(lead)<span class="cstat-no" title="statement not covered" >for(var i=start+1;i&lt;=end;++i){<span class="cstat-no" title="statement not covered" >var line=self.getLine(i),found=line.indexOf(lead);<span class="cstat-no" title="statement not covered" >i</span>f(found==-1||nonWS.test(line.slice(0,found)))<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >v</span></span>ar foundEnd=found+lead.length;<span class="cstat-no" title="statement not covered" >i</span>f(pad&amp;&amp;line.slice(foundEnd,foundEnd+pad.length)==pad)<span class="cstat-no" title="statement not covered" >foundEnd+=pad.length;<span class="cstat-no" title="statement not covered" >s</span></span>elf.replaceRange("",Pos(i,found),Pos(i,foundEnd));}</span>}</span></span>);<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span>);});;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){</span>"use strict";<span class="cstat-no" title="statement not covered" >CodeMirror.overlayMode=<span class="fstat-no" title="function not covered" >function(base,overlay,combine){<span class="cstat-no" title="statement not covered" ></span>return{startState:<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return{base:CodeMirror.startState(base),overlay:CodeMirror.startState(overlay),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,lineSeen:null};}</span>,copyState:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>return{base:CodeMirror.copyState(base,state.base),overlay:CodeMirror.copyState(overlay,state.overlay),basePos:state.basePos,baseCur:null,overlayPos:state.overlayPos,overlayCur:null};}</span>,token:<span class="fstat-no" title="function not covered" >function(stream,state){<span class="cstat-no" title="statement not covered" ></span>if(stream.sol()||stream.string!=state.lineSeen||Math.min(state.basePos,state.overlayPos)&lt;stream.start){<span class="cstat-no" title="statement not covered" >state.lineSeen=stream.string;<span class="cstat-no" title="statement not covered" >s</span>tate.basePos=state.overlayPos=stream.start;}</span></span></span></span>
<span class="cstat-no" title="statement not covered" >if(stream.start==state.basePos){<span class="cstat-no" title="statement not covered" >state.baseCur=base.token(stream,state.base);<span class="cstat-no" title="statement not covered" >s</span>tate.basePos=stream.pos;}</span></span>
<span class="cstat-no" title="statement not covered" >if(stream.start==state.overlayPos){<span class="cstat-no" title="statement not covered" >stream.pos=stream.start;<span class="cstat-no" title="statement not covered" >s</span>tate.overlayCur=overlay.token(stream,state.overlay);<span class="cstat-no" title="statement not covered" >s</span>tate.overlayPos=stream.pos;}</span></span>
<span class="cstat-no" title="statement not covered" >stream.pos=Math.min(state.basePos,state.overlayPos);<span class="cstat-no" title="statement not covered" >i</span>f(state.overlayCur==null)<span class="cstat-no" title="statement not covered" >return state.baseCur;e</span>lse <span class="cstat-no" title="statement not covered" >if(state.baseCur!=null&amp;&amp;state.overlay.combineTokens||combine&amp;&amp;state.overlay.combineTokens==null)</span></span>
<span class="cstat-no" title="statement not covered" >return state.baseCur+" "+state.overlayCur;e</span>lse <span class="cstat-no" title="statement not covered" >return state.overlayCur;}</span>,indent:base.indent&amp;&amp;<span class="fstat-no" title="function not covered" >function(state,textAfter){<span class="cstat-no" title="statement not covered" ></span>return base.indent(state.base,textAfter);}</span>,electricChars:base.electricChars,innerMode:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>return{state:state.base,mode:base};}</span>,blankLine:<span class="fstat-no" title="function not covered" >function(state){<span class="cstat-no" title="statement not covered" ></span>if(base.blankLine)<span class="cstat-no" title="statement not covered" >base.blankLine(state.base);<span class="cstat-no" title="statement not covered" >i</span></span>f(overlay.blankLine)<span class="cstat-no" title="statement not covered" >overlay.blankLine(state.overlay);}</span></span>};};});;<span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >function(mod){<span class="cstat-no" title="statement not covered" ></span>if(typeof exports=="object"&amp;&amp;typeof module=="object")</span></span>
<span class="cstat-no" title="statement not covered" >mod(require("../../lib/codemirror"));e</span>lse <span class="cstat-no" title="statement not covered" >if(typeof define=="function"&amp;&amp;define.amd)</span>
<span class="cstat-no" title="statement not covered" >define(["../../lib/codemirror"],mod);e</span>lse
<span class="cstat-no" title="statement not covered" >mod(CodeMirror);}</span>)(<span class="fstat-no" title="function not covered" >function(CodeMirror){</span>"use strict";<span class="cstat-no" title="statement not covered" >var WRAP_CLASS="CodeMirror-activeline";<span class="cstat-no" title="statement not covered" >v</span>ar BACK_CLASS="CodeMirror-activeline-background";<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineOption("styleActiveLine",false,<span class="fstat-no" title="function not covered" >function(cm,val,old){<span class="cstat-no" title="statement not covered" ></span>var prev=old&amp;&amp;old!=CodeMirror.Init;<span class="cstat-no" title="statement not covered" >i</span>f(val&amp;&amp;!prev){<span class="cstat-no" title="statement not covered" >cm.state.activeLines=[];<span class="cstat-no" title="statement not covered" >u</span>pdateActiveLines(cm,cm.listSelections());<span class="cstat-no" title="statement not covered" >c</span>m.on("beforeSelectionChange",selectionChange);}</span>else <span class="cstat-no" title="statement not covered" >if(!val&amp;&amp;prev){<span class="cstat-no" title="statement not covered" >cm.off("beforeSelectionChange",selectionChange);<span class="cstat-no" title="statement not covered" >c</span>learActiveLines(cm);<span class="cstat-no" title="statement not covered" >d</span>elete cm.state.activeLines;}</span>}</span></span>);<span class="fstat-no" title="function not covered" >f</span>unction clearActiveLines(cm){<span class="cstat-no" title="statement not covered" ></span>for(var i=0;i&lt;cm.state.activeLines.length;i++){<span class="cstat-no" title="statement not covered" >cm.removeLineClass(cm.state.activeLines[i],"wrap",WRAP_CLASS);<span class="cstat-no" title="statement not covered" >c</span>m.removeLineClass(cm.state.activeLines[i],"background",BACK_CLASS);}</span>}</span>
<span class="fstat-no" title="function not covered" >function sameArray(a,b){<span class="cstat-no" title="statement not covered" ></span>if(a.length!=b.length)<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >f</span></span>or(var i=0;i&lt;a.length;i++)</span>
<span class="cstat-no" title="statement not covered" >if(a[i]!=b[i])<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >r</span></span>eturn true;}</span>
<span class="fstat-no" title="function not covered" >function updateActiveLines(cm,ranges){<span class="cstat-no" title="statement not covered" ></span>var active=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;i++){<span class="cstat-no" title="statement not covered" >var range=ranges[i];<span class="cstat-no" title="statement not covered" >i</span>f(!range.empty())<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >v</span></span>ar line=cm.getLineHandleVisualStart(range.head.line);<span class="cstat-no" title="statement not covered" >i</span>f(active[active.length-1]!=line)<span class="cstat-no" title="statement not covered" >active.push(line);}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(sameArray(cm.state.activeLines,active))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >c</span></span>m.operation(<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>clearActiveLines(cm);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;active.length;i++){<span class="cstat-no" title="statement not covered" >cm.addLineClass(active[i],"wrap",WRAP_CLASS);<span class="cstat-no" title="statement not covered" >c</span>m.addLineClass(active[i],"background",BACK_CLASS);}</span></span></span>
<span class="cstat-no" title="statement not covered" >cm.state.activeLines=active;}</span>);}
<span class="fstat-no" title="function not covered" >function selectionChange(cm,sel){<span class="cstat-no" title="statement not covered" ></span>updateActiveLines(cm,sel.ranges);}</span>});;<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorUtils=<span class="fstat-no" title="function not covered" >function()</span></span>
{<span class="cstat-no" title="statement not covered" >WebInspector.InplaceEditor.call(this);}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorUtils.toPos=<span class="fstat-no" title="function not covered" >function(range)</span></span>
{<span class="cstat-no" title="statement not covered" >return{start:new CodeMirror.Pos(range.startLine,range.startColumn),end:new CodeMirror.Pos(range.endLine,range.endColumn)};}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorUtils.toRange=<span class="fstat-no" title="function not covered" >function(start,end)</span></span>
{<span class="cstat-no" title="statement not covered" >return new WebInspector.TextRange(start.line,start.ch,end.line,end.ch);}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorUtils.changeObjectToEditOperation=<span class="fstat-no" title="function not covered" >function(changeObject)</span></span>
{<span class="cstat-no" title="statement not covered" >var oldRange=WebInspector.CodeMirrorUtils.toRange(changeObject.from,changeObject.to);<span class="cstat-no" title="statement not covered" >v</span>ar newRange=oldRange.clone();<span class="cstat-no" title="statement not covered" >v</span>ar linesAdded=changeObject.text.length;<span class="cstat-no" title="statement not covered" >i</span>f(linesAdded===0){<span class="cstat-no" title="statement not covered" >newRange.endLine=newRange.startLine;<span class="cstat-no" title="statement not covered" >n</span>ewRange.endColumn=newRange.startColumn;}</span>else <span class="cstat-no" title="statement not covered" >if(linesAdded===1){<span class="cstat-no" title="statement not covered" >newRange.endLine=newRange.startLine;<span class="cstat-no" title="statement not covered" >n</span>ewRange.endColumn=newRange.startColumn+changeObject.text[0].length;}</span>else{<span class="cstat-no" title="statement not covered" >newRange.endLine=newRange.startLine+linesAdded-1;<span class="cstat-no" title="statement not covered" >n</span>ewRange.endColumn=changeObject.text[linesAdded-1].length;}</span></span></span>
<span class="cstat-no" title="statement not covered" >return{oldRange:oldRange,newRange:newRange};}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorUtils.pullLines=<span class="fstat-no" title="function not covered" >function(codeMirror,linesCount)</span></span>
{<span class="cstat-no" title="statement not covered" >var lines=[];<span class="cstat-no" title="statement not covered" >c</span>odeMirror.eachLine(0,linesCount,onLineHandle);<span class="cstat-no" title="statement not covered" >r</span>eturn lines;<span class="fstat-no" title="function not covered" >f</span>unction onLineHandle(lineHandle)</span>
{<span class="cstat-no" title="statement not covered" >lines.push(lineHandle.text);}</span>}
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorUtils.prototype={editorContent:<span class="fstat-no" title="function not covered" >function(editingContext){<span class="cstat-no" title="statement not covered" ></span>return editingContext.codeMirror.getValue();}</span>,_consumeCopy:<span class="fstat-no" title="function not covered" >function(e)</span></span>
{<span class="cstat-no" title="statement not covered" >e.consume();}</span>,setUpEditor:<span class="fstat-no" title="function not covered" >function(editingContext)</span>
{<span class="cstat-no" title="statement not covered" >var element=editingContext.element;<span class="cstat-no" title="statement not covered" >v</span>ar config=editingContext.config;<span class="cstat-no" title="statement not covered" >e</span>ditingContext.cssLoadView=new WebInspector.CodeMirrorCSSLoadView();<span class="cstat-no" title="statement not covered" >e</span>ditingContext.cssLoadView.show(element);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.setCurrentFocusElement(element);<span class="cstat-no" title="statement not covered" >e</span>lement.addEventListener("copy",this._consumeCopy,false);<span class="cstat-no" title="statement not covered" >v</span>ar codeMirror=new window.CodeMirror(element,{mode:config.mode,lineWrapping:config.lineWrapping,smartIndent:config.smartIndent,autofocus:true,theme:config.theme,value:config.initialValue});<span class="cstat-no" title="statement not covered" >c</span>odeMirror.getWrapperElement().classList.add("source-code");<span class="cstat-no" title="statement not covered" >c</span>odeMirror.on("cursorActivity",<span class="fstat-no" title="function not covered" >function(cm){<span class="cstat-no" title="statement not covered" ></span>cm.display.cursorDiv.scrollIntoViewIfNeeded(false);}</span>);<span class="cstat-no" title="statement not covered" >e</span>ditingContext.codeMirror=codeMirror;}</span>,closeEditor:<span class="fstat-no" title="function not covered" >function(editingContext)</span>
{<span class="cstat-no" title="statement not covered" >editingContext.element.removeEventListener("copy",this._consumeCopy,false);<span class="cstat-no" title="statement not covered" >e</span>ditingContext.cssLoadView.detach();}</span>,cancelEditing:<span class="fstat-no" title="function not covered" >function(editingContext)</span>
{<span class="cstat-no" title="statement not covered" >editingContext.codeMirror.setValue(editingContext.oldText);}</span>,augmentEditingHandle:<span class="fstat-no" title="function not covered" >function(editingContext,handle)</span>
{<span class="fstat-no" title="function not covered" >function setWidth(editingContext,width)</span>
{<span class="cstat-no" title="statement not covered" >var padding=30;<span class="cstat-no" title="statement not covered" >v</span>ar codeMirror=editingContext.codeMirror;<span class="cstat-no" title="statement not covered" >c</span>odeMirror.getWrapperElement().style.width=(width-codeMirror.getWrapperElement().offsetLeft-padding)+"px";<span class="cstat-no" title="statement not covered" >c</span>odeMirror.refresh();}</span>
<span class="cstat-no" title="statement not covered" >handle.codeMirror=editingContext.codeMirror;<span class="cstat-no" title="statement not covered" >h</span>andle.setWidth=setWidth.bind(null,editingContext);}</span>,__proto__:WebInspector.InplaceEditor.prototype}
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorUtils.TokenizerFactory=<span class="fstat-no" title="function not covered" >function(){</span>}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorUtils.TokenizerFactory.prototype={createTokenizer:<span class="fstat-no" title="function not covered" >function(mimeType)</span></span>
{<span class="cstat-no" title="statement not covered" >var mode=CodeMirror.getMode({indentUnit:2},mimeType);<span class="cstat-no" title="statement not covered" >v</span>ar state=CodeMirror.startState(mode);<span class="fstat-no" title="function not covered" >f</span>unction tokenize(line,callback)</span>
{<span class="cstat-no" title="statement not covered" >var stream=new CodeMirror.StringStream(line);<span class="cstat-no" title="statement not covered" >w</span>hile(!stream.eol()){<span class="cstat-no" title="statement not covered" >var style=mode.token(stream,state);<span class="cstat-no" title="statement not covered" >v</span>ar value=stream.current();<span class="cstat-no" title="statement not covered" >c</span>allback(value,style,stream.start,stream.start+value.length);<span class="cstat-no" title="statement not covered" >s</span>tream.start=stream.pos;}</span>}</span>
<span class="cstat-no" title="statement not covered" >return tokenize;}</span>}
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorCSSLoadView=<span class="fstat-no" title="function not covered" >function()</span></span>
{<span class="cstat-no" title="statement not covered" >WebInspector.VBox.call(this);<span class="cstat-no" title="statement not covered" >t</span>his.element.classList.add("hidden");<span class="cstat-no" title="statement not covered" >t</span>his.registerRequiredCSS("cm/codemirror.css");<span class="cstat-no" title="statement not covered" >t</span>his.registerRequiredCSS("source_frame/cmdevtools.css");<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorUtils.appendThemeStyle(this.element);}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorCSSLoadView.prototype={__proto__:WebInspector.VBox.prototype}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorUtils.appendThemeStyle=<span class="fstat-no" title="function not covered" >function(element)</span></span>
{<span class="cstat-no" title="statement not covered" >if(WebInspector.themeSupport.hasTheme())</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar backgroundColor=InspectorFrontendHost.getSelectionBackgroundColor();<span class="cstat-no" title="statement not covered" >v</span>ar backgroundColorRule=backgroundColor?".CodeMirror .CodeMirror-selected { background-color: "+backgroundColor+";}":"";<span class="cstat-no" title="statement not covered" >v</span>ar foregroundColor=InspectorFrontendHost.getSelectionForegroundColor();<span class="cstat-no" title="statement not covered" >v</span>ar foregroundColorRule=foregroundColor?".CodeMirror .CodeMirror-selectedtext:not(.CodeMirror-persist-highlight) { color: "+foregroundColor+"!important;}":"";<span class="cstat-no" title="statement not covered" >v</span>ar style=createElement("style");<span class="cstat-no" title="statement not covered" >i</span>f(foregroundColorRule||backgroundColorRule)</span>
<span class="cstat-no" title="statement not covered" >style.textContent=backgroundColorRule+foregroundColorRule;<span class="cstat-no" title="statement not covered" >e</span>lement.appendChild(style);}</span>;<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorDictionary=<span class="fstat-no" title="function not covered" >function(codeMirror,additionalWordChars)</span></span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror=codeMirror;<span class="cstat-no" title="statement not covered" >t</span>his._additionalWordChars=new Set((additionalWordChars));<span class="cstat-no" title="statement not covered" >t</span>his._dictionary=new WebInspector.TextDictionary();<span class="cstat-no" title="statement not covered" >t</span>his._addText(this._codeMirror.getValue());<span class="cstat-no" title="statement not covered" >t</span>his._changes=this._changes.bind(this);<span class="cstat-no" title="statement not covered" >t</span>his._beforeChange=this._beforeChange.bind(this);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("beforeChange",this._beforeChange);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("changes",this._changes);}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorDictionary.prototype={_beforeChange:<span class="fstat-no" title="function not covered" >function(codeMirror,changeObject)</span></span>
{<span class="cstat-no" title="statement not covered" >this._updatedLines=this._updatedLines||{};<span class="cstat-no" title="statement not covered" >f</span>or(var i=changeObject.from.line;i&lt;=changeObject.to.line;++i)</span>
<span class="cstat-no" title="statement not covered" >this._updatedLines[i]=this._codeMirror.getLine(i);}</span>,_changes:<span class="fstat-no" title="function not covered" >function(codeMirror,changes)</span>
{<span class="cstat-no" title="statement not covered" >if(!changes.length||!this._updatedLines)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >f</span>or(var lineNumber in this._updatedLines)</span>
<span class="cstat-no" title="statement not covered" >this._removeText(this._updatedLines[lineNumber]);<span class="cstat-no" title="statement not covered" >d</span>elete this._updatedLines;<span class="cstat-no" title="statement not covered" >v</span>ar linesToUpdate={};<span class="cstat-no" title="statement not covered" >f</span>or(var changeIndex=0;changeIndex&lt;changes.length;++changeIndex){<span class="cstat-no" title="statement not covered" >var changeObject=changes[changeIndex];<span class="cstat-no" title="statement not covered" >v</span>ar editInfo=WebInspector.CodeMirrorUtils.changeObjectToEditOperation(changeObject);<span class="cstat-no" title="statement not covered" >f</span>or(var i=editInfo.newRange.startLine;i&lt;=editInfo.newRange.endLine;++i)</span></span>
<span class="cstat-no" title="statement not covered" >linesToUpdate[i]=this._codeMirror.getLine(i);}</span>
<span class="cstat-no" title="statement not covered" >for(var lineNumber in linesToUpdate)</span>
<span class="cstat-no" title="statement not covered" >this._addText(linesToUpdate[lineNumber]);}</span>,_validWord:<span class="fstat-no" title="function not covered" >function(word)</span>
{<span class="cstat-no" title="statement not covered" >return!!word.length&amp;&amp;(word[0]&lt;"0"||word[0]&gt;"9");}</span>,_addText:<span class="fstat-no" title="function not covered" >function(text)</span>
{<span class="cstat-no" title="statement not covered" >WebInspector.TextUtils.textToWords(text,this.isWordChar.bind(this),addWord.bind(this));<span class="fstat-no" title="function not covered" >f</span>unction addWord(word)</span>
{<span class="cstat-no" title="statement not covered" >if(this._validWord(word))</span>
<span class="cstat-no" title="statement not covered" >this._dictionary.addWord(word);}</span>},_removeText:<span class="fstat-no" title="function not covered" >function(text)</span>
{<span class="cstat-no" title="statement not covered" >WebInspector.TextUtils.textToWords(text,this.isWordChar.bind(this),removeWord.bind(this));<span class="fstat-no" title="function not covered" >f</span>unction removeWord(word)</span>
{<span class="cstat-no" title="statement not covered" >if(this._validWord(word))</span>
<span class="cstat-no" title="statement not covered" >this._dictionary.removeWord(word);}</span>},isWordChar:<span class="fstat-no" title="function not covered" >function(char)</span>
{<span class="cstat-no" title="statement not covered" >return WebInspector.TextUtils.isWordChar(char)||this._additionalWordChars.has(char);}</span>,wordsWithPrefix:<span class="fstat-no" title="function not covered" >function(prefix)</span>
{<span class="cstat-no" title="statement not covered" >return this._dictionary.wordsWithPrefix(prefix);}</span>,hasWord:<span class="fstat-no" title="function not covered" >function(word)</span>
{<span class="cstat-no" title="statement not covered" >return this._dictionary.hasWord(word);}</span>,wordCount:<span class="fstat-no" title="function not covered" >function(word)</span>
{<span class="cstat-no" title="statement not covered" >return this._dictionary.wordCount(word);}</span>,dispose:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.off("beforeChange",this._beforeChange);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.off("changes",this._changes);<span class="cstat-no" title="statement not covered" >t</span>his._dictionary.reset();}</span>,};<span class="cstat-no" title="statement not covered" >WebInspector.TextEditorAutocompleteController=<span class="fstat-no" title="function not covered" >function(textEditor,codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >this._textEditor=textEditor;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror=codeMirror;<span class="cstat-no" title="statement not covered" >t</span>his._onScroll=this._onScroll.bind(this);<span class="cstat-no" title="statement not covered" >t</span>his._onCursorActivity=this._onCursorActivity.bind(this);<span class="cstat-no" title="statement not covered" >t</span>his._changes=this._changes.bind(this);<span class="cstat-no" title="statement not covered" >t</span>his._blur=this._blur.bind(this);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("changes",this._changes);<span class="cstat-no" title="statement not covered" >t</span>his._enabled=true;<span class="cstat-no" title="statement not covered" >t</span>his._initialized=false;}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.TextEditorAutocompleteController.prototype={_initializeIfNeeded:<span class="fstat-no" title="function not covered" >function()</span></span>
{<span class="cstat-no" title="statement not covered" >if(this._initialized)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._initialized=true;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("scroll",this._onScroll);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("cursorActivity",this._onCursorActivity);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("blur",this._blur);<span class="cstat-no" title="statement not covered" >t</span>his._delegate.initialize(this._textEditor);}</span>,setDelegate:<span class="fstat-no" title="function not covered" >function(delegate)</span>
{<span class="cstat-no" title="statement not covered" >if(this._delegate)</span>
<span class="cstat-no" title="statement not covered" >this._delegate.dispose();<span class="cstat-no" title="statement not covered" >t</span>his._delegate=delegate;}</span>,setEnabled:<span class="fstat-no" title="function not covered" >function(enabled)</span>
{<span class="cstat-no" title="statement not covered" >if(enabled===this._enabled)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._enabled=enabled;<span class="cstat-no" title="statement not covered" >i</span>f(!this._delegate)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span>f(!enabled)</span>
<span class="cstat-no" title="statement not covered" >this._delegate.dispose();e</span>lse
<span class="cstat-no" title="statement not covered" >this._delegate.initialize();}</span>,_changes:<span class="fstat-no" title="function not covered" >function(codeMirror,changes)</span>
{<span class="cstat-no" title="statement not covered" >if(!changes.length||!this._enabled||!this._delegate)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar singleCharInput=false;<span class="cstat-no" title="statement not covered" >f</span>or(var changeIndex=0;changeIndex&lt;changes.length;++changeIndex){<span class="cstat-no" title="statement not covered" >var changeObject=changes[changeIndex];<span class="cstat-no" title="statement not covered" >s</span>ingleCharInput=(changeObject.origin==="+input"&amp;&amp;changeObject.text.length===1&amp;&amp;changeObject.text[0].length===1)||(this._suggestBox&amp;&amp;changeObject.origin==="+delete"&amp;&amp;changeObject.removed.length===1&amp;&amp;changeObject.removed[0].length===1);}</span></span>
<span class="cstat-no" title="statement not covered" >if(singleCharInput)</span>
<span class="cstat-no" title="statement not covered" >setImmediate(this.autocomplete.bind(this));}</span>,_blur:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this.finishAutocomplete();}</span>,_validateSelectionsContexts:<span class="fstat-no" title="function not covered" >function(mainSelection)</span>
{<span class="cstat-no" title="statement not covered" >var selections=this._codeMirror.listSelections();<span class="cstat-no" title="statement not covered" >i</span>f(selections.length&lt;=1)</span>
<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >v</span>ar mainSelectionContext=this._textEditor.copyRange(mainSelection);<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var wordRange=this._delegate.substituteRange(this._textEditor,selections[i].head.line,selections[i].head.ch);<span class="cstat-no" title="statement not covered" >i</span>f(!wordRange)</span></span>
<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >v</span>ar context=this._textEditor.copyRange(wordRange);<span class="cstat-no" title="statement not covered" >i</span>f(context!==mainSelectionContext)</span>
<span class="cstat-no" title="statement not covered" >return false;}</span>
<span class="cstat-no" title="statement not covered" >return true;}</span>,autocomplete:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(!this._enabled||!this._delegate)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._initializeIfNeeded();<span class="cstat-no" title="statement not covered" >i</span>f(this._codeMirror.somethingSelected()){<span class="cstat-no" title="statement not covered" >this.finishAutocomplete();<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >var cursor=this._codeMirror.getCursor("head");<span class="cstat-no" title="statement not covered" >v</span>ar substituteRange=this._delegate.substituteRange(this._textEditor,cursor.line,cursor.ch);<span class="cstat-no" title="statement not covered" >i</span>f(!substituteRange||!this._validateSelectionsContexts(substituteRange)){<span class="cstat-no" title="statement not covered" >this.finishAutocomplete();<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >var prefixRange=substituteRange.clone();<span class="cstat-no" title="statement not covered" >p</span>refixRange.endColumn=cursor.ch;<span class="cstat-no" title="statement not covered" >v</span>ar wordsWithPrefix=this._delegate.wordsWithPrefix(this._textEditor,prefixRange,substituteRange);<span class="cstat-no" title="statement not covered" >i</span>f(!wordsWithPrefix.length){<span class="cstat-no" title="statement not covered" >this.finishAutocomplete();<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >if(!this._suggestBox)</span>
<span class="cstat-no" title="statement not covered" >this._suggestBox=new WebInspector.SuggestBox(this,6);<span class="cstat-no" title="statement not covered" >v</span>ar oldPrefixRange=this._prefixRange;<span class="cstat-no" title="statement not covered" >t</span>his._prefixRange=prefixRange;<span class="cstat-no" title="statement not covered" >i</span>f(!oldPrefixRange||prefixRange.startLine!==oldPrefixRange.startLine||prefixRange.startColumn!==oldPrefixRange.startColumn)</span>
<span class="cstat-no" title="statement not covered" >this._updateAnchorBox();<span class="cstat-no" title="statement not covered" >t</span>his._suggestBox.updateSuggestions(this._anchorBox,wordsWithPrefix.map(item=&gt;(<span class="cstat-no" title="statement not covered" >{title:item})</span>),0,true,this._textEditor.copyRange(prefixRange));<span class="cstat-no" title="statement not covered" >i</span>f(!this._suggestBox.visible())</span>
<span class="cstat-no" title="statement not covered" >this.finishAutocomplete();<span class="cstat-no" title="statement not covered" >t</span>his._onSuggestionsShownForTest(wordsWithPrefix);}</span>,_onSuggestionsShownForTest:<span class="fstat-no" title="function not covered" >function(suggestions){</span>},finishAutocomplete:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(!this._suggestBox)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._suggestBox.hide();<span class="cstat-no" title="statement not covered" >t</span>his._suggestBox=null;<span class="cstat-no" title="statement not covered" >t</span>his._prefixRange=null;<span class="cstat-no" title="statement not covered" >t</span>his._anchorBox=null;}</span>,keyDown:<span class="fstat-no" title="function not covered" >function(e)</span>
{<span class="cstat-no" title="statement not covered" >if(!this._suggestBox)</span>
<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >i</span>f(e.keyCode===WebInspector.KeyboardShortcut.Keys.Esc.code){<span class="cstat-no" title="statement not covered" >this.finishAutocomplete();<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span></span>
<span class="cstat-no" title="statement not covered" >if(e.keyCode===WebInspector.KeyboardShortcut.Keys.Tab.code){<span class="cstat-no" title="statement not covered" >this._suggestBox.acceptSuggestion();<span class="cstat-no" title="statement not covered" >t</span>his.finishAutocomplete();<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span></span>
<span class="cstat-no" title="statement not covered" >return this._suggestBox.keyPressed(e);}</span>,applySuggestion:<span class="fstat-no" title="function not covered" >function(suggestion,isIntermediateSuggestion)</span>
{<span class="cstat-no" title="statement not covered" >this._currentSuggestion=suggestion;}</span>,acceptSuggestion:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(this._prefixRange.endColumn-this._prefixRange.startColumn===this._currentSuggestion.length)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar selections=this._codeMirror.listSelections().slice();<span class="cstat-no" title="statement not covered" >v</span>ar prefixLength=this._prefixRange.endColumn-this._prefixRange.startColumn;<span class="cstat-no" title="statement not covered" >f</span>or(var i=selections.length-1;i&gt;=0;--i){<span class="cstat-no" title="statement not covered" >var start=selections[i].head;<span class="cstat-no" title="statement not covered" >v</span>ar end=new CodeMirror.Pos(start.line,start.ch-prefixLength);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.replaceRange(this._currentSuggestion,start,end,"+autocomplete");}</span>}</span>,_onScroll:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(!this._suggestBox)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar cursor=this._codeMirror.getCursor();<span class="cstat-no" title="statement not covered" >v</span>ar scrollInfo=this._codeMirror.getScrollInfo();<span class="cstat-no" title="statement not covered" >v</span>ar topmostLineNumber=this._codeMirror.lineAtHeight(scrollInfo.top,"local");<span class="cstat-no" title="statement not covered" >v</span>ar bottomLine=this._codeMirror.lineAtHeight(scrollInfo.top+scrollInfo.clientHeight,"local");<span class="cstat-no" title="statement not covered" >i</span>f(cursor.line&lt;topmostLineNumber||cursor.line&gt;bottomLine)</span>
<span class="cstat-no" title="statement not covered" >this.finishAutocomplete();e</span>lse{<span class="cstat-no" title="statement not covered" >this._updateAnchorBox();<span class="cstat-no" title="statement not covered" >t</span>his._suggestBox.setPosition(this._anchorBox);}</span>},_onCursorActivity:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(!this._suggestBox)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar cursor=this._codeMirror.getCursor();<span class="cstat-no" title="statement not covered" >i</span>f(cursor.line!==this._prefixRange.startLine||cursor.ch&gt;this._prefixRange.endColumn||cursor.ch&lt;=this._prefixRange.startColumn)</span>
<span class="cstat-no" title="statement not covered" >this.finishAutocomplete();}</span>,_updateAnchorBox:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var line=this._prefixRange.startLine;<span class="cstat-no" title="statement not covered" >v</span>ar column=this._prefixRange.startColumn;<span class="cstat-no" title="statement not covered" >v</span>ar metrics=this._textEditor.cursorPositionToCoordinates(line,column);<span class="cstat-no" title="statement not covered" >t</span>his._anchorBox=metrics?new AnchorBox(metrics.x,metrics.y,0,metrics.height):null;}</span>,}
<span class="cstat-no" title="statement not covered" >WebInspector.TextEditorAutocompleteDelegate=<span class="fstat-no" title="function not covered" >function(){</span>}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.TextEditorAutocompleteDelegate.prototype={substituteRange:<span class="fstat-no" title="function not covered" >function(editor,lineNumber,columnNumber){</span>},wordsWithPrefix:<span class="fstat-no" title="function not covered" >function(editor,prefixRange,substituteRange){</span>},initialize:<span class="fstat-no" title="function not covered" >function(editor){</span>},dispose:<span class="fstat-no" title="function not covered" >function(){</span>}}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.SimpleAutocompleteDelegate=<span class="fstat-no" title="function not covered" >function(additionalWordChars)</span></span>
{<span class="cstat-no" title="statement not covered" >this._additionalWordChars=additionalWordChars;}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.SimpleAutocompleteDelegate.prototype={initialize:<span class="fstat-no" title="function not covered" >function(editor)</span></span>
{<span class="cstat-no" title="statement not covered" >if(this._dictionary)</span>
<span class="cstat-no" title="statement not covered" >this._dictionary.dispose();<span class="cstat-no" title="statement not covered" >t</span>his._dictionary=editor.createTextDictionary(this._additionalWordChars);}</span>,dispose:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(this._dictionary){<span class="cstat-no" title="statement not covered" >this._dictionary.dispose();<span class="cstat-no" title="statement not covered" >d</span>elete this._dictionary;}</span>}</span>,substituteRange:<span class="fstat-no" title="function not covered" >function(editor,lineNumber,columnNumber)</span>
{<span class="cstat-no" title="statement not covered" >return editor.wordRangeForCursorPosition(lineNumber,columnNumber,this._dictionary.isWordChar.bind(this._dictionary));}</span>,wordsWithPrefix:<span class="fstat-no" title="function not covered" >function(editor,prefixRange,substituteRange)</span>
{<span class="cstat-no" title="statement not covered" >if(prefixRange.startColumn===prefixRange.endColumn)</span>
<span class="cstat-no" title="statement not covered" >return[];<span class="cstat-no" title="statement not covered" >v</span>ar dictionary=this._dictionary;<span class="cstat-no" title="statement not covered" >v</span>ar completions=dictionary.wordsWithPrefix(editor.copyRange(prefixRange));<span class="cstat-no" title="statement not covered" >v</span>ar substituteWord=editor.copyRange(substituteRange);<span class="cstat-no" title="statement not covered" >i</span>f(dictionary.wordCount(substituteWord)===1)</span>
<span class="cstat-no" title="statement not covered" >completions=completions.filter(excludeFilter.bind(null,substituteWord));<span class="cstat-no" title="statement not covered" >c</span>ompletions.sort(sortSuggestions);<span class="cstat-no" title="statement not covered" >r</span>eturn completions;<span class="fstat-no" title="function not covered" >f</span>unction sortSuggestions(a,b)</span>
{<span class="cstat-no" title="statement not covered" >return dictionary.wordCount(b)-dictionary.wordCount(a)||a.length-b.length;}</span>
<span class="fstat-no" title="function not covered" >function excludeFilter(excludeWord,word)</span>
{<span class="cstat-no" title="statement not covered" >return word!==excludeWord;}</span>}};<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor=<span class="fstat-no" title="function not covered" >function(url,delegate)</span></span>
{<span class="cstat-no" title="statement not covered" >WebInspector.VBox.call(this);<span class="cstat-no" title="statement not covered" >t</span>his._delegate=delegate;<span class="cstat-no" title="statement not covered" >t</span>his._url=url;<span class="cstat-no" title="statement not covered" >t</span>his._gutters=["CodeMirror-linenumbers"];<span class="cstat-no" title="statement not covered" >t</span>his.registerRequiredCSS("cm/codemirror.css");<span class="cstat-no" title="statement not covered" >t</span>his.registerRequiredCSS("source_frame/cmdevtools.css");<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorUtils.appendThemeStyle(this.element);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror=new window.CodeMirror(this.element,{lineNumbers:true,gutters:["CodeMirror-linenumbers"],matchBrackets:true,smartIndent:false,styleSelectedText:true,electricChars:false,styleActiveLine:true});<span class="cstat-no" title="statement not covered" >t</span>his._codeMirrorElement=this.element.lastElementChild;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror._codeMirrorTextEditor=this;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.keyMap["devtools-common"]={"Left":"goCharLeft","Right":"goCharRight","Up":"goLineUp","Down":"goLineDown","End":"goLineEnd","Home":"goLineStartSmart","PageUp":"goPageUp","PageDown":"goPageDown","Delete":"delCharAfter","Backspace":"delCharBefore","Tab":"defaultTab","Shift-Tab":"indentLess","Enter":"smartNewlineAndIndent","Ctrl-Space":"autocomplete","Esc":"dismissMultipleSelections","Ctrl-M":"gotoMatchingBracket"};<span class="cstat-no" title="statement not covered" >C</span>odeMirror.keyMap["devtools-pc"]={"Ctrl-A":"selectAll","Ctrl-Z":"undoAndReveal","Shift-Ctrl-Z":"redoAndReveal","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"moveCamelLeft","Alt-Right":"moveCamelRight","Shift-Alt-Left":"selectCamelLeft","Shift-Alt-Right":"selectCamelRight","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-/":"toggleComment","Ctrl-D":"selectNextOccurrence","Ctrl-U":"undoLastSelection",fallthrough:"devtools-common"};<span class="cstat-no" title="statement not covered" >C</span>odeMirror.keyMap["devtools-mac"]={"Cmd-A":"selectAll","Cmd-Z":"undoAndReveal","Shift-Cmd-Z":"redoAndReveal","Cmd-Up":"goDocStart","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Ctrl-Left":"moveCamelLeft","Ctrl-Right":"moveCamelRight","Shift-Ctrl-Left":"selectCamelLeft","Shift-Ctrl-Right":"selectCamelRight","Cmd-Left":"goLineStartSmart","Cmd-Right":"goLineEnd","Cmd-Backspace":"delLineLeft","Alt-Backspace":"delGroupBefore","Alt-Delete":"delGroupAfter","Cmd-/":"toggleComment","Cmd-D":"selectNextOccurrence","Cmd-U":"undoLastSelection",fallthrough:"devtools-common"};<span class="cstat-no" title="statement not covered" >W</span>ebInspector.moduleSetting("textEditorIndent").addChangeListener(this._onUpdateEditorIndentation,this);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.moduleSetting("textEditorAutoDetectIndent").addChangeListener(this._onUpdateEditorIndentation,this);<span class="cstat-no" title="statement not covered" >t</span>his._onUpdateEditorIndentation();<span class="cstat-no" title="statement not covered" >W</span>ebInspector.moduleSetting("showWhitespacesInEditor").addChangeListener(this._updateCodeMirrorMode,this);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.moduleSetting("textEditorBracketMatching").addChangeListener(this._enableBracketMatchingIfNeeded,this);<span class="cstat-no" title="statement not covered" >t</span>his._enableBracketMatchingIfNeeded();<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("keyMap",WebInspector.isMac()?"devtools-mac":"devtools-pc");<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.addKeyMap({"'":"maybeAvoidSmartSingleQuotes","'\"'":"maybeAvoidSmartDoubleQuotes"});<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("flattenSpans",false);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("maxHighlightLength",WebInspector.CodeMirrorTextEditor.maxHighlightLength);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("mode",null);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("crudeMeasuringFrom",1000);<span class="cstat-no" title="statement not covered" >t</span>his._shouldClearHistory=true;<span class="cstat-no" title="statement not covered" >t</span>his._lineSeparator="\n";<span class="cstat-no" title="statement not covered" >t</span>his._autocompleteController=new WebInspector.TextEditorAutocompleteController(this,this._codeMirror);<span class="cstat-no" title="statement not covered" >t</span>his._tokenHighlighter=new WebInspector.CodeMirrorTextEditor.TokenHighlighter(this,this._codeMirror);<span class="cstat-no" title="statement not covered" >t</span>his._blockIndentController=new WebInspector.CodeMirrorTextEditor.BlockIndentController(this._codeMirror);<span class="cstat-no" title="statement not covered" >t</span>his._fixWordMovement=new WebInspector.CodeMirrorTextEditor.FixWordMovement(this._codeMirror);<span class="cstat-no" title="statement not covered" >t</span>his._selectNextOccurrenceController=new WebInspector.CodeMirrorTextEditor.SelectNextOccurrenceController(this,this._codeMirror);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.moduleSetting("textEditorAutocompletion").addChangeListener(this._enableAutocompletionIfNeeded,this);<span class="cstat-no" title="statement not covered" >t</span>his._enableAutocompletionIfNeeded();<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("changes",this._changes.bind(this));<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("gutterClick",this._gutterClick.bind(this));<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("cursorActivity",this._cursorActivity.bind(this));<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("beforeSelectionChange",this._beforeSelectionChange.bind(this));<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("scroll",this._scroll.bind(this));<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("focus",this._focus.bind(this));<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.on("keyHandled",this._onKeyHandled.bind(this));<span class="cstat-no" title="statement not covered" >t</span>his.element.addEventListener("contextmenu",this._contextMenu.bind(this),false);<span class="fstat-no" title="function not covered" >f</span>unction updateAnticipateJumpFlag(value)</span>
{<span class="cstat-no" title="statement not covered" >this._isHandlingMouseDownEvent=value;}</span>
<span class="cstat-no" title="statement not covered" >this.element.addEventListener("mousedown",updateAnticipateJumpFlag.bind(this,true),true);<span class="cstat-no" title="statement not covered" >t</span>his.element.addEventListener("mousedown",updateAnticipateJumpFlag.bind(this,false),false);<span class="cstat-no" title="statement not covered" >t</span>his.element.style.overflow="hidden";<span class="cstat-no" title="statement not covered" >t</span>his._codeMirrorElement.classList.add("source-code");<span class="cstat-no" title="statement not covered" >t</span>his._codeMirrorElement.classList.add("fill");<span class="cstat-no" title="statement not covered" >t</span>his._elementToWidget=new Map();<span class="cstat-no" title="statement not covered" >t</span>his._nestedUpdatesCounter=0;<span class="cstat-no" title="statement not covered" >t</span>his.element.addEventListener("focus",this._handleElementFocus.bind(this),false);<span class="cstat-no" title="statement not covered" >t</span>his.element.addEventListener("keydown",this._handleKeyDown.bind(this),true);<span class="cstat-no" title="statement not covered" >t</span>his.element.addEventListener("keydown",this._handlePostKeyDown.bind(this),false);<span class="cstat-no" title="statement not covered" >t</span>his.element.tabIndex=0;<span class="cstat-no" title="statement not covered" >t</span>his._setupWhitespaceHighlight();}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor.maxHighlightLength=1000;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.autocompleteCommand=<span class="fstat-no" title="function not covered" >function(codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >codeMirror._codeMirrorTextEditor._autocompleteController.autocomplete();}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.autocomplete=WebInspector.CodeMirrorTextEditor.autocompleteCommand;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.undoLastSelectionCommand=<span class="fstat-no" title="function not covered" >function(codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >codeMirror._codeMirrorTextEditor._selectNextOccurrenceController.undoLastSelection();}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.undoLastSelection=WebInspector.CodeMirrorTextEditor.undoLastSelectionCommand;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.selectNextOccurrenceCommand=<span class="fstat-no" title="function not covered" >function(codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >codeMirror._codeMirrorTextEditor._selectNextOccurrenceController.selectNextOccurrence();}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.selectNextOccurrence=WebInspector.CodeMirrorTextEditor.selectNextOccurrenceCommand;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.moveCamelLeftCommand=<span class="fstat-no" title="function not covered" >function(shift,codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >codeMirror._codeMirrorTextEditor._doCamelCaseMovement(-1,shift);}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.moveCamelLeft=WebInspector.CodeMirrorTextEditor.moveCamelLeftCommand.bind(null,false);<span class="cstat-no" title="statement not covered" >C</span>odeMirror.commands.selectCamelLeft=WebInspector.CodeMirrorTextEditor.moveCamelLeftCommand.bind(null,true);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.moveCamelRightCommand=<span class="fstat-no" title="function not covered" >function(shift,codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >codeMirror._codeMirrorTextEditor._doCamelCaseMovement(1,shift);}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.moveCamelRight=WebInspector.CodeMirrorTextEditor.moveCamelRightCommand.bind(null,false);<span class="cstat-no" title="statement not covered" >C</span>odeMirror.commands.selectCamelRight=WebInspector.CodeMirrorTextEditor.moveCamelRightCommand.bind(null,true);<span class="cstat-no" title="statement not covered" >C</span>odeMirror.commands.smartNewlineAndIndent=<span class="fstat-no" title="function not covered" >function(codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >codeMirror.operation(innerSmartNewlineAndIndent.bind(null,codeMirror));<span class="fstat-no" title="function not covered" >f</span>unction innerSmartNewlineAndIndent(codeMirror)</span>
{<span class="cstat-no" title="statement not covered" >var selections=codeMirror.listSelections();<span class="cstat-no" title="statement not covered" >v</span>ar replacements=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selections[i];<span class="cstat-no" title="statement not covered" >v</span>ar cur=CodeMirror.cmpPos(selection.head,selection.anchor)&lt;0?selection.head:selection.anchor;<span class="cstat-no" title="statement not covered" >v</span>ar line=codeMirror.getLine(cur.line);<span class="cstat-no" title="statement not covered" >v</span>ar indent=WebInspector.TextUtils.lineIndent(line);<span class="cstat-no" title="statement not covered" >r</span>eplacements.push("\n"+indent.substring(0,Math.min(cur.ch,indent.length)));}</span></span>
<span class="cstat-no" title="statement not covered" >codeMirror.replaceSelections(replacements);<span class="cstat-no" title="statement not covered" >c</span>odeMirror._codeMirrorTextEditor._onAutoAppendedSpaces();}</span>}
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.gotoMatchingBracket=<span class="fstat-no" title="function not covered" >function(codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >var updatedSelections=[];<span class="cstat-no" title="statement not covered" >v</span>ar selections=codeMirror.listSelections();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selections[i];<span class="cstat-no" title="statement not covered" >v</span>ar cursor=selection.head;<span class="cstat-no" title="statement not covered" >v</span>ar matchingBracket=codeMirror.findMatchingBracket(cursor,false,{maxScanLines:10000});<span class="cstat-no" title="statement not covered" >v</span>ar updatedHead=cursor;<span class="cstat-no" title="statement not covered" >i</span>f(matchingBracket&amp;&amp;matchingBracket.match){<span class="cstat-no" title="statement not covered" >var columnCorrection=CodeMirror.cmpPos(matchingBracket.from,cursor)===0?1:0;<span class="cstat-no" title="statement not covered" >u</span>pdatedHead=new CodeMirror.Pos(matchingBracket.to.line,matchingBracket.to.ch+columnCorrection);}</span></span></span>
<span class="cstat-no" title="statement not covered" >updatedSelections.push({anchor:updatedHead,head:updatedHead});}</span>
<span class="cstat-no" title="statement not covered" >codeMirror.setSelections(updatedSelections);}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.undoAndReveal=<span class="fstat-no" title="function not covered" >function(codemirror)</span></span>
{<span class="cstat-no" title="statement not covered" >var scrollInfo=codemirror.getScrollInfo();<span class="cstat-no" title="statement not covered" >c</span>odemirror.execCommand("undo");<span class="cstat-no" title="statement not covered" >v</span>ar cursor=codemirror.getCursor("start");<span class="cstat-no" title="statement not covered" >c</span>odemirror._codeMirrorTextEditor._innerRevealLine(cursor.line,scrollInfo);<span class="cstat-no" title="statement not covered" >c</span>odemirror._codeMirrorTextEditor._autocompleteController.finishAutocomplete();}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.redoAndReveal=<span class="fstat-no" title="function not covered" >function(codemirror)</span></span>
{<span class="cstat-no" title="statement not covered" >var scrollInfo=codemirror.getScrollInfo();<span class="cstat-no" title="statement not covered" >c</span>odemirror.execCommand("redo");<span class="cstat-no" title="statement not covered" >v</span>ar cursor=codemirror.getCursor("start");<span class="cstat-no" title="statement not covered" >c</span>odemirror._codeMirrorTextEditor._innerRevealLine(cursor.line,scrollInfo);<span class="cstat-no" title="statement not covered" >c</span>odemirror._codeMirrorTextEditor._autocompleteController.finishAutocomplete();}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.dismissMultipleSelections=<span class="fstat-no" title="function not covered" >function(codemirror)</span></span>
{<span class="cstat-no" title="statement not covered" >var selections=codemirror.listSelections();<span class="cstat-no" title="statement not covered" >v</span>ar selection=selections[0];<span class="cstat-no" title="statement not covered" >i</span>f(selections.length===1){<span class="cstat-no" title="statement not covered" >if(codemirror._codeMirrorTextEditor._isSearchActive())</span></span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >i</span>f(WebInspector.CodeMirrorUtils.toRange(selection.anchor,selection.head).isEmpty())</span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >c</span>odemirror.setSelection(selection.anchor,selection.anchor,{scroll:false});<span class="cstat-no" title="statement not covered" >c</span>odemirror._codeMirrorTextEditor._revealLine(selection.anchor.line);<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span>
<span class="cstat-no" title="statement not covered" >codemirror.setSelection(selection.anchor,selection.head,{scroll:false});<span class="cstat-no" title="statement not covered" >c</span>odemirror._codeMirrorTextEditor._revealLine(selection.anchor.line);}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor._maybeAvoidSmartQuotes=<span class="fstat-no" title="function not covered" >function(quoteCharacter,codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >var textEditor=codeMirror._codeMirrorTextEditor;<span class="cstat-no" title="statement not covered" >i</span>f(!WebInspector.moduleSetting("textEditorBracketMatching").get())</span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span>ar selections=textEditor.selections();<span class="cstat-no" title="statement not covered" >i</span>f(selections.length!==1||!selections[0].isEmpty())</span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span>ar selection=selections[0];<span class="cstat-no" title="statement not covered" >v</span>ar token=textEditor.tokenAtTextPosition(selection.startLine,selection.startColumn);<span class="cstat-no" title="statement not covered" >i</span>f(!token||!token.type||token.type.indexOf("string")===-1)</span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span>ar line=textEditor.line(selection.startLine);<span class="cstat-no" title="statement not covered" >v</span>ar tokenValue=line.substring(token.startColumn,token.endColumn);<span class="cstat-no" title="statement not covered" >i</span>f(tokenValue[0]===tokenValue[tokenValue.length-1]&amp;&amp;(tokenValue[0]==="'"||tokenValue[0]==="\""))</span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >c</span>odeMirror.replaceSelection(quoteCharacter);}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.commands.maybeAvoidSmartSingleQuotes=WebInspector.CodeMirrorTextEditor._maybeAvoidSmartQuotes.bind(null,"'");<span class="cstat-no" title="statement not covered" >C</span>odeMirror.commands.maybeAvoidSmartDoubleQuotes=WebInspector.CodeMirrorTextEditor._maybeAvoidSmartQuotes.bind(null,"\"");<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.LongLineModeLineLengthThreshold=2000;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.MaximumNumberOfWhitespacesPerSingleSpan=16;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.MaxEditableTextSize=1024*1024*10;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.LinesToScanForIndentationGuessing=1000;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor._guessIndentationLevel=<span class="fstat-no" title="function not covered" >function(lines)</span></span>
{<span class="cstat-no" title="statement not covered" >var tabRegex=/^\t+/;<span class="cstat-no" title="statement not covered" >v</span>ar tabLines=0;<span class="cstat-no" title="statement not covered" >v</span>ar indents={};<span class="cstat-no" title="statement not covered" >f</span>or(var lineNumber=0;lineNumber&lt;lines.length;++lineNumber){<span class="cstat-no" title="statement not covered" >var text=lines[lineNumber];<span class="cstat-no" title="statement not covered" >i</span>f(text.length===0||!WebInspector.TextUtils.isSpaceChar(text[0]))</span></span>
<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span>f(tabRegex.test(text)){<span class="cstat-no" title="statement not covered" >++tabLines;<span class="cstat-no" title="statement not covered" >c</span>ontinue;}</span></span>
<span class="cstat-no" title="statement not covered" >var i=0;<span class="cstat-no" title="statement not covered" >w</span>hile(i&lt;text.length&amp;&amp;WebInspector.TextUtils.isSpaceChar(text[i]))</span>
<span class="cstat-no" title="statement not covered" >++i;<span class="cstat-no" title="statement not covered" >i</span>f(i%2!==0)</span>
<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >i</span>ndents[i]=1+(indents[i]||0);}</span>
<span class="cstat-no" title="statement not covered" >var linesCountPerIndentThreshold=3*lines.length/100;<span class="cstat-no" title="statement not covered" >i</span>f(tabLines&amp;&amp;tabLines&gt;linesCountPerIndentThreshold)</span>
<span class="cstat-no" title="statement not covered" >return"\t";<span class="cstat-no" title="statement not covered" >v</span>ar minimumIndent=Infinity;<span class="cstat-no" title="statement not covered" >f</span>or(var i in indents){<span class="cstat-no" title="statement not covered" >if(indents[i]&lt;linesCountPerIndentThreshold)</span></span>
<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >v</span>ar indent=parseInt(i,10);<span class="cstat-no" title="statement not covered" >i</span>f(minimumIndent&gt;indent)</span>
<span class="cstat-no" title="statement not covered" >minimumIndent=indent;}</span>
<span class="cstat-no" title="statement not covered" >if(minimumIndent===Infinity)</span>
<span class="cstat-no" title="statement not covered" >return WebInspector.moduleSetting("textEditorIndent").get();<span class="cstat-no" title="statement not covered" >r</span>eturn" ".repeat(minimumIndent);}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor.prototype={createTextDictionary:<span class="fstat-no" title="function not covered" >function(additionalWordChars)</span></span>
{<span class="cstat-no" title="statement not covered" >return new WebInspector.CodeMirrorDictionary(this._codeMirror,additionalWordChars);}</span>,_enableAutocompletionIfNeeded:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._autocompleteController.setEnabled(WebInspector.moduleSetting("textEditorAutocompletion").get());}</span>,_onKeyHandled:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >WebInspector.shortcutRegistry.dismissPendingShortcutAction();}</span>,_onAutoAppendedSpaces:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._autoAppendedSpaces=this._autoAppendedSpaces||[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;this._autoAppendedSpaces.length;++i){<span class="cstat-no" title="statement not covered" >var position=this._autoAppendedSpaces[i].resolve();<span class="cstat-no" title="statement not covered" >i</span>f(!position)</span></span>
<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >v</span>ar line=this.line(position.lineNumber);<span class="cstat-no" title="statement not covered" >i</span>f(line.length===position.columnNumber&amp;&amp;WebInspector.TextUtils.lineIndent(line).length===line.length)</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.replaceRange("",new CodeMirror.Pos(position.lineNumber,0),new CodeMirror.Pos(position.lineNumber,position.columnNumber));}</span>
<span class="cstat-no" title="statement not covered" >this._autoAppendedSpaces=[];<span class="cstat-no" title="statement not covered" >v</span>ar selections=this.selections();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selections[i];<span class="cstat-no" title="statement not covered" >t</span>his._autoAppendedSpaces.push(this.textEditorPositionHandle(selection.startLine,selection.startColumn));}</span>}</span>,_normalizePositionForOverlappingColumn:<span class="fstat-no" title="function not covered" >function(lineNumber,lineLength,charNumber)</span>
{<span class="cstat-no" title="statement not covered" >var linesCount=this._codeMirror.lineCount();<span class="cstat-no" title="statement not covered" >v</span>ar columnNumber=charNumber;<span class="cstat-no" title="statement not covered" >i</span>f(charNumber&lt;0&amp;&amp;lineNumber&gt;0){<span class="cstat-no" title="statement not covered" >--lineNumber;<span class="cstat-no" title="statement not covered" >c</span>olumnNumber=this.line(lineNumber).length;}</span>else <span class="cstat-no" title="statement not covered" >if(charNumber&gt;=lineLength&amp;&amp;lineNumber&lt;linesCount-1){<span class="cstat-no" title="statement not covered" >++lineNumber;<span class="cstat-no" title="statement not covered" >c</span>olumnNumber=0;}</span>else{<span class="cstat-no" title="statement not covered" >columnNumber=Number.constrain(charNumber,0,lineLength);}</span></span></span>
<span class="cstat-no" title="statement not covered" >return{lineNumber:lineNumber,columnNumber:columnNumber};}</span>,_camelCaseMoveFromPosition:<span class="fstat-no" title="function not covered" >function(lineNumber,columnNumber,direction)</span>
{<span class="fstat-no" title="function not covered" >function valid(charNumber,length)</span>
{<span class="cstat-no" title="statement not covered" >return charNumber&gt;=0&amp;&amp;charNumber&lt;length;}</span>
<span class="fstat-no" title="function not covered" >function isWordStart(text,charNumber)</span>
{<span class="cstat-no" title="statement not covered" >var position=charNumber;<span class="cstat-no" title="statement not covered" >v</span>ar nextPosition=charNumber+1;<span class="cstat-no" title="statement not covered" >r</span>eturn valid(position,text.length)&amp;&amp;valid(nextPosition,text.length)&amp;&amp;WebInspector.TextUtils.isWordChar(text[position])&amp;&amp;WebInspector.TextUtils.isWordChar(text[nextPosition])&amp;&amp;WebInspector.TextUtils.isUpperCase(text[position])&amp;&amp;WebInspector.TextUtils.isLowerCase(text[nextPosition]);}</span>
<span class="fstat-no" title="function not covered" >function isWordEnd(text,charNumber)</span>
{<span class="cstat-no" title="statement not covered" >var position=charNumber;<span class="cstat-no" title="statement not covered" >v</span>ar prevPosition=charNumber-1;<span class="cstat-no" title="statement not covered" >r</span>eturn valid(position,text.length)&amp;&amp;valid(prevPosition,text.length)&amp;&amp;WebInspector.TextUtils.isWordChar(text[position])&amp;&amp;WebInspector.TextUtils.isWordChar(text[prevPosition])&amp;&amp;WebInspector.TextUtils.isUpperCase(text[position])&amp;&amp;WebInspector.TextUtils.isLowerCase(text[prevPosition]);}</span>
<span class="fstat-no" title="function not covered" >function constrainPosition(lineNumber,lineLength,columnNumber)</span>
{<span class="cstat-no" title="statement not covered" >return{lineNumber:lineNumber,columnNumber:Number.constrain(columnNumber,0,lineLength)};}</span>
<span class="cstat-no" title="statement not covered" >var text=this.line(lineNumber);<span class="cstat-no" title="statement not covered" >v</span>ar length=text.length;<span class="cstat-no" title="statement not covered" >i</span>f((columnNumber===length&amp;&amp;direction===1)||(columnNumber===0&amp;&amp;direction===-1))</span>
<span class="cstat-no" title="statement not covered" >return this._normalizePositionForOverlappingColumn(lineNumber,length,columnNumber+direction);<span class="cstat-no" title="statement not covered" >v</span>ar charNumber=direction===1?columnNumber:columnNumber-1;<span class="cstat-no" title="statement not covered" >w</span>hile(valid(charNumber,length)&amp;&amp;WebInspector.TextUtils.isSpaceChar(text[charNumber]))</span>
<span class="cstat-no" title="statement not covered" >charNumber+=direction;<span class="cstat-no" title="statement not covered" >i</span>f(!valid(charNumber,length))</span>
<span class="cstat-no" title="statement not covered" >return constrainPosition(lineNumber,length,charNumber);<span class="cstat-no" title="statement not covered" >i</span>f(WebInspector.TextUtils.isStopChar(text[charNumber])){<span class="cstat-no" title="statement not covered" >while(valid(charNumber,length)&amp;&amp;WebInspector.TextUtils.isStopChar(text[charNumber]))</span></span>
<span class="cstat-no" title="statement not covered" >charNumber+=direction;<span class="cstat-no" title="statement not covered" >i</span>f(!valid(charNumber,length))</span>
<span class="cstat-no" title="statement not covered" >return constrainPosition(lineNumber,length,charNumber);<span class="cstat-no" title="statement not covered" >r</span>eturn{lineNumber:lineNumber,columnNumber:direction===-1?charNumber+1:charNumber};}</span>
<span class="cstat-no" title="statement not covered" >charNumber+=direction;<span class="cstat-no" title="statement not covered" >w</span>hile(valid(charNumber,length)&amp;&amp;!isWordStart(text,charNumber)&amp;&amp;!isWordEnd(text,charNumber)&amp;&amp;WebInspector.TextUtils.isWordChar(text[charNumber]))</span>
<span class="cstat-no" title="statement not covered" >charNumber+=direction;<span class="cstat-no" title="statement not covered" >i</span>f(!valid(charNumber,length))</span>
<span class="cstat-no" title="statement not covered" >return constrainPosition(lineNumber,length,charNumber);<span class="cstat-no" title="statement not covered" >i</span>f(isWordStart(text,charNumber)||isWordEnd(text,charNumber)){<span class="cstat-no" title="statement not covered" >return{lineNumber:lineNumber,columnNumber:charNumber};}</span></span>
<span class="cstat-no" title="statement not covered" >return{lineNumber:lineNumber,columnNumber:direction===-1?charNumber+1:charNumber};}</span>,_doCamelCaseMovement:<span class="fstat-no" title="function not covered" >function(direction,shift)</span>
{<span class="cstat-no" title="statement not covered" >var selections=this.selections();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selections[i];<span class="cstat-no" title="statement not covered" >v</span>ar move=this._camelCaseMoveFromPosition(selection.endLine,selection.endColumn,direction);<span class="cstat-no" title="statement not covered" >s</span>election.endLine=move.lineNumber;<span class="cstat-no" title="statement not covered" >s</span>election.endColumn=move.columnNumber;<span class="cstat-no" title="statement not covered" >i</span>f(!shift)</span></span>
<span class="cstat-no" title="statement not covered" >selections[i]=selection.collapseToEnd();}</span>
<span class="cstat-no" title="statement not covered" >this.setSelections(selections);}</span>,dispose:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >WebInspector.moduleSetting("textEditorIndent").removeChangeListener(this._onUpdateEditorIndentation,this);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.moduleSetting("textEditorAutoDetectIndent").removeChangeListener(this._onUpdateEditorIndentation,this);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.moduleSetting("showWhitespacesInEditor").removeChangeListener(this._updateCodeMirrorMode,this);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.moduleSetting("textEditorBracketMatching").removeChangeListener(this._enableBracketMatchingIfNeeded,this);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.moduleSetting("textEditorAutocompletion").removeChangeListener(this._enableAutocompletionIfNeeded,this);}</span>,_enableBracketMatchingIfNeeded:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.setOption("autoCloseBrackets",WebInspector.moduleSetting("textEditorBracketMatching").get()?{explode:false}:false);}</span>,wasShown:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(this._wasOnceShown)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._wasOnceShown=true;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.refresh();}</span>,willHide:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >delete this._editorSizeInSync;}</span>,_onUpdateEditorIndentation:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._setEditorIndentation(WebInspector.CodeMirrorUtils.pullLines(this._codeMirror,WebInspector.CodeMirrorTextEditor.LinesToScanForIndentationGuessing));}</span>,_setEditorIndentation:<span class="fstat-no" title="function not covered" >function(lines)</span>
{<span class="cstat-no" title="statement not covered" >var extraKeys={};<span class="cstat-no" title="statement not covered" >v</span>ar indent=WebInspector.moduleSetting("textEditorIndent").get();<span class="cstat-no" title="statement not covered" >i</span>f(WebInspector.moduleSetting("textEditorAutoDetectIndent").get())</span>
<span class="cstat-no" title="statement not covered" >indent=WebInspector.CodeMirrorTextEditor._guessIndentationLevel(lines);<span class="cstat-no" title="statement not covered" >i</span>f(indent===WebInspector.TextUtils.Indent.TabCharacter){<span class="cstat-no" title="statement not covered" >this._codeMirror.setOption("indentWithTabs",true);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("indentUnit",4);}</span>else{<span class="cstat-no" title="statement not covered" >this._codeMirror.setOption("indentWithTabs",false);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("indentUnit",indent.length);<span class="cstat-no" title="statement not covered" >e</span>xtraKeys.Tab=<span class="fstat-no" title="function not covered" >function(codeMirror)</span></span></span>
{<span class="cstat-no" title="statement not covered" >if(codeMirror.somethingSelected())</span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span>ar pos=codeMirror.getCursor("head");<span class="cstat-no" title="statement not covered" >c</span>odeMirror.replaceRange(indent.substring(pos.ch%indent.length),codeMirror.getCursor());}</span>}
<span class="cstat-no" title="statement not covered" >this._codeMirror.setOption("extraKeys",extraKeys);<span class="cstat-no" title="statement not covered" >t</span>his._indentationLevel=indent;}</span>,indent:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this._indentationLevel;}</span>,_isSearchActive:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return!!this._tokenHighlighter.highlightedRegex();}</span>,highlightSearchResults:<span class="fstat-no" title="function not covered" >function(regex,range)</span>
{<span class="fstat-no" title="function not covered" >function innerHighlightRegex()</span>
{<span class="cstat-no" title="statement not covered" >if(range){<span class="cstat-no" title="statement not covered" >this._revealLine(range.startLine);<span class="cstat-no" title="statement not covered" >i</span>f(range.endColumn&gt;WebInspector.CodeMirrorTextEditor.maxHighlightLength)</span></span>
<span class="cstat-no" title="statement not covered" >this.setSelection(range);e</span>lse
<span class="cstat-no" title="statement not covered" >this.setSelection(WebInspector.TextRange.createFromLocation(range.startLine,range.startColumn));}</span>
<span class="cstat-no" title="statement not covered" >this._tokenHighlighter.highlightSearchResults(regex,range);}</span>
<span class="cstat-no" title="statement not covered" >if(!this._selectionBeforeSearch)</span>
<span class="cstat-no" title="statement not covered" >this._selectionBeforeSearch=this.selection();<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.operation(innerHighlightRegex.bind(this));}</span>,cancelSearchResultsHighlight:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.operation(this._tokenHighlighter.highlightSelectedTokens.bind(this._tokenHighlighter));<span class="cstat-no" title="statement not covered" >i</span>f(this._selectionBeforeSearch){<span class="cstat-no" title="statement not covered" >this._reportJump(this._selectionBeforeSearch,this.selection());<span class="cstat-no" title="statement not covered" >d</span>elete this._selectionBeforeSearch;}</span>}</span>,undo:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.undo();}</span>,redo:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.redo();}</span>,_setupWhitespaceHighlight:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var doc=this.element.ownerDocument;<span class="cstat-no" title="statement not covered" >i</span>f(doc._codeMirrorWhitespaceStyleInjected||!WebInspector.moduleSetting("showWhitespacesInEditor").get())</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >d</span>oc._codeMirrorWhitespaceStyleInjected=true;<span class="cstat-no" title="statement not covered" >c</span>onst classBase=".show-whitespaces .CodeMirror .cm-whitespace-";<span class="cstat-no" title="statement not covered" >c</span>onst spaceChar="";<span class="cstat-no" title="statement not covered" >v</span>ar spaceChars="";<span class="cstat-no" title="statement not covered" >v</span>ar rules="";<span class="cstat-no" title="statement not covered" >f</span>or(var i=1;i&lt;=WebInspector.CodeMirrorTextEditor.MaximumNumberOfWhitespacesPerSingleSpan;++i){<span class="cstat-no" title="statement not covered" >spaceChars+=spaceChar;<span class="cstat-no" title="statement not covered" >v</span>ar rule=classBase+i+"::before { content: '"+spaceChars+"';}\n";<span class="cstat-no" title="statement not covered" >r</span>ules+=rule;}</span></span>
<span class="cstat-no" title="statement not covered" >var style=doc.createElement("style");<span class="cstat-no" title="statement not covered" >s</span>tyle.textContent=rules;<span class="cstat-no" title="statement not covered" >d</span>oc.head.appendChild(style);}</span>,_handleKeyDown:<span class="fstat-no" title="function not covered" >function(e)</span>
{<span class="cstat-no" title="statement not covered" >if(this._autocompleteController.keyDown(e))</span>
<span class="cstat-no" title="statement not covered" >e.consume(true);}</span>,_handlePostKeyDown:<span class="fstat-no" title="function not covered" >function(e)</span>
{<span class="cstat-no" title="statement not covered" >if(e.defaultPrevented)</span>
<span class="cstat-no" title="statement not covered" >e.consume(true);}</span>,setAutocompleteDelegate:<span class="fstat-no" title="function not covered" >function(delegate)</span>
{<span class="cstat-no" title="statement not covered" >this._autocompleteController.setDelegate(delegate);}</span>,cursorPositionToCoordinates:<span class="fstat-no" title="function not covered" >function(lineNumber,column)</span>
{<span class="cstat-no" title="statement not covered" >if(lineNumber&gt;=this._codeMirror.lineCount()||lineNumber&lt;0||column&lt;0||column&gt;this._codeMirror.getLine(lineNumber).length)</span>
<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span>ar metrics=this._codeMirror.cursorCoords(new CodeMirror.Pos(lineNumber,column));<span class="cstat-no" title="statement not covered" >r</span>eturn{x:metrics.left,y:metrics.top,height:metrics.bottom-metrics.top};}</span>,coordinatesToCursorPosition:<span class="fstat-no" title="function not covered" >function(x,y)</span>
{<span class="cstat-no" title="statement not covered" >var element=this.element.ownerDocument.elementFromPoint(x,y);<span class="cstat-no" title="statement not covered" >i</span>f(!element||!element.isSelfOrDescendant(this._codeMirror.getWrapperElement()))</span>
<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span>ar gutterBox=this._codeMirror.getGutterElement().boxInWindow();<span class="cstat-no" title="statement not covered" >i</span>f(x&gt;=gutterBox.x&amp;&amp;x&lt;=gutterBox.x+gutterBox.width&amp;&amp;y&gt;=gutterBox.y&amp;&amp;y&lt;=gutterBox.y+gutterBox.height)</span>
<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span>ar coords=this._codeMirror.coordsChar({left:x,top:y});<span class="cstat-no" title="statement not covered" >r</span>eturn WebInspector.CodeMirrorUtils.toRange(coords,coords);}</span>,tokenAtTextPosition:<span class="fstat-no" title="function not covered" >function(lineNumber,column)</span>
{<span class="cstat-no" title="statement not covered" >if(lineNumber&lt;0||lineNumber&gt;=this._codeMirror.lineCount())</span>
<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span>ar token=this._codeMirror.getTokenAt(new CodeMirror.Pos(lineNumber,(column||0)+1));<span class="cstat-no" title="statement not covered" >i</span>f(!token)</span>
<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >r</span>eturn{startColumn:token.start,endColumn:token.end,type:token.type};}</span>,copyRange:<span class="fstat-no" title="function not covered" >function(textRange)</span>
{<span class="cstat-no" title="statement not covered" >var pos=WebInspector.CodeMirrorUtils.toPos(textRange.normalize());<span class="cstat-no" title="statement not covered" >r</span>eturn this._codeMirror.getRange(pos.start,pos.end);}</span>,isClean:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this._codeMirror.isClean();}</span>,markClean:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.markClean();}</span>,_hasLongLines:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="fstat-no" title="function not covered" >function lineIterator(lineHandle)</span>
{<span class="cstat-no" title="statement not covered" >if(lineHandle.text.length&gt;WebInspector.CodeMirrorTextEditor.LongLineModeLineLengthThreshold)</span>
<span class="cstat-no" title="statement not covered" >hasLongLines=true;<span class="cstat-no" title="statement not covered" >r</span>eturn hasLongLines;}</span>
<span class="cstat-no" title="statement not covered" >var hasLongLines=false;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.eachLine(lineIterator);<span class="cstat-no" title="statement not covered" >r</span>eturn hasLongLines;}</span>,_allWhitespaceOverlayMode:<span class="fstat-no" title="function not covered" >function(mimeType)</span>
{<span class="cstat-no" title="statement not covered" >var modeName=CodeMirror.mimeModes[mimeType]?(CodeMirror.mimeModes[mimeType].name||CodeMirror.mimeModes[mimeType]):CodeMirror.mimeModes["text/plain"];<span class="cstat-no" title="statement not covered" >m</span>odeName+="+all-whitespaces";<span class="cstat-no" title="statement not covered" >i</span>f(CodeMirror.modes[modeName])</span>
<span class="cstat-no" title="statement not covered" >return modeName;<span class="fstat-no" title="function not covered" >f</span>unction modeConstructor(config,parserConfig)</span>
{<span class="fstat-no" title="function not covered" >function nextToken(stream)</span>
{<span class="cstat-no" title="statement not covered" >if(stream.peek()===" "){<span class="cstat-no" title="statement not covered" >var spaces=0;<span class="cstat-no" title="statement not covered" >w</span>hile(spaces&lt;WebInspector.CodeMirrorTextEditor.MaximumNumberOfWhitespacesPerSingleSpan&amp;&amp;stream.peek()===" "){<span class="cstat-no" title="statement not covered" >++spaces;<span class="cstat-no" title="statement not covered" >s</span>tream.next();}</span></span></span>
<span class="cstat-no" title="statement not covered" >return"whitespace whitespace-"+spaces;}</span>
<span class="cstat-no" title="statement not covered" >while(!stream.eol()&amp;&amp;stream.peek()!==" ")</span>
<span class="cstat-no" title="statement not covered" >stream.next();<span class="cstat-no" title="statement not covered" >r</span>eturn null;}</span>
<span class="cstat-no" title="statement not covered" >var whitespaceMode={token:nextToken};<span class="cstat-no" title="statement not covered" >r</span>eturn CodeMirror.overlayMode(CodeMirror.getMode(config,mimeType),whitespaceMode,false);}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.defineMode(modeName,modeConstructor);<span class="cstat-no" title="statement not covered" >r</span>eturn modeName;}</span>,_trailingWhitespaceOverlayMode:<span class="fstat-no" title="function not covered" >function(mimeType)</span>
{<span class="cstat-no" title="statement not covered" >var modeName=CodeMirror.mimeModes[mimeType]?(CodeMirror.mimeModes[mimeType].name||CodeMirror.mimeModes[mimeType]):CodeMirror.mimeModes["text/plain"];<span class="cstat-no" title="statement not covered" >m</span>odeName+="+trailing-whitespaces";<span class="cstat-no" title="statement not covered" >i</span>f(CodeMirror.modes[modeName])</span>
<span class="cstat-no" title="statement not covered" >return modeName;<span class="fstat-no" title="function not covered" >f</span>unction modeConstructor(config,parserConfig)</span>
{<span class="fstat-no" title="function not covered" >function nextToken(stream)</span>
{<span class="cstat-no" title="statement not covered" >var pos=stream.pos;<span class="cstat-no" title="statement not covered" >i</span>f(stream.match(/^\s+$/,true))</span>
<span class="cstat-no" title="statement not covered" >return true?"trailing-whitespace":null;<span class="cstat-no" title="statement not covered" >d</span>o{<span class="cstat-no" title="statement not covered" >stream.next();}</span>while(!stream.eol()&amp;&amp;stream.peek()!==" ");<span class="cstat-no" title="statement not covered" >r</span>eturn null;}</span>
<span class="cstat-no" title="statement not covered" >var whitespaceMode={token:nextToken};<span class="cstat-no" title="statement not covered" >r</span>eturn CodeMirror.overlayMode(CodeMirror.getMode(config,mimeType),whitespaceMode,false);}</span>
<span class="cstat-no" title="statement not covered" >CodeMirror.defineMode(modeName,modeConstructor);<span class="cstat-no" title="statement not covered" >r</span>eturn modeName;}</span>,_enableLongLinesMode:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.setOption("styleSelectedText",false);}</span>,_disableLongLinesMode:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.setOption("styleSelectedText",true);}</span>,_updateCodeMirrorMode:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._setupWhitespaceHighlight();<span class="cstat-no" title="statement not covered" >v</span>ar whitespaceMode=WebInspector.moduleSetting("showWhitespacesInEditor").get();<span class="cstat-no" title="statement not covered" >t</span>his.element.classList.toggle("show-whitespaces",whitespaceMode==="all");<span class="cstat-no" title="statement not covered" >v</span>ar mimeType=this._mimeType;<span class="cstat-no" title="statement not covered" >i</span>f(whitespaceMode==="all")</span>
<span class="cstat-no" title="statement not covered" >mimeType=this._allWhitespaceOverlayMode(this._mimeType);e</span>lse <span class="cstat-no" title="statement not covered" >if(whitespaceMode==="trailing")</span>
<span class="cstat-no" title="statement not covered" >mimeType=this._trailingWhitespaceOverlayMode(this._mimeType);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("mode",mimeType);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor._loadMimeTypeModes(this._mimeType,this._mimeTypeModesLoaded.bind(this));}</span>,_mimeTypeModesLoaded:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._updateCodeMirrorMode();}</span>,setMimeType:<span class="fstat-no" title="function not covered" >function(mimeType)</span>
{<span class="cstat-no" title="statement not covered" >this._mimeType=mimeType;<span class="cstat-no" title="statement not covered" >i</span>f(this._hasLongLines())</span>
<span class="cstat-no" title="statement not covered" >this._enableLongLinesMode();e</span>lse
<span class="cstat-no" title="statement not covered" >this._disableLongLinesMode();<span class="cstat-no" title="statement not covered" >t</span>his._updateCodeMirrorMode();}</span>,setReadOnly:<span class="fstat-no" title="function not covered" >function(readOnly)</span>
{<span class="cstat-no" title="statement not covered" >this.element.classList.toggle("CodeMirror-readonly",readOnly);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("readOnly",readOnly);}</span>,readOnly:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return!!this._codeMirror.getOption("readOnly");}</span>,removeHighlight:<span class="fstat-no" title="function not covered" >function(highlightDescriptor)</span>
{<span class="cstat-no" title="statement not covered" >highlightDescriptor.clear();}</span>,highlightRange:<span class="fstat-no" title="function not covered" >function(range,cssClass)</span>
{<span class="cstat-no" title="statement not covered" >cssClass="CodeMirror-persist-highlight "+cssClass;<span class="cstat-no" title="statement not covered" >v</span>ar pos=WebInspector.CodeMirrorUtils.toPos(range);<span class="cstat-no" title="statement not covered" >+</span>+pos.end.ch;<span class="cstat-no" title="statement not covered" >r</span>eturn this._codeMirror.markText(pos.start,pos.end,{className:cssClass,startStyle:cssClass+"-start",endStyle:cssClass+"-end"});}</span>,defaultFocusedElement:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this.element;}</span>,focus:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.focus();}</span>,_handleElementFocus:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.focus();}</span>,operation:<span class="fstat-no" title="function not covered" >function(operation)</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.operation(operation);}</span>,_revealLine:<span class="fstat-no" title="function not covered" >function(lineNumber)</span>
{<span class="cstat-no" title="statement not covered" >this._innerRevealLine(lineNumber,this._codeMirror.getScrollInfo());}</span>,_innerRevealLine:<span class="fstat-no" title="function not covered" >function(lineNumber,scrollInfo)</span>
{<span class="cstat-no" title="statement not covered" >var topLine=this._codeMirror.lineAtHeight(scrollInfo.top,"local");<span class="cstat-no" title="statement not covered" >v</span>ar bottomLine=this._codeMirror.lineAtHeight(scrollInfo.top+scrollInfo.clientHeight,"local");<span class="cstat-no" title="statement not covered" >v</span>ar linesPerScreen=bottomLine-topLine+1;<span class="cstat-no" title="statement not covered" >i</span>f(lineNumber&lt;topLine){<span class="cstat-no" title="statement not covered" >var topLineToReveal=Math.max(lineNumber-(linesPerScreen/2)+1,0)|0;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.scrollIntoView(new CodeMirror.Pos(topLineToReveal,0));}</span>else <span class="cstat-no" title="statement not covered" >if(lineNumber&gt;bottomLine){<span class="cstat-no" title="statement not covered" >var bottomLineToReveal=Math.min(lineNumber+(linesPerScreen/2)-1,this.linesCount-1)|0;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.scrollIntoView(new CodeMirror.Pos(bottomLineToReveal,0));}</span>}</span></span>,_gutterClick:<span class="fstat-no" title="function not covered" >function(instance,lineNumber,gutter,event)</span>
{<span class="cstat-no" title="statement not covered" >this.dispatchEventToListeners(WebInspector.CodeMirrorTextEditor.Events.GutterClick,{lineNumber:lineNumber,event:event});}</span>,_contextMenu:<span class="fstat-no" title="function not covered" >function(event)</span>
{<span class="cstat-no" title="statement not covered" >var contextMenu=new WebInspector.ContextMenu(event);<span class="cstat-no" title="statement not covered" >e</span>vent.consume(true);<span class="cstat-no" title="statement not covered" >v</span>ar target=event.target.enclosingNodeOrSelfWithClass("CodeMirror-gutter-elt");<span class="cstat-no" title="statement not covered" >v</span>ar promise;<span class="cstat-no" title="statement not covered" >i</span>f(target)</span>
<span class="cstat-no" title="statement not covered" >promise=this._delegate.populateLineGutterContextMenu(contextMenu,parseInt(target.textContent,10)-1);e</span>lse{<span class="cstat-no" title="statement not covered" >var textSelection=this.selection();<span class="cstat-no" title="statement not covered" >p</span>romise=this._delegate.populateTextAreaContextMenu(contextMenu,textSelection.startLine,textSelection.startColumn);}</span>
<span class="cstat-no" title="statement not covered" >promise.then(showAsync.bind(this));<span class="fstat-no" title="function not covered" >f</span>unction showAsync()</span>
{<span class="cstat-no" title="statement not covered" >contextMenu.appendApplicableItems(this);<span class="cstat-no" title="statement not covered" >c</span>ontextMenu.show();}</span>},addBreakpoint:<span class="fstat-no" title="function not covered" >function(lineNumber,disabled,conditional)</span>
{<span class="cstat-no" title="statement not covered" >if(lineNumber&lt;0||lineNumber&gt;=this._codeMirror.lineCount())</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar className="cm-breakpoint"+(conditional?" cm-breakpoint-conditional":"")+(disabled?" cm-breakpoint-disabled":"");<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.addLineClass(lineNumber,"wrap",className);}</span>,removeBreakpoint:<span class="fstat-no" title="function not covered" >function(lineNumber)</span>
{<span class="cstat-no" title="statement not covered" >if(lineNumber&lt;0||lineNumber&gt;=this._codeMirror.lineCount())</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar wrapClasses=this._codeMirror.getLineHandle(lineNumber).wrapClass;<span class="cstat-no" title="statement not covered" >i</span>f(!wrapClasses)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar classes=wrapClasses.split(" ");<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;classes.length;++i){<span class="cstat-no" title="statement not covered" >if(classes[i].startsWith("cm-breakpoint"))</span></span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.removeLineClass(lineNumber,"wrap",classes[i]);}</span>},installGutter:<span class="fstat-no" title="function not covered" >function(type,leftToNumbers)</span>
{<span class="cstat-no" title="statement not covered" >if(this._gutters.indexOf(type)!==-1)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span>f(leftToNumbers)</span>
<span class="cstat-no" title="statement not covered" >this._gutters.unshift(type);e</span>lse
<span class="cstat-no" title="statement not covered" >this._gutters.push(type);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("gutters",this._gutters.slice());<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.refresh();}</span>,uninstallGutter:<span class="fstat-no" title="function not covered" >function(type)</span>
{<span class="cstat-no" title="statement not covered" >this._gutters=this._gutters.filter(gutter=&gt;<span class="cstat-no" title="statement not covered" >gutter!==type)</span>;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setOption("gutters",this._gutters.slice());<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.refresh();}</span>,setGutterDecoration:<span class="fstat-no" title="function not covered" >function(lineNumber,type,element)</span>
{<span class="cstat-no" title="statement not covered" >console.assert(this._gutters.indexOf(type)!==-1,"Cannot decorate unexisting gutter.")</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.setGutterMarker(lineNumber,type,element);}</span>,setExecutionLocation:<span class="fstat-no" title="function not covered" >function(lineNumber,columnNumber)</span>
{<span class="cstat-no" title="statement not covered" >this.clearPositionHighlight();<span class="cstat-no" title="statement not covered" >t</span>his._executionLine=this._codeMirror.getLineHandle(lineNumber);<span class="cstat-no" title="statement not covered" >i</span>f(!this._executionLine)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.addLineClass(this._executionLine,"wrap","cm-execution-line");<span class="cstat-no" title="statement not covered" >t</span>his._executionLineTailMarker=this._codeMirror.markText({line:lineNumber,ch:columnNumber},{line:lineNumber,ch:this._codeMirror.getLine(lineNumber).length},{className:"cm-execution-line-tail"});}</span>,clearExecutionLine:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this.clearPositionHighlight();<span class="cstat-no" title="statement not covered" >i</span>f(this._executionLine)</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.removeLineClass(this._executionLine,"wrap","cm-execution-line");<span class="cstat-no" title="statement not covered" >d</span>elete this._executionLine;<span class="cstat-no" title="statement not covered" >i</span>f(this._executionLineTailMarker)</span>
<span class="cstat-no" title="statement not covered" >this._executionLineTailMarker.clear();<span class="cstat-no" title="statement not covered" >d</span>elete this._executionLineTailMarker;}</span>,toggleLineClass:<span class="fstat-no" title="function not covered" >function(lineNumber,className,toggled)</span>
{<span class="cstat-no" title="statement not covered" >if(this.hasLineClass(lineNumber,className)===toggled)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar lineHandle=this._codeMirror.getLineHandle(lineNumber);<span class="cstat-no" title="statement not covered" >i</span>f(!lineHandle)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span>f(toggled)</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.addLineClass(lineHandle,"wrap",className);e</span>lse
<span class="cstat-no" title="statement not covered" >this._codeMirror.removeLineClass(lineHandle,"wrap",className);}</span>,hasLineClass:<span class="fstat-no" title="function not covered" >function(lineNumber,className)</span>
{<span class="cstat-no" title="statement not covered" >var lineInfo=this._codeMirror.lineInfo(lineNumber);<span class="cstat-no" title="statement not covered" >v</span>ar wrapClass=lineInfo.wrapClass||"";<span class="cstat-no" title="statement not covered" >v</span>ar classNames=wrapClass.split(" ");<span class="cstat-no" title="statement not covered" >r</span>eturn classNames.indexOf(className)!==-1;}</span>,addDecoration:<span class="fstat-no" title="function not covered" >function(lineNumber,element)</span>
{<span class="cstat-no" title="statement not covered" >var widget=this._codeMirror.addLineWidget(lineNumber,element);<span class="cstat-no" title="statement not covered" >t</span>his._elementToWidget.set(element,widget);}</span>,removeDecoration:<span class="fstat-no" title="function not covered" >function(lineNumber,element)</span>
{<span class="cstat-no" title="statement not covered" >var widget=this._elementToWidget.remove(element);<span class="cstat-no" title="statement not covered" >i</span>f(widget)</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.removeLineWidget(widget);}</span>,revealPosition:<span class="fstat-no" title="function not covered" >function(lineNumber,columnNumber,shouldHighlight)</span>
{<span class="cstat-no" title="statement not covered" >lineNumber=Number.constrain(lineNumber,0,this._codeMirror.lineCount()-1);<span class="cstat-no" title="statement not covered" >i</span>f(typeof columnNumber!=="number")</span>
<span class="cstat-no" title="statement not covered" >columnNumber=0;<span class="cstat-no" title="statement not covered" >c</span>olumnNumber=Number.constrain(columnNumber,0,this._codeMirror.getLine(lineNumber).length);<span class="cstat-no" title="statement not covered" >t</span>his.clearPositionHighlight();<span class="cstat-no" title="statement not covered" >t</span>his._highlightedLine=this._codeMirror.getLineHandle(lineNumber);<span class="cstat-no" title="statement not covered" >i</span>f(!this._highlightedLine)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._revealLine(lineNumber);<span class="cstat-no" title="statement not covered" >i</span>f(shouldHighlight){<span class="cstat-no" title="statement not covered" >this._codeMirror.addLineClass(this._highlightedLine,null,"cm-highlight");<span class="cstat-no" title="statement not covered" >t</span>his._clearHighlightTimeout=setTimeout(this.clearPositionHighlight.bind(this),2000);}</span></span>
<span class="cstat-no" title="statement not covered" >this.setSelection(WebInspector.TextRange.createFromLocation(lineNumber,columnNumber));}</span>,clearPositionHighlight:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(this._clearHighlightTimeout)</span>
<span class="cstat-no" title="statement not covered" >clearTimeout(this._clearHighlightTimeout);<span class="cstat-no" title="statement not covered" >d</span>elete this._clearHighlightTimeout;<span class="cstat-no" title="statement not covered" >i</span>f(this._highlightedLine)</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.removeLineClass(this._highlightedLine,null,"cm-highlight");<span class="cstat-no" title="statement not covered" >d</span>elete this._highlightedLine;}</span>,elementsToRestoreScrollPositionsFor:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return[];}</span>,_updatePaddingBottom:<span class="fstat-no" title="function not covered" >function(width,height)</span>
{<span class="cstat-no" title="statement not covered" >var scrollInfo=this._codeMirror.getScrollInfo();<span class="cstat-no" title="statement not covered" >v</span>ar newPaddingBottom;<span class="cstat-no" title="statement not covered" >v</span>ar linesElement=this._codeMirrorElement.querySelector(".CodeMirror-lines");<span class="cstat-no" title="statement not covered" >v</span>ar lineCount=this._codeMirror.lineCount();<span class="cstat-no" title="statement not covered" >i</span>f(lineCount&lt;=1)</span>
<span class="cstat-no" title="statement not covered" >newPaddingBottom=0;e</span>lse
<span class="cstat-no" title="statement not covered" >newPaddingBottom=Math.max(scrollInfo.clientHeight-this._codeMirror.getLineHandle(this._codeMirror.lastLine()).height,0);<span class="cstat-no" title="statement not covered" >n</span>ewPaddingBottom+="px";<span class="cstat-no" title="statement not covered" >l</span>inesElement.style.paddingBottom=newPaddingBottom;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setSize(width,height);}</span>,_resizeEditor:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var parentElement=this.element.parentElement;<span class="cstat-no" title="statement not covered" >i</span>f(!parentElement||!this.isShowing())</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar scrollLeft=this._codeMirror.doc.scrollLeft;<span class="cstat-no" title="statement not covered" >v</span>ar scrollTop=this._codeMirror.doc.scrollTop;<span class="cstat-no" title="statement not covered" >v</span>ar width=parentElement.offsetWidth;<span class="cstat-no" title="statement not covered" >v</span>ar height=parentElement.offsetHeight-this.element.offsetTop;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setSize(width,height);<span class="cstat-no" title="statement not covered" >t</span>his._updatePaddingBottom(width,height);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.scrollTo(scrollLeft,scrollTop);}</span>,onResize:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._autocompleteController.finishAutocomplete();<span class="cstat-no" title="statement not covered" >t</span>his._resizeEditor();<span class="cstat-no" title="statement not covered" >t</span>his._editorSizeInSync=true;<span class="cstat-no" title="statement not covered" >i</span>f(this._selectionSetScheduled){<span class="cstat-no" title="statement not covered" >delete this._selectionSetScheduled;<span class="cstat-no" title="statement not covered" >t</span>his.setSelection(this._lastSelection);}</span>}</span>,editRange:<span class="fstat-no" title="function not covered" >function(range,text)</span>
{<span class="cstat-no" title="statement not covered" >var pos=WebInspector.CodeMirrorUtils.toPos(range);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.replaceRange(text,pos.start,pos.end);<span class="cstat-no" title="statement not covered" >v</span>ar newRange=WebInspector.CodeMirrorUtils.toRange(pos.start,this._codeMirror.posFromIndex(this._codeMirror.indexFromPos(pos.start)+text.length));<span class="cstat-no" title="statement not covered" >t</span>his._delegate.onTextChanged(range,newRange);<span class="cstat-no" title="statement not covered" >i</span>f(WebInspector.moduleSetting("textEditorAutoDetectIndent").get())</span>
<span class="cstat-no" title="statement not covered" >this._onUpdateEditorIndentation();<span class="cstat-no" title="statement not covered" >r</span>eturn newRange;}</span>,wordRangeForCursorPosition:<span class="fstat-no" title="function not covered" >function(lineNumber,column,isWordChar)</span>
{<span class="cstat-no" title="statement not covered" >var line=this.line(lineNumber);<span class="cstat-no" title="statement not covered" >v</span>ar wordStart=column;<span class="cstat-no" title="statement not covered" >i</span>f(column!==0&amp;&amp;isWordChar(line.charAt(column-1))){<span class="cstat-no" title="statement not covered" >wordStart=column-1;<span class="cstat-no" title="statement not covered" >w</span>hile(wordStart&gt;0&amp;&amp;isWordChar(line.charAt(wordStart-1)))</span></span>
<span class="cstat-no" title="statement not covered" >--wordStart;}</span>
<span class="cstat-no" title="statement not covered" >var wordEnd=column;<span class="cstat-no" title="statement not covered" >w</span>hile(wordEnd&lt;line.length&amp;&amp;isWordChar(line.charAt(wordEnd)))</span>
<span class="cstat-no" title="statement not covered" >++wordEnd;<span class="cstat-no" title="statement not covered" >r</span>eturn new WebInspector.TextRange(lineNumber,wordStart,lineNumber,wordEnd);}</span>,_changes:<span class="fstat-no" title="function not covered" >function(codeMirror,changes)</span>
{<span class="cstat-no" title="statement not covered" >if(!changes.length)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar hasOneLine=this._codeMirror.lineCount()===1;<span class="cstat-no" title="statement not covered" >i</span>f(hasOneLine!==this._hasOneLine)</span>
<span class="cstat-no" title="statement not covered" >this._resizeEditor();<span class="cstat-no" title="statement not covered" >t</span>his._hasOneLine=hasOneLine;<span class="cstat-no" title="statement not covered" >v</span>ar widgets=this._elementToWidget.valuesArray();<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;widgets.length;++i)</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.removeLineWidget(widgets[i]);<span class="cstat-no" title="statement not covered" >t</span>his._elementToWidget.clear();<span class="cstat-no" title="statement not covered" >f</span>or(var changeIndex=0;changeIndex&lt;changes.length;++changeIndex){<span class="cstat-no" title="statement not covered" >var changeObject=changes[changeIndex];<span class="cstat-no" title="statement not covered" >v</span>ar editInfo=WebInspector.CodeMirrorUtils.changeObjectToEditOperation(changeObject);<span class="cstat-no" title="statement not covered" >i</span>f(!this._muteTextChangedEvent)</span></span>
<span class="cstat-no" title="statement not covered" >this._delegate.onTextChanged(editInfo.oldRange,editInfo.newRange);}</span>},_cursorActivity:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var start=this._codeMirror.getCursor("anchor");<span class="cstat-no" title="statement not covered" >v</span>ar end=this._codeMirror.getCursor("head");<span class="cstat-no" title="statement not covered" >t</span>his._delegate.selectionChanged(WebInspector.CodeMirrorUtils.toRange(start,end));<span class="cstat-no" title="statement not covered" >i</span>f(!this._isSearchActive())</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.operation(this._tokenHighlighter.highlightSelectedTokens.bind(this._tokenHighlighter));}</span>,_beforeSelectionChange:<span class="fstat-no" title="function not covered" >function(codeMirror,selection)</span>
{<span class="cstat-no" title="statement not covered" >this._selectNextOccurrenceController.selectionWillChange();<span class="cstat-no" title="statement not covered" >i</span>f(!this._isHandlingMouseDownEvent)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span>f(!selection.ranges.length)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar primarySelection=selection.ranges[0];<span class="cstat-no" title="statement not covered" >t</span>his._reportJump(this.selection(),WebInspector.CodeMirrorUtils.toRange(primarySelection.anchor,primarySelection.head));}</span>,_reportJump:<span class="fstat-no" title="function not covered" >function(from,to)</span>
{<span class="cstat-no" title="statement not covered" >if(from&amp;&amp;to&amp;&amp;from.equal(to))</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._delegate.onJumpToPosition(from,to);}</span>,_scroll:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(this._scrollTimer)</span>
<span class="cstat-no" title="statement not covered" >clearTimeout(this._scrollTimer);<span class="cstat-no" title="statement not covered" >v</span>ar topmostLineNumber=this._codeMirror.lineAtHeight(this._codeMirror.getScrollInfo().top,"local");<span class="cstat-no" title="statement not covered" >t</span>his._scrollTimer=setTimeout(this._delegate.scrollChanged.bind(this._delegate,topmostLineNumber),100);}</span>,_focus:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._delegate.editorFocused();}</span>,scrollToLine:<span class="fstat-no" title="function not covered" >function(lineNumber)</span>
{<span class="cstat-no" title="statement not covered" >var pos=new CodeMirror.Pos(lineNumber,0);<span class="cstat-no" title="statement not covered" >v</span>ar coords=this._codeMirror.charCoords(pos,"local");<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.scrollTo(0,coords.top);}</span>,firstVisibleLine:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this._codeMirror.lineAtHeight(this._codeMirror.getScrollInfo().top,"local");}</span>,scrollTop:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this._codeMirror.getScrollInfo().top;}</span>,setScrollTop:<span class="fstat-no" title="function not covered" >function(scrollTop)</span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror.scrollTo(0,scrollTop);}</span>,lastVisibleLine:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var scrollInfo=this._codeMirror.getScrollInfo();<span class="cstat-no" title="statement not covered" >r</span>eturn this._codeMirror.lineAtHeight(scrollInfo.top+scrollInfo.clientHeight,"local");}</span>,selection:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var start=this._codeMirror.getCursor("anchor");<span class="cstat-no" title="statement not covered" >v</span>ar end=this._codeMirror.getCursor("head");<span class="cstat-no" title="statement not covered" >r</span>eturn WebInspector.CodeMirrorUtils.toRange(start,end);}</span>,selections:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var selectionList=this._codeMirror.listSelections();<span class="cstat-no" title="statement not covered" >v</span>ar result=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selectionList.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selectionList[i];<span class="cstat-no" title="statement not covered" >r</span>esult.push(WebInspector.CodeMirrorUtils.toRange(selection.anchor,selection.head));}</span></span>
<span class="cstat-no" title="statement not covered" >return result;}</span>,lastSelection:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this._lastSelection;}</span>,setSelection:<span class="fstat-no" title="function not covered" >function(textRange)</span>
{<span class="cstat-no" title="statement not covered" >this._lastSelection=textRange;<span class="cstat-no" title="statement not covered" >i</span>f(!this._editorSizeInSync){<span class="cstat-no" title="statement not covered" >this._selectionSetScheduled=true;<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >var pos=WebInspector.CodeMirrorUtils.toPos(textRange);<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setSelection(pos.start,pos.end);}</span>,setSelections:<span class="fstat-no" title="function not covered" >function(ranges,primarySelectionIndex)</span>
{<span class="cstat-no" title="statement not covered" >var selections=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;ranges.length;++i){<span class="cstat-no" title="statement not covered" >var selection=WebInspector.CodeMirrorUtils.toPos(ranges[i]);<span class="cstat-no" title="statement not covered" >s</span>elections.push({anchor:selection.start,head:selection.end});}</span></span>
<span class="cstat-no" title="statement not covered" >primarySelectionIndex=primarySelectionIndex||0;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setSelections(selections,primarySelectionIndex,{scroll:false});}</span>,_detectLineSeparator:<span class="fstat-no" title="function not covered" >function(text)</span>
{<span class="cstat-no" title="statement not covered" >this._lineSeparator=text.indexOf("\r\n")&gt;=0?"\r\n":"\n";}</span>,setText:<span class="fstat-no" title="function not covered" >function(text)</span>
{<span class="cstat-no" title="statement not covered" >this._muteTextChangedEvent=true;<span class="cstat-no" title="statement not covered" >i</span>f(text.length&gt;WebInspector.CodeMirrorTextEditor.MaxEditableTextSize){<span class="cstat-no" title="statement not covered" >this._autocompleteController.setEnabled(false);<span class="cstat-no" title="statement not covered" >t</span>his.setReadOnly(true);}</span></span>
<span class="cstat-no" title="statement not covered" >this._setEditorIndentation(text.split("\n").slice(0,WebInspector.CodeMirrorTextEditor.LinesToScanForIndentationGuessing));<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.setValue(text);<span class="cstat-no" title="statement not covered" >i</span>f(this._shouldClearHistory){<span class="cstat-no" title="statement not covered" >this._codeMirror.clearHistory();<span class="cstat-no" title="statement not covered" >t</span>his._shouldClearHistory=false;}</span></span>
<span class="cstat-no" title="statement not covered" >this._detectLineSeparator(text);<span class="cstat-no" title="statement not covered" >d</span>elete this._muteTextChangedEvent;}</span>,text:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this._codeMirror.getValue().replace(/\n/g,this._lineSeparator);}</span>,range:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var lineCount=this.linesCount;<span class="cstat-no" title="statement not covered" >v</span>ar lastLine=this._codeMirror.getLine(lineCount-1);<span class="cstat-no" title="statement not covered" >r</span>eturn WebInspector.CodeMirrorUtils.toRange(new CodeMirror.Pos(0,0),new CodeMirror.Pos(lineCount-1,lastLine.length));}</span>,line:<span class="fstat-no" title="function not covered" >function(lineNumber)</span>
{<span class="cstat-no" title="statement not covered" >return this._codeMirror.getLine(lineNumber);}</span>,get linesCount<span class="fstat-no" title="function not covered" >()</span>
{<span class="cstat-no" title="statement not covered" >return this._codeMirror.lineCount();}</span>,setAttribute:<span class="fstat-no" title="function not covered" >function(line,name,value)</span>
{<span class="cstat-no" title="statement not covered" >if(line&lt;0||line&gt;=this._codeMirror.lineCount())</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar handle=this._codeMirror.getLineHandle(line);<span class="cstat-no" title="statement not covered" >i</span>f(handle.attributes===undefined)<span class="cstat-no" title="statement not covered" >handle.attributes={};<span class="cstat-no" title="statement not covered" >h</span></span>andle.attributes[name]=value;}</span>,getAttribute:<span class="fstat-no" title="function not covered" >function(line,name)</span>
{<span class="cstat-no" title="statement not covered" >if(line&lt;0||line&gt;=this._codeMirror.lineCount())</span>
<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >v</span>ar handle=this._codeMirror.getLineHandle(line);<span class="cstat-no" title="statement not covered" >r</span>eturn handle.attributes&amp;&amp;handle.attributes[name]!==undefined?handle.attributes[name]:null;}</span>,removeAttribute:<span class="fstat-no" title="function not covered" >function(line,name)</span>
{<span class="cstat-no" title="statement not covered" >if(line&lt;0||line&gt;=this._codeMirror.lineCount())</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar handle=this._codeMirror.getLineHandle(line);<span class="cstat-no" title="statement not covered" >i</span>f(handle&amp;&amp;handle.attributes)</span>
<span class="cstat-no" title="statement not covered" >delete handle.attributes[name];}</span>,textEditorPositionHandle:<span class="fstat-no" title="function not covered" >function(lineNumber,columnNumber)</span>
{<span class="cstat-no" title="statement not covered" >return new WebInspector.CodeMirrorPositionHandle(this._codeMirror,new CodeMirror.Pos(lineNumber,columnNumber));}</span>,__proto__:WebInspector.VBox.prototype}
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorPositionHandle=<span class="fstat-no" title="function not covered" >function(codeMirror,pos)</span></span>
{<span class="cstat-no" title="statement not covered" >this._codeMirror=codeMirror;<span class="cstat-no" title="statement not covered" >t</span>his._lineHandle=codeMirror.getLineHandle(pos.line);<span class="cstat-no" title="statement not covered" >t</span>his._columnNumber=pos.ch;}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorPositionHandle.prototype={resolve:<span class="fstat-no" title="function not covered" >function()</span></span>
{<span class="cstat-no" title="statement not covered" >var lineNumber=this._codeMirror.getLineNumber(this._lineHandle);<span class="cstat-no" title="statement not covered" >i</span>f(typeof lineNumber!=="number")</span>
<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >r</span>eturn{lineNumber:lineNumber,columnNumber:this._columnNumber};}</span>,equal:<span class="fstat-no" title="function not covered" >function(positionHandle)</span>
{<span class="cstat-no" title="statement not covered" >return positionHandle._lineHandle===this._lineHandle&amp;&amp;positionHandle._columnNumber==this._columnNumber&amp;&amp;positionHandle._codeMirror===this._codeMirror;}</span>}
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor.TokenHighlighter=<span class="fstat-no" title="function not covered" >function(textEditor,codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >this._textEditor=textEditor;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror=codeMirror;}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor.TokenHighlighter.prototype={highlightSearchResults:<span class="fstat-no" title="function not covered" >function(regex,range)</span></span>
{<span class="cstat-no" title="statement not covered" >var oldRegex=this._highlightRegex;<span class="cstat-no" title="statement not covered" >t</span>his._highlightRegex=regex;<span class="cstat-no" title="statement not covered" >t</span>his._highlightRange=range;<span class="cstat-no" title="statement not covered" >i</span>f(this._searchResultMarker){<span class="cstat-no" title="statement not covered" >this._searchResultMarker.clear();<span class="cstat-no" title="statement not covered" >d</span>elete this._searchResultMarker;}</span></span>
<span class="cstat-no" title="statement not covered" >if(this._highlightDescriptor&amp;&amp;this._highlightDescriptor.selectionStart)</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.removeLineClass(this._highlightDescriptor.selectionStart.line,"wrap","cm-line-with-selection");<span class="cstat-no" title="statement not covered" >v</span>ar selectionStart=this._highlightRange?new CodeMirror.Pos(this._highlightRange.startLine,this._highlightRange.startColumn):null;<span class="cstat-no" title="statement not covered" >i</span>f(selectionStart)</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.addLineClass(selectionStart.line,"wrap","cm-line-with-selection");<span class="cstat-no" title="statement not covered" >i</span>f(this._highlightRegex===oldRegex){<span class="cstat-no" title="statement not covered" >if(this._highlightDescriptor)</span></span>
<span class="cstat-no" title="statement not covered" >this._highlightDescriptor.selectionStart=selectionStart;}</span>else{<span class="cstat-no" title="statement not covered" >this._removeHighlight();<span class="cstat-no" title="statement not covered" >t</span>his._setHighlighter(this._searchHighlighter.bind(this,this._highlightRegex),selectionStart);}</span>
<span class="cstat-no" title="statement not covered" >if(this._highlightRange){<span class="cstat-no" title="statement not covered" >var pos=WebInspector.CodeMirrorUtils.toPos(this._highlightRange);<span class="cstat-no" title="statement not covered" >t</span>his._searchResultMarker=this._codeMirror.markText(pos.start,pos.end,{className:"cm-column-with-selection"});}</span>}</span>,highlightedRegex:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this._highlightRegex;}</span>,highlightSelectedTokens:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >delete this._highlightRegex;<span class="cstat-no" title="statement not covered" >d</span>elete this._highlightRange;<span class="cstat-no" title="statement not covered" >i</span>f(this._highlightDescriptor&amp;&amp;this._highlightDescriptor.selectionStart)</span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.removeLineClass(this._highlightDescriptor.selectionStart.line,"wrap","cm-line-with-selection");<span class="cstat-no" title="statement not covered" >t</span>his._removeHighlight();<span class="cstat-no" title="statement not covered" >v</span>ar selectionStart=this._codeMirror.getCursor("start");<span class="cstat-no" title="statement not covered" >v</span>ar selectionEnd=this._codeMirror.getCursor("end");<span class="cstat-no" title="statement not covered" >i</span>f(selectionStart.line!==selectionEnd.line)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span>f(selectionStart.ch===selectionEnd.ch)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar selections=this._codeMirror.getSelections();<span class="cstat-no" title="statement not covered" >i</span>f(selections.length&gt;1)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar selectedText=selections[0];<span class="cstat-no" title="statement not covered" >i</span>f(this._isWord(selectedText,selectionStart.line,selectionStart.ch,selectionEnd.ch)){<span class="cstat-no" title="statement not covered" >if(selectionStart)</span></span>
<span class="cstat-no" title="statement not covered" >this._codeMirror.addLineClass(selectionStart.line,"wrap","cm-line-with-selection");<span class="cstat-no" title="statement not covered" >t</span>his._setHighlighter(this._tokenHighlighter.bind(this,selectedText,selectionStart),selectionStart);}</span>},_isWord:<span class="fstat-no" title="function not covered" >function(selectedText,lineNumber,startColumn,endColumn)</span>
{<span class="cstat-no" title="statement not covered" >var line=this._codeMirror.getLine(lineNumber);<span class="cstat-no" title="statement not covered" >v</span>ar leftBound=startColumn===0||!WebInspector.TextUtils.isWordChar(line.charAt(startColumn-1));<span class="cstat-no" title="statement not covered" >v</span>ar rightBound=endColumn===line.length||!WebInspector.TextUtils.isWordChar(line.charAt(endColumn));<span class="cstat-no" title="statement not covered" >r</span>eturn leftBound&amp;&amp;rightBound&amp;&amp;WebInspector.TextUtils.isWord(selectedText);}</span>,_removeHighlight:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(this._highlightDescriptor){<span class="cstat-no" title="statement not covered" >this._codeMirror.removeOverlay(this._highlightDescriptor.overlay);<span class="cstat-no" title="statement not covered" >d</span>elete this._highlightDescriptor;}</span>}</span>,_searchHighlighter:<span class="fstat-no" title="function not covered" >function(regex,stream)</span>
{<span class="cstat-no" title="statement not covered" >if(stream.column()===0)</span>
<span class="cstat-no" title="statement not covered" >delete this._searchMatchLength;<span class="cstat-no" title="statement not covered" >i</span>f(this._searchMatchLength){<span class="cstat-no" title="statement not covered" >if(this._searchMatchLength&gt;2){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;this._searchMatchLength-2;++i)</span></span></span>
<span class="cstat-no" title="statement not covered" >stream.next();<span class="cstat-no" title="statement not covered" >t</span>his._searchMatchLength=1;<span class="cstat-no" title="statement not covered" >r</span>eturn"search-highlight";}</span>else{<span class="cstat-no" title="statement not covered" >stream.next();<span class="cstat-no" title="statement not covered" >d</span>elete this._searchMatchLength;<span class="cstat-no" title="statement not covered" >r</span>eturn"search-highlight search-highlight-end";}</span>}
<span class="cstat-no" title="statement not covered" >var match=stream.match(regex,false);<span class="cstat-no" title="statement not covered" >i</span>f(match){<span class="cstat-no" title="statement not covered" >stream.next();<span class="cstat-no" title="statement not covered" >v</span>ar matchLength=match[0].length;<span class="cstat-no" title="statement not covered" >i</span>f(matchLength===1)</span></span>
<span class="cstat-no" title="statement not covered" >return"search-highlight search-highlight-full";<span class="cstat-no" title="statement not covered" >t</span>his._searchMatchLength=matchLength;<span class="cstat-no" title="statement not covered" >r</span>eturn"search-highlight search-highlight-start";}</span>
<span class="cstat-no" title="statement not covered" >while(!stream.match(regex,false)&amp;&amp;stream.next()){}}</span>,_tokenHighlighter:<span class="fstat-no" title="function not covered" >function(token,selectionStart,stream)</span>
{<span class="cstat-no" title="statement not covered" >var tokenFirstChar=token.charAt(0);<span class="cstat-no" title="statement not covered" >i</span>f(stream.match(token)&amp;&amp;(stream.eol()||!WebInspector.TextUtils.isWordChar(stream.peek())))</span>
<span class="cstat-no" title="statement not covered" >return stream.column()===selectionStart.ch?"token-highlight column-with-selection":"token-highlight";<span class="cstat-no" title="statement not covered" >v</span>ar eatenChar;<span class="cstat-no" title="statement not covered" >d</span>o{<span class="cstat-no" title="statement not covered" >eatenChar=stream.next();}</span>while(eatenChar&amp;&amp;(WebInspector.TextUtils.isWordChar(eatenChar)||stream.peek()!==tokenFirstChar));}</span>,_setHighlighter:<span class="fstat-no" title="function not covered" >function(highlighter,selectionStart)</span>
{<span class="cstat-no" title="statement not covered" >var overlayMode={token:highlighter};<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.addOverlay(overlayMode);<span class="cstat-no" title="statement not covered" >t</span>his._highlightDescriptor={overlay:overlayMode,selectionStart:selectionStart};}</span>}
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor.BlockIndentController=<span class="fstat-no" title="function not covered" >function(codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >codeMirror.addKeyMap(this);}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor.BlockIndentController.prototype={name:"blockIndentKeymap",Enter:<span class="fstat-no" title="function not covered" >function(codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >var selections=codeMirror.listSelections();<span class="cstat-no" title="statement not covered" >v</span>ar replacements=[];<span class="cstat-no" title="statement not covered" >v</span>ar allSelectionsAreCollapsedBlocks=false;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selections[i];<span class="cstat-no" title="statement not covered" >v</span>ar start=CodeMirror.cmpPos(selection.head,selection.anchor)&lt;0?selection.head:selection.anchor;<span class="cstat-no" title="statement not covered" >v</span>ar line=codeMirror.getLine(start.line);<span class="cstat-no" title="statement not covered" >v</span>ar indent=WebInspector.TextUtils.lineIndent(line);<span class="cstat-no" title="statement not covered" >v</span>ar indentToInsert="\n"+indent+codeMirror._codeMirrorTextEditor.indent();<span class="cstat-no" title="statement not covered" >v</span>ar isCollapsedBlock=false;<span class="cstat-no" title="statement not covered" >i</span>f(selection.head.ch===0)</span></span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >i</span>f(line.substr(selection.head.ch-1,2)==="{}"){<span class="cstat-no" title="statement not covered" >indentToInsert+="\n"+indent;<span class="cstat-no" title="statement not covered" >i</span>sCollapsedBlock=true;}</span>else <span class="cstat-no" title="statement not covered" >if(line.substr(selection.head.ch-1,1)!=="{"){<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;}</span></span></span>
<span class="cstat-no" title="statement not covered" >if(i&gt;0&amp;&amp;allSelectionsAreCollapsedBlocks!==isCollapsedBlock)</span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >r</span>eplacements.push(indentToInsert);<span class="cstat-no" title="statement not covered" >a</span>llSelectionsAreCollapsedBlocks=isCollapsedBlock;}</span>
<span class="cstat-no" title="statement not covered" >codeMirror.replaceSelections(replacements);<span class="cstat-no" title="statement not covered" >i</span>f(!allSelectionsAreCollapsedBlocks){<span class="cstat-no" title="statement not covered" >codeMirror._codeMirrorTextEditor._onAutoAppendedSpaces();<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >selections=codeMirror.listSelections();<span class="cstat-no" title="statement not covered" >v</span>ar updatedSelections=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selections[i];<span class="cstat-no" title="statement not covered" >v</span>ar line=codeMirror.getLine(selection.head.line-1);<span class="cstat-no" title="statement not covered" >v</span>ar position=new CodeMirror.Pos(selection.head.line-1,line.length);<span class="cstat-no" title="statement not covered" >u</span>pdatedSelections.push({head:position,anchor:position});}</span></span>
<span class="cstat-no" title="statement not covered" >codeMirror.setSelections(updatedSelections);<span class="cstat-no" title="statement not covered" >c</span>odeMirror._codeMirrorTextEditor._onAutoAppendedSpaces();}</span>,"'}'":<span class="fstat-no" title="function not covered" >function(codeMirror)</span>
{<span class="cstat-no" title="statement not covered" >if(codeMirror.somethingSelected())</span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >v</span>ar selections=codeMirror.listSelections();<span class="cstat-no" title="statement not covered" >v</span>ar replacements=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selections[i];<span class="cstat-no" title="statement not covered" >v</span>ar line=codeMirror.getLine(selection.head.line);<span class="cstat-no" title="statement not covered" >i</span>f(line!==WebInspector.TextUtils.lineIndent(line))</span></span>
<span class="cstat-no" title="statement not covered" >return CodeMirror.Pass;<span class="cstat-no" title="statement not covered" >r</span>eplacements.push("}");}</span>
<span class="cstat-no" title="statement not covered" >codeMirror.replaceSelections(replacements);<span class="cstat-no" title="statement not covered" >s</span>elections=codeMirror.listSelections();<span class="cstat-no" title="statement not covered" >r</span>eplacements=[];<span class="cstat-no" title="statement not covered" >v</span>ar updatedSelections=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selections[i];<span class="cstat-no" title="statement not covered" >v</span>ar matchingBracket=codeMirror.findMatchingBracket(selection.head);<span class="cstat-no" title="statement not covered" >i</span>f(!matchingBracket||!matchingBracket.match)</span></span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >u</span>pdatedSelections.push({head:selection.head,anchor:new CodeMirror.Pos(selection.head.line,0)});<span class="cstat-no" title="statement not covered" >v</span>ar line=codeMirror.getLine(matchingBracket.to.line);<span class="cstat-no" title="statement not covered" >v</span>ar indent=WebInspector.TextUtils.lineIndent(line);<span class="cstat-no" title="statement not covered" >r</span>eplacements.push(indent+"}");}</span>
<span class="cstat-no" title="statement not covered" >codeMirror.setSelections(updatedSelections);<span class="cstat-no" title="statement not covered" >c</span>odeMirror.replaceSelections(replacements);}</span>}
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor.FixWordMovement=<span class="fstat-no" title="function not covered" >function(codeMirror)</span></span>
{<span class="fstat-no" title="function not covered" >function moveLeft(shift,codeMirror)</span>
{<span class="cstat-no" title="statement not covered" >codeMirror.setExtending(shift);<span class="cstat-no" title="statement not covered" >v</span>ar cursor=codeMirror.getCursor("head");<span class="cstat-no" title="statement not covered" >c</span>odeMirror.execCommand("goGroupLeft");<span class="cstat-no" title="statement not covered" >v</span>ar newCursor=codeMirror.getCursor("head");<span class="cstat-no" title="statement not covered" >i</span>f(newCursor.ch===0&amp;&amp;newCursor.line!==0){<span class="cstat-no" title="statement not covered" >codeMirror.setExtending(false);<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >var skippedText=codeMirror.getRange(newCursor,cursor,"#");<span class="cstat-no" title="statement not covered" >i</span>f(/^\s+$/.test(skippedText))</span>
<span class="cstat-no" title="statement not covered" >codeMirror.execCommand("goGroupLeft");<span class="cstat-no" title="statement not covered" >c</span>odeMirror.setExtending(false);}</span>
<span class="fstat-no" title="function not covered" >function moveRight(shift,codeMirror)</span>
{<span class="cstat-no" title="statement not covered" >codeMirror.setExtending(shift);<span class="cstat-no" title="statement not covered" >v</span>ar cursor=codeMirror.getCursor("head");<span class="cstat-no" title="statement not covered" >c</span>odeMirror.execCommand("goGroupRight");<span class="cstat-no" title="statement not covered" >v</span>ar newCursor=codeMirror.getCursor("head");<span class="cstat-no" title="statement not covered" >i</span>f(newCursor.ch===0&amp;&amp;newCursor.line!==0){<span class="cstat-no" title="statement not covered" >codeMirror.setExtending(false);<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >var skippedText=codeMirror.getRange(cursor,newCursor,"#");<span class="cstat-no" title="statement not covered" >i</span>f(/^\s+$/.test(skippedText))</span>
<span class="cstat-no" title="statement not covered" >codeMirror.execCommand("goGroupRight");<span class="cstat-no" title="statement not covered" >c</span>odeMirror.setExtending(false);}</span>
<span class="cstat-no" title="statement not covered" >var modifierKey=WebInspector.isMac()?"Alt":"Ctrl";<span class="cstat-no" title="statement not covered" >v</span>ar leftKey=modifierKey+"-Left";<span class="cstat-no" title="statement not covered" >v</span>ar rightKey=modifierKey+"-Right";<span class="cstat-no" title="statement not covered" >v</span>ar keyMap={};<span class="cstat-no" title="statement not covered" >k</span>eyMap[leftKey]=moveLeft.bind(null,false);<span class="cstat-no" title="statement not covered" >k</span>eyMap[rightKey]=moveRight.bind(null,false);<span class="cstat-no" title="statement not covered" >k</span>eyMap["Shift-"+leftKey]=moveLeft.bind(null,true);<span class="cstat-no" title="statement not covered" >k</span>eyMap["Shift-"+rightKey]=moveRight.bind(null,true);<span class="cstat-no" title="statement not covered" >c</span>odeMirror.addKeyMap(keyMap);}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor.SelectNextOccurrenceController=<span class="fstat-no" title="function not covered" >function(textEditor,codeMirror)</span></span>
{<span class="cstat-no" title="statement not covered" >this._textEditor=textEditor;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror=codeMirror;}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor.SelectNextOccurrenceController.prototype={selectionWillChange:<span class="fstat-no" title="function not covered" >function()</span></span>
{<span class="cstat-no" title="statement not covered" >if(!this._muteSelectionListener)</span>
<span class="cstat-no" title="statement not covered" >delete this._fullWordSelection;}</span>,_findRange:<span class="fstat-no" title="function not covered" >function(selections,range)</span>
{<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >if(range.equal(selections[i]))</span></span>
<span class="cstat-no" title="statement not covered" >return true;}</span>
<span class="cstat-no" title="statement not covered" >return false;}</span>,undoLastSelection:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._muteSelectionListener=true;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.execCommand("undoSelection");<span class="cstat-no" title="statement not covered" >t</span>his._muteSelectionListener=false;}</span>,selectNextOccurrence:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var selections=this._textEditor.selections();<span class="cstat-no" title="statement not covered" >v</span>ar anyEmptySelection=false;<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selections[i];<span class="cstat-no" title="statement not covered" >a</span>nyEmptySelection=anyEmptySelection||selection.isEmpty();<span class="cstat-no" title="statement not covered" >i</span>f(selection.startLine!==selection.endLine)</span></span>
<span class="cstat-no" title="statement not covered" >return;}</span>
<span class="cstat-no" title="statement not covered" >if(anyEmptySelection){<span class="cstat-no" title="statement not covered" >this._expandSelectionsToWords(selections);<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >var last=selections[selections.length-1];<span class="cstat-no" title="statement not covered" >v</span>ar next=last;<span class="cstat-no" title="statement not covered" >d</span>o{<span class="cstat-no" title="statement not covered" >next=this._findNextOccurrence(next,!!this._fullWordSelection);}</span>while(next&amp;&amp;this._findRange(selections,next)&amp;&amp;!next.equal(last));<span class="cstat-no" title="statement not covered" >i</span>f(!next)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >s</span>elections.push(next);<span class="cstat-no" title="statement not covered" >t</span>his._muteSelectionListener=true;<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.setSelections(selections,selections.length-1);<span class="cstat-no" title="statement not covered" >d</span>elete this._muteSelectionListener;<span class="cstat-no" title="statement not covered" >t</span>his._textEditor._revealLine(next.startLine);}</span>,_expandSelectionsToWords:<span class="fstat-no" title="function not covered" >function(selections)</span>
{<span class="cstat-no" title="statement not covered" >var newSelections=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;selections.length;++i){<span class="cstat-no" title="statement not covered" >var selection=selections[i];<span class="cstat-no" title="statement not covered" >v</span>ar startRangeWord=this._textEditor.wordRangeForCursorPosition(selection.startLine,selection.startColumn,WebInspector.TextUtils.isWordChar)||WebInspector.TextRange.createFromLocation(selection.startLine,selection.startColumn);<span class="cstat-no" title="statement not covered" >v</span>ar endRangeWord=this._textEditor.wordRangeForCursorPosition(selection.endLine,selection.endColumn,WebInspector.TextUtils.isWordChar)||WebInspector.TextRange.createFromLocation(selection.endLine,selection.endColumn);<span class="cstat-no" title="statement not covered" >v</span>ar newSelection=new WebInspector.TextRange(startRangeWord.startLine,startRangeWord.startColumn,endRangeWord.endLine,endRangeWord.endColumn);<span class="cstat-no" title="statement not covered" >n</span>ewSelections.push(newSelection);}</span></span>
<span class="cstat-no" title="statement not covered" >this._textEditor.setSelections(newSelections,newSelections.length-1);<span class="cstat-no" title="statement not covered" >t</span>his._fullWordSelection=true;}</span>,_findNextOccurrence:<span class="fstat-no" title="function not covered" >function(range,fullWord)</span>
{<span class="cstat-no" title="statement not covered" >range=range.normalize();<span class="cstat-no" title="statement not covered" >v</span>ar matchedLineNumber;<span class="cstat-no" title="statement not covered" >v</span>ar matchedColumnNumber;<span class="cstat-no" title="statement not covered" >v</span>ar textToFind=this._textEditor.copyRange(range);<span class="fstat-no" title="function not covered" >f</span>unction findWordInLine(wordRegex,lineNumber,lineText,from,to)</span>
{<span class="cstat-no" title="statement not covered" >if(typeof matchedLineNumber==="number")</span>
<span class="cstat-no" title="statement not covered" >return true;<span class="cstat-no" title="statement not covered" >w</span>ordRegex.lastIndex=from;<span class="cstat-no" title="statement not covered" >v</span>ar result=wordRegex.exec(lineText);<span class="cstat-no" title="statement not covered" >i</span>f(!result||result.index+textToFind.length&gt;to)</span>
<span class="cstat-no" title="statement not covered" >return false;<span class="cstat-no" title="statement not covered" >m</span>atchedLineNumber=lineNumber;<span class="cstat-no" title="statement not covered" >m</span>atchedColumnNumber=result.index;<span class="cstat-no" title="statement not covered" >r</span>eturn true;}</span>
<span class="cstat-no" title="statement not covered" >var iteratedLineNumber;<span class="fstat-no" title="function not covered" >f</span>unction lineIterator(regex,lineHandle)</span>
{<span class="cstat-no" title="statement not covered" >if(findWordInLine(regex,iteratedLineNumber++,lineHandle.text,0,lineHandle.text.length))</span>
<span class="cstat-no" title="statement not covered" >return true;}</span>
<span class="cstat-no" title="statement not covered" >var regexSource=textToFind.escapeForRegExp();<span class="cstat-no" title="statement not covered" >i</span>f(fullWord)</span>
<span class="cstat-no" title="statement not covered" >regexSource="\\b"+regexSource+"\\b";<span class="cstat-no" title="statement not covered" >v</span>ar wordRegex=new RegExp(regexSource,"g");<span class="cstat-no" title="statement not covered" >v</span>ar currentLineText=this._codeMirror.getLine(range.startLine);<span class="cstat-no" title="statement not covered" >f</span>indWordInLine(wordRegex,range.startLine,currentLineText,range.endColumn,currentLineText.length);<span class="cstat-no" title="statement not covered" >i</span>teratedLineNumber=range.startLine+1;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.eachLine(range.startLine+1,this._codeMirror.lineCount(),lineIterator.bind(null,wordRegex));<span class="cstat-no" title="statement not covered" >i</span>teratedLineNumber=0;<span class="cstat-no" title="statement not covered" >t</span>his._codeMirror.eachLine(0,range.startLine,lineIterator.bind(null,wordRegex));<span class="cstat-no" title="statement not covered" >f</span>indWordInLine(wordRegex,range.startLine,currentLineText,0,range.startColumn);<span class="cstat-no" title="statement not covered" >i</span>f(typeof matchedLineNumber!=="number")</span>
<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >r</span>eturn new WebInspector.TextRange(matchedLineNumber,matchedColumnNumber,matchedLineNumber,matchedColumnNumber+textToFind.length);}</span>}
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor._overrideModeWithPrefixedTokens=<span class="fstat-no" title="function not covered" >function(modeName,tokenPrefix)</span></span>
{<span class="cstat-no" title="statement not covered" >var oldModeName=modeName+"-old";<span class="cstat-no" title="statement not covered" >i</span>f(CodeMirror.modes[oldModeName])</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMode(oldModeName,CodeMirror.modes[modeName]);<span class="cstat-no" title="statement not covered" >C</span>odeMirror.defineMode(modeName,modeConstructor);<span class="fstat-no" title="function not covered" >f</span>unction modeConstructor(config,parserConfig)</span>
{<span class="cstat-no" title="statement not covered" >var innerConfig={};<span class="cstat-no" title="statement not covered" >f</span>or(var i in parserConfig)</span>
<span class="cstat-no" title="statement not covered" >innerConfig[i]=parserConfig[i];<span class="cstat-no" title="statement not covered" >i</span>nnerConfig.name=oldModeName;<span class="cstat-no" title="statement not covered" >v</span>ar codeMirrorMode=CodeMirror.getMode(config,innerConfig);<span class="cstat-no" title="statement not covered" >c</span>odeMirrorMode.name=modeName;<span class="cstat-no" title="statement not covered" >c</span>odeMirrorMode.token=tokenOverride.bind(null,codeMirrorMode.token);<span class="cstat-no" title="statement not covered" >r</span>eturn codeMirrorMode;}</span>
<span class="fstat-no" title="function not covered" >function tokenOverride(superToken,stream,state)</span>
{<span class="cstat-no" title="statement not covered" >var token=superToken(stream,state);<span class="cstat-no" title="statement not covered" >r</span>eturn token?tokenPrefix+token.split(/ +/).join(" "+tokenPrefix):token;}</span>}
<span class="cstat-no" title="statement not covered" >WebInspector.TextEditorPositionHandle=<span class="fstat-no" title="function not covered" >function(){</span>}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.TextEditorPositionHandle.prototype={resolve:<span class="fstat-no" title="function not covered" >function(){</span>},equal:<span class="fstat-no" title="function not covered" >function(positionHandle){</span>}}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.TextEditorDelegate=<span class="fstat-no" title="function not covered" >function(){</span>}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.TextEditorDelegate.prototype={onTextChanged:<span class="fstat-no" title="function not covered" >function(oldRange,newRange){</span>},selectionChanged:<span class="fstat-no" title="function not covered" >function(textRange){</span>},scrollChanged:<span class="fstat-no" title="function not covered" >function(lineNumber){</span>},editorFocused:<span class="fstat-no" title="function not covered" >function(){</span>},populateLineGutterContextMenu:<span class="fstat-no" title="function not covered" >function(contextMenu,lineNumber){</span>},populateTextAreaContextMenu:<span class="fstat-no" title="function not covered" >function(contextMenu,lineNumber,columnNumber){</span>},onJumpToPosition:<span class="fstat-no" title="function not covered" >function(from,to){</span>}}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor._overrideModeWithPrefixedTokens("css","css-");<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor._overrideModeWithPrefixedTokens("javascript","js-");<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor._overrideModeWithPrefixedTokens("xml","xml-");<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.GutterClickEventData;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor.Events={GutterClick:"GutterClick"}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorTextEditor._loadedMimeModeExtensions=new Set();<span class="cstat-no" title="statement not covered" >W</span>ebInspector.CodeMirrorTextEditor._loadMimeTypeModes=<span class="fstat-no" title="function not covered" >function(mimeType,callback)</span></span>
{<span class="cstat-no" title="statement not covered" >var installed=WebInspector.CodeMirrorTextEditor._loadedMimeModeExtensions;<span class="cstat-no" title="statement not covered" >v</span>ar nameToExtension=new Map();<span class="cstat-no" title="statement not covered" >v</span>ar extensions=self.runtime.extensions(WebInspector.CodeMirrorMimeMode);<span class="cstat-no" title="statement not covered" >f</span>or(var extension of extensions)</span>
<span class="cstat-no" title="statement not covered" >nameToExtension.set(extension.descriptor()["fileName"],extension);<span class="cstat-no" title="statement not covered" >v</span>ar modesToLoad=new Set();<span class="cstat-no" title="statement not covered" >f</span>or(var extension of extensions){<span class="cstat-no" title="statement not covered" >var descriptor=extension.descriptor();<span class="cstat-no" title="statement not covered" >i</span>f(installed.has(extension)||descriptor["mimeTypes"].indexOf(mimeType)===-1)</span></span>
<span class="cstat-no" title="statement not covered" >continue;<span class="cstat-no" title="statement not covered" >m</span>odesToLoad.add(extension);<span class="cstat-no" title="statement not covered" >v</span>ar deps=descriptor["dependencies"]||[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;deps.length;++i){<span class="cstat-no" title="statement not covered" >var extension=nameToExtension.get(deps[i]);<span class="cstat-no" title="statement not covered" >i</span>f(extension&amp;&amp;!installed.has(extension))</span></span>
<span class="cstat-no" title="statement not covered" >modesToLoad.add(extension);}</span>}
<span class="cstat-no" title="statement not covered" >var promises=[];<span class="cstat-no" title="statement not covered" >f</span>or(var extension of modesToLoad)</span>
<span class="cstat-no" title="statement not covered" >promises.push(extension.instancePromise().then(installMode.bind(null,extension)));<span class="cstat-no" title="statement not covered" >i</span>f(promises.length)</span>
<span class="cstat-no" title="statement not covered" >Promise.all(promises).then(callback);<span class="fstat-no" title="function not covered" >f</span>unction installMode(extension,instance)</span>
{<span class="cstat-no" title="statement not covered" >if(installed.has(extension))</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar mode=(instance);<span class="cstat-no" title="statement not covered" >m</span>ode.install(extension);<span class="cstat-no" title="statement not covered" >i</span>nstalled.add(extension);}</span>}
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorMimeMode=<span class="fstat-no" title="function not covered" >function()</span></span>
{}
<span class="cstat-no" title="statement not covered" >WebInspector.CodeMirrorMimeMode.prototype={install:<span class="fstat-no" title="function not covered" >function(extension){</span>}};<span class="cstat-no" title="statement not covered" >W</span>ebInspector.FontView=<span class="fstat-no" title="function not covered" >function(mimeType,contentProvider)</span></span>
{<span class="cstat-no" title="statement not covered" >WebInspector.VBoxWithToolbarItems.call(this);<span class="cstat-no" title="statement not covered" >t</span>his.registerRequiredCSS("source_frame/fontView.css");<span class="cstat-no" title="statement not covered" >t</span>his.element.classList.add("font-view");<span class="cstat-no" title="statement not covered" >t</span>his._url=contentProvider.contentURL();<span class="cstat-no" title="statement not covered" >t</span>his._mimeType=mimeType;<span class="cstat-no" title="statement not covered" >t</span>his._contentProvider=contentProvider;<span class="cstat-no" title="statement not covered" >t</span>his._mimeTypeLabel=new WebInspector.ToolbarText(mimeType);}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.FontView._fontPreviewLines=["ABCDEFGHIJKLM","NOPQRSTUVWXYZ","abcdefghijklm","nopqrstuvwxyz","1234567890"];<span class="cstat-no" title="statement not covered" >W</span>ebInspector.FontView._fontId=0;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.FontView._measureFontSize=50;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.FontView.prototype={toolbarItems:<span class="fstat-no" title="function not covered" >function()</span></span>
{<span class="cstat-no" title="statement not covered" >return[this._mimeTypeLabel];}</span>,_onFontContentLoaded:<span class="fstat-no" title="function not covered" >function(uniqueFontName,content)</span>
{<span class="cstat-no" title="statement not covered" >var url=content?WebInspector.Resource.contentAsDataURL(content,this._mimeType,true):this._url;<span class="cstat-no" title="statement not covered" >t</span>his.fontStyleElement.textContent=String.sprintf("@font-face { font-family: \"%s\"; src: url(%s); }",uniqueFontName,url);}</span>,_createContentIfNeeded:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(this.fontPreviewElement)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar uniqueFontName="WebInspectorFontPreview"+(++WebInspector.FontView._fontId);<span class="cstat-no" title="statement not covered" >t</span>his.fontStyleElement=createElement("style");<span class="cstat-no" title="statement not covered" >t</span>his._contentProvider.requestContent().then(this._onFontContentLoaded.bind(this,uniqueFontName));<span class="cstat-no" title="statement not covered" >t</span>his.element.appendChild(this.fontStyleElement);<span class="cstat-no" title="statement not covered" >v</span>ar fontPreview=createElement("div");<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;WebInspector.FontView._fontPreviewLines.length;++i){<span class="cstat-no" title="statement not covered" >if(i&gt;0)</span></span>
<span class="cstat-no" title="statement not covered" >fontPreview.createChild("br");<span class="cstat-no" title="statement not covered" >f</span>ontPreview.createTextChild(WebInspector.FontView._fontPreviewLines[i]);}</span>
<span class="cstat-no" title="statement not covered" >this.fontPreviewElement=fontPreview.cloneNode(true);<span class="cstat-no" title="statement not covered" >t</span>his.fontPreviewElement.style.setProperty("font-family",uniqueFontName);<span class="cstat-no" title="statement not covered" >t</span>his.fontPreviewElement.style.setProperty("visibility","hidden");<span class="cstat-no" title="statement not covered" >t</span>his._dummyElement=fontPreview;<span class="cstat-no" title="statement not covered" >t</span>his._dummyElement.style.visibility="hidden";<span class="cstat-no" title="statement not covered" >t</span>his._dummyElement.style.zIndex="-1";<span class="cstat-no" title="statement not covered" >t</span>his._dummyElement.style.display="inline";<span class="cstat-no" title="statement not covered" >t</span>his._dummyElement.style.position="absolute";<span class="cstat-no" title="statement not covered" >t</span>his._dummyElement.style.setProperty("font-family",uniqueFontName);<span class="cstat-no" title="statement not covered" >t</span>his._dummyElement.style.setProperty("font-size",WebInspector.FontView._measureFontSize+"px");<span class="cstat-no" title="statement not covered" >t</span>his.element.appendChild(this.fontPreviewElement);}</span>,wasShown:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._createContentIfNeeded();<span class="cstat-no" title="statement not covered" >t</span>his.updateFontPreviewSize();}</span>,onResize:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(this._inResize)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._inResize=true;<span class="cstat-no" title="statement not covered" >t</span>ry{<span class="cstat-no" title="statement not covered" >this.updateFontPreviewSize();}</span>finally{<span class="cstat-no" title="statement not covered" >delete this._inResize;}</span>}</span>,_measureElement:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this.element.appendChild(this._dummyElement);<span class="cstat-no" title="statement not covered" >v</span>ar result={width:this._dummyElement.offsetWidth,height:this._dummyElement.offsetHeight};<span class="cstat-no" title="statement not covered" >t</span>his.element.removeChild(this._dummyElement);<span class="cstat-no" title="statement not covered" >r</span>eturn result;}</span>,updateFontPreviewSize:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(!this.fontPreviewElement||!this.isShowing())</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his.fontPreviewElement.style.removeProperty("visibility");<span class="cstat-no" title="statement not covered" >v</span>ar dimension=this._measureElement();<span class="cstat-no" title="statement not covered" >c</span>onst height=dimension.height;<span class="cstat-no" title="statement not covered" >c</span>onst width=dimension.width;<span class="cstat-no" title="statement not covered" >c</span>onst containerWidth=this.element.offsetWidth-50;<span class="cstat-no" title="statement not covered" >c</span>onst containerHeight=this.element.offsetHeight-30;<span class="cstat-no" title="statement not covered" >i</span>f(!height||!width||!containerWidth||!containerHeight){<span class="cstat-no" title="statement not covered" >this.fontPreviewElement.style.removeProperty("font-size");<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >var widthRatio=containerWidth/width;<span class="cstat-no" title="statement not covered" >v</span>ar heightRatio=containerHeight/height;<span class="cstat-no" title="statement not covered" >v</span>ar finalFontSize=Math.floor(WebInspector.FontView._measureFontSize*Math.min(widthRatio,heightRatio))-2;<span class="cstat-no" title="statement not covered" >t</span>his.fontPreviewElement.style.setProperty("font-size",finalFontSize+"px",null);}</span>,__proto__:WebInspector.VBoxWithToolbarItems.prototype};<span class="cstat-no" title="statement not covered" >WebInspector.ImageView=<span class="fstat-no" title="function not covered" >function(mimeType,contentProvider)</span></span>
{<span class="cstat-no" title="statement not covered" >WebInspector.VBoxWithToolbarItems.call(this);<span class="cstat-no" title="statement not covered" >t</span>his.registerRequiredCSS("source_frame/imageView.css");<span class="cstat-no" title="statement not covered" >t</span>his.element.classList.add("image-view");<span class="cstat-no" title="statement not covered" >t</span>his._url=contentProvider.contentURL();<span class="cstat-no" title="statement not covered" >t</span>his._parsedURL=new WebInspector.ParsedURL(this._url);<span class="cstat-no" title="statement not covered" >t</span>his._mimeType=mimeType;<span class="cstat-no" title="statement not covered" >t</span>his._contentProvider=contentProvider;<span class="cstat-no" title="statement not covered" >t</span>his._sizeLabel=new WebInspector.ToolbarText();<span class="cstat-no" title="statement not covered" >t</span>his._dimensionsLabel=new WebInspector.ToolbarText();<span class="cstat-no" title="statement not covered" >t</span>his._mimeTypeLabel=new WebInspector.ToolbarText(mimeType);}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.ImageView.prototype={toolbarItems:<span class="fstat-no" title="function not covered" >function()</span></span>
{<span class="cstat-no" title="statement not covered" >return[this._sizeLabel,new WebInspector.ToolbarSeparator(),this._dimensionsLabel,new WebInspector.ToolbarSeparator(),this._mimeTypeLabel];}</span>,wasShown:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._createContentIfNeeded();}</span>,_createContentIfNeeded:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(this._container)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._container=this.element.createChild("div","image");<span class="cstat-no" title="statement not covered" >v</span>ar imagePreviewElement=this._container.createChild("img","resource-image-view");<span class="cstat-no" title="statement not covered" >i</span>magePreviewElement.addEventListener("contextmenu",this._contextMenu.bind(this),true);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.Resource.populateImageSource(this._url,this._mimeType,this._contentProvider,imagePreviewElement);<span class="cstat-no" title="statement not covered" >t</span>his._contentProvider.requestContent().then(onContentAvailable.bind(this));<span class="fstat-no" title="function not covered" >f</span>unction onContentAvailable(content)</span>
{<span class="cstat-no" title="statement not covered" >this._sizeLabel.setText(Number.bytesToString(this._base64ToSize(content)));<span class="cstat-no" title="statement not covered" >t</span>his._dimensionsLabel.setText(WebInspector.UIString("%d  %d",imagePreviewElement.naturalWidth,imagePreviewElement.naturalHeight));}</span>
<span class="cstat-no" title="statement not covered" >this._imagePreviewElement=imagePreviewElement;}</span>,_base64ToSize:<span class="fstat-no" title="function not covered" >function(content)</span>
{<span class="cstat-no" title="statement not covered" >if(!content||!content.length)</span>
<span class="cstat-no" title="statement not covered" >return 0;<span class="cstat-no" title="statement not covered" >v</span>ar size=(content.length||0)*3/4;<span class="cstat-no" title="statement not covered" >i</span>f(content.length&gt;0&amp;&amp;content[content.length-1]==="=")</span>
<span class="cstat-no" title="statement not covered" >size--;<span class="cstat-no" title="statement not covered" >i</span>f(content.length&gt;1&amp;&amp;content[content.length-2]==="=")</span>
<span class="cstat-no" title="statement not covered" >size--;<span class="cstat-no" title="statement not covered" >r</span>eturn size;}</span>,_contextMenu:<span class="fstat-no" title="function not covered" >function(event)</span>
{<span class="cstat-no" title="statement not covered" >var contextMenu=new WebInspector.ContextMenu(event);<span class="cstat-no" title="statement not covered" >i</span>f(!this._parsedURL.isDataURL())</span>
<span class="cstat-no" title="statement not covered" >contextMenu.appendItem(WebInspector.UIString.capitalize("Copy ^image URL"),this._copyImageURL.bind(this));<span class="cstat-no" title="statement not covered" >i</span>f(this._imagePreviewElement.src)</span>
<span class="cstat-no" title="statement not covered" >contextMenu.appendItem(WebInspector.UIString.capitalize("Copy ^image as Data URI"),this._copyImageAsDataURL.bind(this));<span class="cstat-no" title="statement not covered" >c</span>ontextMenu.appendItem(WebInspector.UIString.capitalize("Open ^image in ^new ^tab"),this._openInNewTab.bind(this));<span class="cstat-no" title="statement not covered" >c</span>ontextMenu.show();}</span>,_copyImageAsDataURL:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >InspectorFrontendHost.copyText(this._imagePreviewElement.src);}</span>,_copyImageURL:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >InspectorFrontendHost.copyText(this._url);}</span>,_openInNewTab:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >InspectorFrontendHost.openInNewTab(this._url);}</span>,__proto__:WebInspector.VBoxWithToolbarItems.prototype};<span class="cstat-no" title="statement not covered" >WebInspector.SourceFrame=<span class="fstat-no" title="function not covered" >function(url,lazyContent)</span></span>
{<span class="cstat-no" title="statement not covered" >WebInspector.VBoxWithToolbarItems.call(this);<span class="cstat-no" title="statement not covered" >t</span>his._url=url;<span class="cstat-no" title="statement not covered" >t</span>his._lazyContent=lazyContent;<span class="cstat-no" title="statement not covered" >v</span>ar textEditorDelegate=new WebInspector.TextEditorDelegateForSourceFrame(this);<span class="cstat-no" title="statement not covered" >t</span>his._textEditor=new WebInspector.CodeMirrorTextEditor(this._url,textEditorDelegate);<span class="cstat-no" title="statement not covered" >t</span>his._currentSearchResultIndex=-1;<span class="cstat-no" title="statement not covered" >t</span>his._searchResults=[];<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.setReadOnly(!this.canEditSource());<span class="cstat-no" title="statement not covered" >t</span>his._shortcuts={};<span class="cstat-no" title="statement not covered" >t</span>his.element.addEventListener("keydown",this._handleKeyDown.bind(this),false);<span class="cstat-no" title="statement not covered" >t</span>his._sourcePosition=new WebInspector.ToolbarText();<span class="cstat-no" title="statement not covered" >t</span>his._searchableView=null;}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.SourceFrame.Events={ScrollChanged:"ScrollChanged",SelectionChanged:"SelectionChanged",JumpHappened:"JumpHappened"}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.SourceFrame.prototype={addShortcut:<span class="fstat-no" title="function not covered" >function(key,handler)</span></span>
{<span class="cstat-no" title="statement not covered" >this._shortcuts[key]=handler;}</span>,wasShown:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._ensureContentLoaded();<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.show(this.element);<span class="cstat-no" title="statement not covered" >t</span>his._editorAttached=true;<span class="cstat-no" title="statement not covered" >t</span>his._wasShownOrLoaded();}</span>,isEditorShowing:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this.isShowing()&amp;&amp;this._editorAttached;}</span>,willHide:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >WebInspector.Widget.prototype.willHide.call(this);<span class="cstat-no" title="statement not covered" >t</span>his._clearPositionToReveal();}</span>,toolbarItems:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return[this._sourcePosition];}</span>,defaultFocusedElement:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this._textEditor.defaultFocusedElement();}</span>,get loaded<span class="fstat-no" title="function not covered" >()</span>
{<span class="cstat-no" title="statement not covered" >return this._loaded;}</span>,get textEditor<span class="fstat-no" title="function not covered" >()</span>
{<span class="cstat-no" title="statement not covered" >return this._textEditor;}</span>,_ensureContentLoaded:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(!this._contentRequested){<span class="cstat-no" title="statement not covered" >this._contentRequested=true;<span class="cstat-no" title="statement not covered" >t</span>his._lazyContent().then(this.setContent.bind(this));}</span>}</span>,revealPosition:<span class="fstat-no" title="function not covered" >function(line,column,shouldHighlight)</span>
{<span class="cstat-no" title="statement not covered" >this._clearLineToScrollTo();<span class="cstat-no" title="statement not covered" >t</span>his._clearSelectionToSet();<span class="cstat-no" title="statement not covered" >t</span>his._positionToReveal={line:line,column:column,shouldHighlight:shouldHighlight};<span class="cstat-no" title="statement not covered" >t</span>his._innerRevealPositionIfNeeded();}</span>,_innerRevealPositionIfNeeded:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(!this._positionToReveal)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span>f(!this.loaded||!this.isEditorShowing())</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.revealPosition(this._positionToReveal.line,this._positionToReveal.column,this._positionToReveal.shouldHighlight);<span class="cstat-no" title="statement not covered" >d</span>elete this._positionToReveal;}</span>,_clearPositionToReveal:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._textEditor.clearPositionHighlight();<span class="cstat-no" title="statement not covered" >d</span>elete this._positionToReveal;}</span>,scrollToLine:<span class="fstat-no" title="function not covered" >function(line)</span>
{<span class="cstat-no" title="statement not covered" >this._clearPositionToReveal();<span class="cstat-no" title="statement not covered" >t</span>his._lineToScrollTo=line;<span class="cstat-no" title="statement not covered" >t</span>his._innerScrollToLineIfNeeded();}</span>,_innerScrollToLineIfNeeded:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(typeof this._lineToScrollTo==="number"){<span class="cstat-no" title="statement not covered" >if(this.loaded&amp;&amp;this.isEditorShowing()){<span class="cstat-no" title="statement not covered" >this._textEditor.scrollToLine(this._lineToScrollTo);<span class="cstat-no" title="statement not covered" >d</span>elete this._lineToScrollTo;}</span>}</span>}</span>,_clearLineToScrollTo:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >delete this._lineToScrollTo;}</span>,selection:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this.textEditor.selection();}</span>,setSelection:<span class="fstat-no" title="function not covered" >function(textRange)</span>
{<span class="cstat-no" title="statement not covered" >this._selectionToSet=textRange;<span class="cstat-no" title="statement not covered" >t</span>his._innerSetSelectionIfNeeded();}</span>,_innerSetSelectionIfNeeded:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(this._selectionToSet&amp;&amp;this.loaded&amp;&amp;this.isEditorShowing()){<span class="cstat-no" title="statement not covered" >this._textEditor.setSelection(this._selectionToSet);<span class="cstat-no" title="statement not covered" >d</span>elete this._selectionToSet;}</span>}</span>,_clearSelectionToSet:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >delete this._selectionToSet;}</span>,_wasShownOrLoaded:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._innerRevealPositionIfNeeded();<span class="cstat-no" title="statement not covered" >t</span>his._innerSetSelectionIfNeeded();<span class="cstat-no" title="statement not covered" >t</span>his._innerScrollToLineIfNeeded();}</span>,onTextChanged:<span class="fstat-no" title="function not covered" >function(oldRange,newRange)</span>
{<span class="cstat-no" title="statement not covered" >if(this._searchConfig&amp;&amp;this._searchableView)</span>
<span class="cstat-no" title="statement not covered" >this.performSearch(this._searchConfig,false,false);}</span>,_simplifyMimeType:<span class="fstat-no" title="function not covered" >function(content,mimeType)</span>
{<span class="cstat-no" title="statement not covered" >if(!mimeType)</span>
<span class="cstat-no" title="statement not covered" >return"";<span class="cstat-no" title="statement not covered" >i</span>f(mimeType.indexOf("javascript")&gt;=0||mimeType.indexOf("jscript")&gt;=0||mimeType.indexOf("ecmascript")&gt;=0)</span>
<span class="cstat-no" title="statement not covered" >return"text/javascript";<span class="cstat-no" title="statement not covered" >i</span>f(mimeType==="text/x-php"&amp;&amp;content.match(/\&lt;\?.*\?\&gt;/g))</span>
<span class="cstat-no" title="statement not covered" >return"application/x-httpd-php";<span class="cstat-no" title="statement not covered" >r</span>eturn mimeType;}</span>,setHighlighterType:<span class="fstat-no" title="function not covered" >function(highlighterType)</span>
{<span class="cstat-no" title="statement not covered" >this._highlighterType=highlighterType;<span class="cstat-no" title="statement not covered" >t</span>his._updateHighlighterType("");}</span>,_updateHighlighterType:<span class="fstat-no" title="function not covered" >function(content)</span>
{<span class="cstat-no" title="statement not covered" >this._textEditor.setMimeType(this._simplifyMimeType(content,this._highlighterType));}</span>,setContent:<span class="fstat-no" title="function not covered" >function(content)</span>
{<span class="cstat-no" title="statement not covered" >if(!this._loaded){<span class="cstat-no" title="statement not covered" >this._loaded=true;<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.setText(content||"");<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.markClean();}</span>else{<span class="cstat-no" title="statement not covered" >var scrollTop=this._textEditor.scrollTop();<span class="cstat-no" title="statement not covered" >v</span>ar selection=this._textEditor.selection();<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.setText(content||"");<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.setScrollTop(scrollTop);<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.setSelection(selection);}</span></span>
<span class="cstat-no" title="statement not covered" >this._updateHighlighterType(content||"");<span class="cstat-no" title="statement not covered" >t</span>his._wasShownOrLoaded();<span class="cstat-no" title="statement not covered" >i</span>f(this._delayedFindSearchMatches){<span class="cstat-no" title="statement not covered" >this._delayedFindSearchMatches();<span class="cstat-no" title="statement not covered" >d</span>elete this._delayedFindSearchMatches;}</span></span>
<span class="cstat-no" title="statement not covered" >this.onTextEditorContentLoaded();}</span>,onTextEditorContentLoaded:<span class="fstat-no" title="function not covered" >function(){</span>},setSearchableView:<span class="fstat-no" title="function not covered" >function(view)</span>
{<span class="cstat-no" title="statement not covered" >this._searchableView=view;}</span>,_doFindSearchMatches:<span class="fstat-no" title="function not covered" >function(searchConfig,shouldJump,jumpBackwards)</span>
{<span class="cstat-no" title="statement not covered" >this._currentSearchResultIndex=-1;<span class="cstat-no" title="statement not covered" >t</span>his._searchResults=[];<span class="cstat-no" title="statement not covered" >v</span>ar regex=searchConfig.toSearchRegex();<span class="cstat-no" title="statement not covered" >t</span>his._searchRegex=regex;<span class="cstat-no" title="statement not covered" >t</span>his._searchResults=this._collectRegexMatches(regex);<span class="cstat-no" title="statement not covered" >i</span>f(this._searchableView)</span>
<span class="cstat-no" title="statement not covered" >this._searchableView.updateSearchMatchesCount(this._searchResults.length);<span class="cstat-no" title="statement not covered" >i</span>f(!this._searchResults.length)</span>
<span class="cstat-no" title="statement not covered" >this._textEditor.cancelSearchResultsHighlight();e</span>lse <span class="cstat-no" title="statement not covered" >if(shouldJump&amp;&amp;jumpBackwards)</span>
<span class="cstat-no" title="statement not covered" >this.jumpToPreviousSearchResult();e</span>lse <span class="cstat-no" title="statement not covered" >if(shouldJump)</span>
<span class="cstat-no" title="statement not covered" >this.jumpToNextSearchResult();e</span>lse
<span class="cstat-no" title="statement not covered" >this._textEditor.highlightSearchResults(regex,null);}</span>,performSearch:<span class="fstat-no" title="function not covered" >function(searchConfig,shouldJump,jumpBackwards)</span>
{<span class="cstat-no" title="statement not covered" >if(this._searchableView)</span>
<span class="cstat-no" title="statement not covered" >this._searchableView.updateSearchMatchesCount(0);<span class="cstat-no" title="statement not covered" >t</span>his._resetSearch();<span class="cstat-no" title="statement not covered" >t</span>his._searchConfig=searchConfig;<span class="cstat-no" title="statement not covered" >i</span>f(this.loaded)</span>
<span class="cstat-no" title="statement not covered" >this._doFindSearchMatches(searchConfig,shouldJump,!!jumpBackwards)</span>
else
<span class="cstat-no" title="statement not covered" >this._delayedFindSearchMatches=this._doFindSearchMatches.bind(this,searchConfig,shouldJump,!!jumpBackwards);<span class="cstat-no" title="statement not covered" >t</span>his._ensureContentLoaded();}</span>,_editorFocused:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._resetCurrentSearchResultIndex();}</span>,_resetCurrentSearchResultIndex:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >if(!this._searchResults.length)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._currentSearchResultIndex=-1;<span class="cstat-no" title="statement not covered" >i</span>f(this._searchableView)</span>
<span class="cstat-no" title="statement not covered" >this._searchableView.updateCurrentMatchIndex(this._currentSearchResultIndex);<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.highlightSearchResults(this._searchRegex,null);}</span>,_resetSearch:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >delete this._searchConfig;<span class="cstat-no" title="statement not covered" >d</span>elete this._delayedFindSearchMatches;<span class="cstat-no" title="statement not covered" >t</span>his._currentSearchResultIndex=-1;<span class="cstat-no" title="statement not covered" >t</span>his._searchResults=[];<span class="cstat-no" title="statement not covered" >d</span>elete this._searchRegex;}</span>,searchCanceled:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var range=this._currentSearchResultIndex!==-1?this._searchResults[this._currentSearchResultIndex]:null;<span class="cstat-no" title="statement not covered" >t</span>his._resetSearch();<span class="cstat-no" title="statement not covered" >i</span>f(!this.loaded)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.cancelSearchResultsHighlight();<span class="cstat-no" title="statement not covered" >i</span>f(range)</span>
<span class="cstat-no" title="statement not covered" >this.setSelection(range);}</span>,hasSearchResults:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this._searchResults.length&gt;0;}</span>,jumpToFirstSearchResult:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this.jumpToSearchResult(0);}</span>,jumpToLastSearchResult:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this.jumpToSearchResult(this._searchResults.length-1);}</span>,_searchResultIndexForCurrentSelection:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return this._searchResults.lowerBound(this._textEditor.selection().collapseToEnd(),WebInspector.TextRange.comparator);}</span>,jumpToNextSearchResult:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var currentIndex=this._searchResultIndexForCurrentSelection();<span class="cstat-no" title="statement not covered" >v</span>ar nextIndex=this._currentSearchResultIndex===-1?currentIndex:currentIndex+1;<span class="cstat-no" title="statement not covered" >t</span>his.jumpToSearchResult(nextIndex);}</span>,jumpToPreviousSearchResult:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var currentIndex=this._searchResultIndexForCurrentSelection();<span class="cstat-no" title="statement not covered" >t</span>his.jumpToSearchResult(currentIndex-1);}</span>,supportsCaseSensitiveSearch:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return true;}</span>,supportsRegexSearch:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return true;}</span>,get currentSearchResultIndex<span class="fstat-no" title="function not covered" >()</span>
{<span class="cstat-no" title="statement not covered" >return this._currentSearchResultIndex;}</span>,jumpToSearchResult:<span class="fstat-no" title="function not covered" >function(index)</span>
{<span class="cstat-no" title="statement not covered" >if(!this.loaded||!this._searchResults.length)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._currentSearchResultIndex=(index+this._searchResults.length)%this._searchResults.length;<span class="cstat-no" title="statement not covered" >i</span>f(this._searchableView)</span>
<span class="cstat-no" title="statement not covered" >this._searchableView.updateCurrentMatchIndex(this._currentSearchResultIndex);<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.highlightSearchResults(this._searchRegex,this._searchResults[this._currentSearchResultIndex]);}</span>,replaceSelectionWith:<span class="fstat-no" title="function not covered" >function(searchConfig,replacement)</span>
{<span class="cstat-no" title="statement not covered" >var range=this._searchResults[this._currentSearchResultIndex];<span class="cstat-no" title="statement not covered" >i</span>f(!range)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.highlightSearchResults(this._searchRegex,null);<span class="cstat-no" title="statement not covered" >v</span>ar oldText=this._textEditor.copyRange(range);<span class="cstat-no" title="statement not covered" >v</span>ar regex=searchConfig.toSearchRegex();<span class="cstat-no" title="statement not covered" >v</span>ar text;<span class="cstat-no" title="statement not covered" >i</span>f(regex.__fromRegExpQuery)</span>
<span class="cstat-no" title="statement not covered" >text=oldText.replace(regex,replacement);e</span>lse
<span class="cstat-no" title="statement not covered" >text=oldText.replace(regex,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return replacement;}</span>);<span class="cstat-no" title="statement not covered" >v</span>ar newRange=this._textEditor.editRange(range,text);<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.setSelection(newRange.collapseToEnd());}</span>,replaceAllWith:<span class="fstat-no" title="function not covered" >function(searchConfig,replacement)</span>
{<span class="cstat-no" title="statement not covered" >this._resetCurrentSearchResultIndex();<span class="cstat-no" title="statement not covered" >v</span>ar text=this._textEditor.text();<span class="cstat-no" title="statement not covered" >v</span>ar range=this._textEditor.range();<span class="cstat-no" title="statement not covered" >v</span>ar regex=searchConfig.toSearchRegex(true);<span class="cstat-no" title="statement not covered" >i</span>f(regex.__fromRegExpQuery)</span>
<span class="cstat-no" title="statement not covered" >text=text.replace(regex,replacement);e</span>lse
<span class="cstat-no" title="statement not covered" >text=text.replace(regex,<span class="fstat-no" title="function not covered" >function(){<span class="cstat-no" title="statement not covered" ></span>return replacement;}</span>);<span class="cstat-no" title="statement not covered" >v</span>ar ranges=this._collectRegexMatches(regex);<span class="cstat-no" title="statement not covered" >i</span>f(!ranges.length)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >v</span>ar currentRangeIndex=ranges.lowerBound(this._textEditor.selection(),WebInspector.TextRange.comparator);<span class="cstat-no" title="statement not covered" >v</span>ar lastRangeIndex=mod(currentRangeIndex-1,ranges.length);<span class="cstat-no" title="statement not covered" >v</span>ar lastRange=ranges[lastRangeIndex];<span class="cstat-no" title="statement not covered" >v</span>ar replacementLineEndings=replacement.computeLineEndings();<span class="cstat-no" title="statement not covered" >v</span>ar replacementLineCount=replacementLineEndings.length;<span class="cstat-no" title="statement not covered" >v</span>ar lastLineNumber=lastRange.startLine+replacementLineEndings.length-1;<span class="cstat-no" title="statement not covered" >v</span>ar lastColumnNumber=lastRange.startColumn;<span class="cstat-no" title="statement not covered" >i</span>f(replacementLineEndings.length&gt;1)</span>
<span class="cstat-no" title="statement not covered" >lastColumnNumber=replacementLineEndings[replacementLineCount-1]-replacementLineEndings[replacementLineCount-2]-1;<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.editRange(range,text);<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.revealPosition(lastLineNumber,lastColumnNumber);<span class="cstat-no" title="statement not covered" >t</span>his._textEditor.setSelection(WebInspector.TextRange.createFromLocation(lastLineNumber,lastColumnNumber));}</span>,_collectRegexMatches:<span class="fstat-no" title="function not covered" >function(regexObject)</span>
{<span class="cstat-no" title="statement not covered" >var ranges=[];<span class="cstat-no" title="statement not covered" >f</span>or(var i=0;i&lt;this._textEditor.linesCount;++i){<span class="cstat-no" title="statement not covered" >var line=this._textEditor.line(i);<span class="cstat-no" title="statement not covered" >v</span>ar offset=0;<span class="cstat-no" title="statement not covered" >d</span>o{<span class="cstat-no" title="statement not covered" >var match=regexObject.exec(line);<span class="cstat-no" title="statement not covered" >i</span>f(match){<span class="cstat-no" title="statement not covered" >var matchEndIndex=match.index+Math.max(match[0].length,1);<span class="cstat-no" title="statement not covered" >i</span>f(match[0].length)</span></span></span></span>
<span class="cstat-no" title="statement not covered" >ranges.push(new WebInspector.TextRange(i,offset+match.index,i,offset+matchEndIndex));<span class="cstat-no" title="statement not covered" >o</span>ffset+=matchEndIndex;<span class="cstat-no" title="statement not covered" >l</span>ine=line.substring(matchEndIndex);}</span>}while(match&amp;&amp;line);}
<span class="cstat-no" title="statement not covered" >return ranges;}</span>,populateLineGutterContextMenu:<span class="fstat-no" title="function not covered" >function(contextMenu,lineNumber)</span>
{<span class="cstat-no" title="statement not covered" >return Promise.resolve();}</span>,populateTextAreaContextMenu:<span class="fstat-no" title="function not covered" >function(contextMenu,lineNumber,columnNumber)</span>
{<span class="cstat-no" title="statement not covered" >return Promise.resolve();}</span>,onJumpToPosition:<span class="fstat-no" title="function not covered" >function(from,to)</span>
{<span class="cstat-no" title="statement not covered" >this.dispatchEventToListeners(WebInspector.SourceFrame.Events.JumpHappened,{from:from,to:to});}</span>,canEditSource:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >return false;}</span>,selectionChanged:<span class="fstat-no" title="function not covered" >function(textRange)</span>
{<span class="cstat-no" title="statement not covered" >this._updateSourcePosition();<span class="cstat-no" title="statement not covered" >t</span>his.dispatchEventToListeners(WebInspector.SourceFrame.Events.SelectionChanged,textRange);<span class="cstat-no" title="statement not covered" >W</span>ebInspector.notifications.dispatchEventToListeners(WebInspector.SourceFrame.Events.SelectionChanged,textRange);}</span>,_updateSourcePosition:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >var selections=this._textEditor.selections();<span class="cstat-no" title="statement not covered" >i</span>f(!selections.length)</span>
<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >i</span>f(selections.length&gt;1){<span class="cstat-no" title="statement not covered" >this._sourcePosition.setText(WebInspector.UIString("%d selection regions",selections.length));<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >var textRange=selections[0];<span class="cstat-no" title="statement not covered" >i</span>f(textRange.isEmpty()){<span class="cstat-no" title="statement not covered" >this._sourcePosition.setText(WebInspector.UIString("Line %d, Column %d",textRange.endLine+1,textRange.endColumn+1));<span class="cstat-no" title="statement not covered" >r</span>eturn;}</span></span>
<span class="cstat-no" title="statement not covered" >textRange=textRange.normalize();<span class="cstat-no" title="statement not covered" >v</span>ar selectedText=this._textEditor.copyRange(textRange);<span class="cstat-no" title="statement not covered" >i</span>f(textRange.startLine===textRange.endLine)</span>
<span class="cstat-no" title="statement not covered" >this._sourcePosition.setText(WebInspector.UIString("%d characters selected",selectedText.length));e</span>lse
<span class="cstat-no" title="statement not covered" >this._sourcePosition.setText(WebInspector.UIString("%d lines, %d characters selected",textRange.endLine-textRange.startLine+1,selectedText.length));}</span>,scrollChanged:<span class="fstat-no" title="function not covered" >function(lineNumber)</span>
{<span class="cstat-no" title="statement not covered" >this.dispatchEventToListeners(WebInspector.SourceFrame.Events.ScrollChanged,lineNumber);}</span>,_handleKeyDown:<span class="fstat-no" title="function not covered" >function(e)</span>
{<span class="cstat-no" title="statement not covered" >var shortcutKey=WebInspector.KeyboardShortcut.makeKeyFromEvent(e);<span class="cstat-no" title="statement not covered" >v</span>ar handler=this._shortcuts[shortcutKey];<span class="cstat-no" title="statement not covered" >i</span>f(handler&amp;&amp;handler())</span>
<span class="cstat-no" title="statement not covered" >e.consume(true);}</span>,__proto__:WebInspector.VBoxWithToolbarItems.prototype}
<span class="cstat-no" title="statement not covered" >WebInspector.TextEditorDelegateForSourceFrame=<span class="fstat-no" title="function not covered" >function(sourceFrame)</span></span>
{<span class="cstat-no" title="statement not covered" >this._sourceFrame=sourceFrame;}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.TextEditorDelegateForSourceFrame.prototype={onTextChanged:<span class="fstat-no" title="function not covered" >function(oldRange,newRange)</span></span>
{<span class="cstat-no" title="statement not covered" >this._sourceFrame.onTextChanged(oldRange,newRange);}</span>,selectionChanged:<span class="fstat-no" title="function not covered" >function(textRange)</span>
{<span class="cstat-no" title="statement not covered" >this._sourceFrame.selectionChanged(textRange);}</span>,scrollChanged:<span class="fstat-no" title="function not covered" >function(lineNumber)</span>
{<span class="cstat-no" title="statement not covered" >this._sourceFrame.scrollChanged(lineNumber);}</span>,editorFocused:<span class="fstat-no" title="function not covered" >function()</span>
{<span class="cstat-no" title="statement not covered" >this._sourceFrame._editorFocused();}</span>,populateLineGutterContextMenu:<span class="fstat-no" title="function not covered" >function(contextMenu,lineNumber)</span>
{<span class="cstat-no" title="statement not covered" >return this._sourceFrame.populateLineGutterContextMenu(contextMenu,lineNumber);}</span>,populateTextAreaContextMenu:<span class="fstat-no" title="function not covered" >function(contextMenu,lineNumber,columnNumber)</span>
{<span class="cstat-no" title="statement not covered" >return this._sourceFrame.populateTextAreaContextMenu(contextMenu,lineNumber,columnNumber);}</span>,onJumpToPosition:<span class="fstat-no" title="function not covered" >function(from,to)</span>
{<span class="cstat-no" title="statement not covered" >this._sourceFrame.onJumpToPosition(from,to);}</span>};<span class="cstat-no" title="statement not covered" >WebInspector.ResourceSourceFrame=<span class="fstat-no" title="function not covered" >function(resource)</span></span>
{<span class="cstat-no" title="statement not covered" >this._resource=resource;<span class="cstat-no" title="statement not covered" >W</span>ebInspector.SourceFrame.call(this,resource.contentURL(),resource.requestContent.bind(resource));}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.ResourceSourceFrame.createSearchableView=<span class="fstat-no" title="function not covered" >function(resource,highlighterType)</span></span>
{<span class="cstat-no" title="statement not covered" >var sourceFrame=new WebInspector.ResourceSourceFrame(resource);<span class="cstat-no" title="statement not covered" >s</span>ourceFrame.setHighlighterType(highlighterType);<span class="cstat-no" title="statement not covered" >v</span>ar searchableView=new WebInspector.SearchableView(sourceFrame);<span class="cstat-no" title="statement not covered" >s</span>earchableView.setPlaceholder(WebInspector.UIString("Find"));<span class="cstat-no" title="statement not covered" >s</span>ourceFrame.show(searchableView.element);<span class="cstat-no" title="statement not covered" >s</span>ourceFrame.setSearchableView(searchableView);<span class="cstat-no" title="statement not covered" >r</span>eturn searchableView;}</span>
<span class="cstat-no" title="statement not covered" >WebInspector.ResourceSourceFrame.prototype={get resource<span class="fstat-no" title="function not covered" >()</span></span>
{<span class="cstat-no" title="statement not covered" >return this._resource;}</span>,populateTextAreaContextMenu:<span class="fstat-no" title="function not covered" >function(contextMenu,lineNumber,columnNumber)</span>
{<span class="cstat-no" title="statement not covered" >contextMenu.appendApplicableItems(this._resource);<span class="cstat-no" title="statement not covered" >r</span>eturn Promise.resolve();}</span>,__proto__:WebInspector.SourceFrame.prototype};<span class="cstat-no" title="statement not covered" >Runtime.cachedResources["cm/codemirror.css"]="/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror div.CodeMirror-cursor {\n  border-left: 1px solid black;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.CodeMirror.cm-fat-cursor div.CodeMirror-cursor {\n  width: auto;\n  border: 0;\n  background: #7e7;\n}\n.CodeMirror.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n@-moz-keyframes blink {\n  0% { background: #7e7; }\n  50% { background: none; }\n  100% { background: #7e7; }\n}\n@-webkit-keyframes blink {\n  0% { background: #7e7; }\n  50% { background: none; }\n  100% { background: #7e7; }\n}\n@keyframes blink {\n  0% { background: #7e7; }\n  50% { background: none; }\n  100% { background: #7e7; }\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\ndiv.CodeMirror-overwrite div.CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3 {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background { background: #e8f2ff; }\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  line-height: 1;\n  position: relative;\n  overflow: hidden;\n  background: white;\n  color: black;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actuall scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  display: inline-block;\n  margin-bottom: -30px;\n  /* Hack to make IE7 behave */\n  *zoom:1;\n  *display:inline;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  height: 100%;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n}\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  overflow: auto;\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.CodeMirror-measure pre { position: static; }\n\n.CodeMirror div.CodeMirror-cursor {\n  position: absolute;\n  border-right: none;\n  width: 0;\n}\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n\n.cm-searching {\n  background: #ffa;\n  background: rgba(255, 255, 0, .4);\n}\n\n/* IE7 hack to prevent it from returning funny offsetTops on the spans */\n.CodeMirror span { *vertical-align: text-bottom; }\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n\n/*# sourceURL=cm/codemirror.css */";<span class="cstat-no" title="statement not covered" >R</span>untime.cachedResources["source_frame/cmdevtools.css"]=".CodeMirror {\n    line-height: 1.2em !important;\n    background-color: transparent !important;\n}\n\n.CodeMirror-linewidget {\n    overflow: visible !important;\n}\n\n.CodeMirror-gutter-performance {\n    width: 74px;\n    background-color: white;\n    margin-left: 3px;\n}\n\n.CodeMirror .source-frame-eval-expression {\n    outline: 0;\n    border: 1px solid rgb(163, 41, 34);\n    border-left-width: 0;\n    border-right-width: 0;\n    background-color: rgb(255, 255, 194);\n}\n\n.CodeMirror .source-frame-eval-expression-end {\n    border-right-width: 1px;\n    margin-right: -1px;\n}\n\n.CodeMirror .source-frame-eval-expression-start {\n    border-left-width: 1px;\n    margin-left: -1px;\n}\n\n.CodeMirror-readonly .CodeMirror-cursor {\n    display: none;\n}\n\n.CodeMirror .CodeMirror-gutters {\n    border-right: 1px solid rgb(187, 187, 187);\n    background-color: #eee;\n}\n\n.CodeMirror .CodeMirror-linenumber {\n    color: rgb(128, 128, 128);\n}\n\n.CodeMirror-linenumber {\n    min-width: 22px !important;\n}\n\n.cm-highlight {\n    -webkit-animation: fadeout 2s 0s;\n}\n.-theme-with-dark-background .cm-highlight {\n    -webkit-animation: fadeout-dark 2s 0s;\n}\n@-webkit-keyframes fadeout {\n    from {background-color: rgb(255, 255, 120); }\n    to { background-color: white; }\n}\n@-webkit-keyframes fadeout-dark {\n    from {background-color: hsla(133, 100%, 30%, 0.5); }\n    to { background-color: transparent; }\n}\n\n.cm-highlight.cm-execution-line {\n    -webkit-animation: fadeout-execution-line 1s 0s;\n}\n@-webkit-keyframes fadeout-execution-line {\n    from {background-color: rgb(121, 141, 254); }\n    to { background-color: rgb(171, 191, 254); }\n}\n\n.cm-breakpoint .CodeMirror-linenumber {\n    color: white;\n    border-width: 1px 4px 1px 1px !important;\n    -webkit-border-image: url(Images/breakpoint.png) 1 4 1 1;\n    margin: 0 0 0 3px !important;\n    padding-right: 3px;\n    padding-left: 1px;\n    height: 11px;\n    line-height: 12px !important;\n    border-style: solid;\n}\n\n.cm-line-without-source-mapping {\n    background-color: #fafafa;\n}\n\n.cm-breakpoint.cm-breakpoint-conditional .CodeMirror-linenumber {\n    -webkit-border-image: url(Images/breakpointConditional.png) 1 4 1 1;\n}\n\n@media (-webkit-min-device-pixel-ratio: 1.5) {\n.cm-breakpoint .CodeMirror-linenumber {\n    -webkit-border-image: url(Images/breakpoint_2x.png) 2 8 2 2;\n}\n.cm-breakpoint.cm-breakpoint-conditional .CodeMirror-linenumber {\n    -webkit-border-image: url(Images/breakpointConditional_2x.png) 2 8 2 2;\n}\n} /* media */\n\n.cm-breakpoint-disabled .CodeMirror-linenumber {\n    opacity: 0.5;\n}\n\n.breakpoints-deactivated .cm-breakpoint .CodeMirror-linenumber {\n    opacity: 0.5;\n}\n\n.breakpoints-deactivated .cm-breakpoint-disabled .CodeMirror-linenumber {\n    opacity: 0.3;\n}\n\n.CodeMirror-matchingbracket {\n    border-bottom: 1px solid black;\n    color: #222 !important;\n}\n\n.CodeMirror-nonmatchingbracket {\n    color: #222 !important;\n}\n\n.cm-whitespace::before {\n    position: absolute;\n    pointer-events: none;\n    color: rgb(175, 175, 175);\n}\n\n.cm-tab {\n    position: relative;\n}\n\n.cm-tab:before {\n    display: none;\n    content: \".\";\n    color: transparent;\n    border-bottom: 1px solid rgb(175, 175, 175);\n    position: absolute;\n    width: 90%;\n    bottom: 50%;\n    left: 5%;\n}\n\n.show-whitespaces .CodeMirror .cm-tab:before {\n    display: block !important;\n}\n\n.cm-execution-line,\n.-theme-selection-color {\n    background-color: rgb(230, 236, 255);\n    outline: 1px solid rgb(64, 115, 244);\n}\n\n.cm-execution-line-tail,\n.-theme-selection-color {\n    background-color: rgb(171, 191, 254);\n}\n\n.cm-execution-line .CodeMirror-linenumber,\n.-theme-selection-color {\n    border-right: 1px solid rgb(64, 115, 244);\n}\n\n.cm-token-highlight {\n    position: relative;\n}\n\n.cm-token-highlight:before {\n    position: absolute;\n    border: 1px solid gray;\n    border-radius: 3px;\n    top: 0;\n    bottom: -1px;\n    left: 0;\n    right: 0;\n    content: \"\";\n}\n\n.cm-line-with-selection .cm-column-with-selection:before {\n    border: none;\n}\n\n.cm-search-highlight {\n    position: relative;\n}\n\n.cm-search-highlight:before {\n    position: absolute;\n    border-top-style: solid;\n    border-bottom-style: solid;\n    border-top-color: gray;\n    border-bottom-color: gray;\n    border-top-width: 1px;\n    border-bottom-width: 1px;\n    top: -1px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    content: \"\";\n}\n\n.cm-search-highlight-full:before {\n    border: 1px solid gray;\n    border-radius: 3px;\n}\n\n.cm-search-highlight-start:before {\n    border-left-width: 1px;\n    border-top-left-radius: 2px;\n    border-bottom-left-radius: 2px;\n    border-left-style: solid;\n    border-left-color: gray;\n}\n\n.cm-search-highlight-end:before {\n    border-right-width: 1px;\n    border-top-right-radius: 2px;\n    border-bottom-right-radius: 2px;\n    border-right-style: solid;\n    border-right-color: gray;\n}\n\n.cm-line-with-selection .cm-column-with-selection.cm-search-highlight-full:before {\n    border-radius: 1px;\n}\n\n.cm-line-with-selection .cm-column-with-selection.cm-search-highlight-start:before {\n    border-top-left-radius: 1px;\n    border-bottom-left-radius: 1px;\n}\n\n.cm-line-with-selection .cm-column-with-selection.cm-search-highlight-end:before {\n    border-top-right-radius: 1px;\n    border-bottom-right-radius: 1px;\n}\n\n.cm-line-with-selection .cm-column-with-selection.cm-search-highlight:before {\n    margin: -1px -1px -1px -1px;\n    background-color: rgb(241, 234, 0);\n    z-index: -1;\n}\n\n.-theme-with-dark-background .cm-line-with-selection .cm-column-with-selection.cm-search-highlight:before {\n    background-color: hsl(133, 100%, 30%);\n}\n\n.-theme-with-dark-background .cm-line-with-selection .cm-search-highlight {\n    color: #eee;\n}\n\n.CodeMirror .text-editor-line-marker-performance {\n    text-align: right;\n    padding-right: 3px;\n}\n\n.CodeMirror .text-editor-line-decoration {\n    position: absolute;\n}\n\n.CodeMirror .text-editor-line-decoration-wave {\n    position: absolute;\n    top: -2px;\n    cursor: pointer;\n    height: 4px;\n}\n\n.CodeMirror .text-editor-value-decoration {\n    position: absolute;\n    bottom: 0;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 1000px;\n    opacity: 0.8;\n    background-color: #FFE3C7;\n    margin-left: 10px;\n    padding-left: 5px;\n    color: #222;\n    -webkit-user-select: text;\n}\n\n.CodeMirror .cm-execution-line .text-editor-value-decoration {\n    background-color: transparent;\n    opacity: 0.5;\n}\n\n.text-editor-messages-description-container {\n    display: inline-block;\n}\n\n.text-editor-row-message:first-child {\n    border-top-width: 0;\n}\n\n.text-editor-row-message {\n    border-top: 1px solid rgb(215, 215, 215);\n    line-height: 1.2;\n    white-space: nowrap;\n    display: flex;\n}\n\n.text-editor-row-message .bubble-repeat-count {\n    margin-right: 1ex;\n    margin-top: -1px;\n}\n\n.CodeMirror .text-editor-line-decoration-icon {\n    position: absolute;\n    cursor: pointer;\n    right: -16px;\n    top: -9px;\n}\n\n.CodeMirror .text-editor-line-with-warning:not(.cm-execution-line) {\n    background-color: rgba(241, 230, 0, 0.1);\n}\n\n.CodeMirror .text-editor-line-with-error:not(.cm-execution-line) {\n    background-color: rgba(255, 0, 0, 0.05);\n}\n\n.CodeMirror .text-editor-line-decoration-wave {\n    background-image: url(Images/errorWave.png);\n    background-repeat: repeat-x;\n    background-size: contain;\n}\n\n@media (-webkit-min-device-pixel-ratio: 1.5) {\n.CodeMirror .text-editor-line-decoration-wave {\n    background-image: url(Images/errorWave_2x.png);\n}\n} /* media */\n\n/** @see crbug.com/358161 */\n.CodeMirror .CodeMirror-vscrollbar, .CodeMirror .CodeMirror-hscrollbar {\n    transform: translateZ(0);\n}\n\n.CodeMirror .CodeMirror-activeline-background {\n    background-color: transparent;\n}\n\n.cm-trailing-whitespace {\n    background-color: rgba(255, 0, 0, 0.05);\n}\n\n.CodeMirror-activeline .cm-trailing-whitespace {\n    background-color: transparent;\n}\n\n.-theme-with-dark-background .CodeMirror .CodeMirror-selected {\n    background-color: #454545;\n}\n\n/*# sourceURL=source_frame/cmdevtools.css */";<span class="cstat-no" title="statement not covered" >R</span>untime.cachedResources["source_frame/fontView.css"]="/*\n * Copyright (c) 2014 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.font-view {\n    font-size: 60px;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    text-align: center;\n    padding: 15px;\n}\n\n/*# sourceURL=source_frame/fontView.css */";<span class="cstat-no" title="statement not covered" >R</span>untime.cachedResources["source_frame/imageView.css"]="/*\n * Copyright (c) 2014 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.image-view {\n    overflow: auto;\n}\n\n.image-view &gt; .image {\n    padding: 20px 20px 10px 20px;\n    text-align: center;\n}\n\n.image-view img.resource-image-view {\n    max-width: 100%;\n    max-height: 1000px;\n    background-image: url(Images/checker.png);\n    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.5);\n    -webkit-user-select: text;\n    -webkit-user-drag: auto;\n}\n\n/*# sourceURL=source_frame/imageView.css */";</span>
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Fri Apr 21 2017 09:11:06 GMT+0000 (UTC)</div>
</div>
</body>
</html>
